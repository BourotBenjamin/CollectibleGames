<?php	function construct_navbits($array)	{}	function print_header($navbits, $headeralerts, $navbar, $user, $prepage)	{	echo '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">	<html xmlns="http://www.w3.org/1999/xhtml">	<head>	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />	<meta name="keywords" content="collection, retro, gaming, retrogaming, games, jeu, jeux, vidéo, vidéos, jeux-videos, jeuxvideo, nintendo, sega, sony, microsoft, xbox, playstation, nes, megadrive, sonic, mario, gta, ps" />	<meta name="description" content="Bienvenue sur Collectible Games ! Ici, vous pourrez vous renseigner sur certaines versions de jeux vidéos, vous pourrez gérer votre collection et vous pourrez partager votre passion sur le forum." />	<meta name="robots" content="index, follow" />	<title>'.($navbits?end($navbits).' - ':'').'Collectible Games</title><link rel="icon" type="image/png" href="./images/favicon.png">	<link href="css/templatemo_style.css" rel="stylesheet" type="text/css" />	<link rel="stylesheet" type="text/css" href="css/dropzone.css"/>	<link rel="stylesheet" type="text/css" href="css/ddsmoothmenu.css" />	<link rel="stylesheet" type="text/css" href="css/alertify.bootstrap.css" />	<link rel="stylesheet" type="text/css" href="css/alertify.core.css" />	<link rel="stylesheet" type="text/css" href="css/alertify.default.css" />	<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />	<link rel="stylesheet" type="text/css" href="css/demo_table.css" />	<link rel="stylesheet" type="text/css" media="screen" href="js/zoombox/zoombox.css" />	<script type="text/javascript" src="js/ddsmoothmenu.js"></script> 	<script type="text/JavaScript" src="js/jquery-1.9.1.js"></script>	<script type="text/JavaScript" src="js/jquery-ui.js"></script>	<script type="text/JavaScript" src="js/jquery-migrate-1.2.1.min.js"></script> 	<script type="text/JavaScript" src="js/jquery.mousewheel.js"></script> 	<script type="text/JavaScript" src="js/alertify.min.js"></script> 	<script type="text/JavaScript" src="js/jquery.dataTables.js"></script> 	<script type="text/JavaScript" src="js/dropzone.js"></script>    <script type="text/javascript" src="js/zoombox/zoombox.js"></script>	<script>	/***********************************************	* Smooth Navigational Menu- (c) Dynamic Drive DHTML code library (www.dynamicdrive.com)	* This notice MUST stay intact for legal use	* Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code	***********************************************/	</script>	<script type="text/javascript">	ddsmoothmenu.init({		mainmenuid: "templatemo_menu", //menu DIV id		orientation: \'h\', //Horizontal or vertical menu: Set to "h" or "v"		classname: \'ddsmoothmenu\', //class added to menu\'s outer DIV		//customtheme: ["#1c5a80", "#18374a"],		contentsource: "markup" //"markup" or ["container_id", "path_to_menu_file"]	})	</script> 	<!-- Load the CloudCarousel JavaScript file -->	<script type="text/JavaScript" src="js/cloud-carousel.1.0.5.js"></script>	 	<script type="text/javascript">	$(document).ready(function(){							   		// This initialises carousels on the container elements specified, in this case, carousel1.		$("#carousel1").CloudCarousel(					{							reflHeight: 40,				reflGap:2,				titleBox: $(\'#da-vinci-title\'),				altBox: $(\'#da-vinci-title\'),				buttonLeft: $(\'#slider-left-but\'),				buttonRight: $(\'#slider-right-but\'),				yRadius:30,				xPos: 480,				yPos: 32,				speed:0.15,			}		);	});	 	</script>	<script>  (function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,"script","//www.google-analytics.com/analytics.js","ga");  ga("create", "UA-48763424-1", "collectible-games.com");  ga("send", "pageview");</script>	<SCRIPT TYPE="text/javascript" LANGUAGE="javascript">	function waitPreloadPage() {	  if (document.getElementById){		document.getElementById(\'prepage\').style.visibility=\'hidden\';		  $("#prepage").css("height", \'1%\');	window.scrollTo(0,0);	  }else{		if (document.layers){ //NS4		  document.prepage.visibility = \'hidden\';		  $("#prepage").css("height", \'1%\');	window.scrollTo(0,0);		}		else { //IE4		  document.all.prepage.style.visibility = \'hidden\';		  $("#prepage").css("height", \'1%\');	window.scrollTo(0,0);		}	  }	}	// End -->	</SCRIPT>	'.$headeralerts.	($user->data['user_new_privmsg']>0?'	<script>		$(function(){			alertify.alert("Vous avez un nouveau MP");		});	</script>':'').'	</head>	<body id="home" onLoad="waitPreloadPage();">			<DIV id="prepage" style="z-index:30000; position:absolute; font-family:arial; font-size:16; left:0px; top:0px; background-color:white; layer-background-color:white; height:1000%; width:100%;"> 	<TABLE height=400px></TABLE>	<TABLE width=100% style="text-align:center;"><TR><TD><B>Chargement en cours ... Veuillez patienter.</B></TD></TR></TABLE>	</DIV>	<div id="templatemo_header_wrapper">';					if(isset($user->data['user_id']) && $user->data['user_id']!=1)					{						echo '<br><div class="connectRight"><br><form action="" method=POST> 						Bienvenue '.$user->data['username'].'<br>						<a href="./forum/ucp.php?i=pm&folder=inbox">'.$user->data['user_new_privmsg'].' nouveaux MP<br>'.$user->data['user_unread_privmsg'].' non lus</a><br>						<input type=submit name=logout value="Déconnexion">						</form></div>';					}					else					{											echo '</ul><br><div class="connectRight"><br>						<form action="" method=POST> 						<input type=TEXT name=username value="Pseudo" size=15 onclick="this.value=\'\';" /><br>						<input type=password name=password value="password" size=15 onclick="this.value=\'\';" /><br>						<input type=submit name=login value="Connexion">						</form></div>';					}		 echo '		<div id="site_title"><h1><a href="./index.php" rel="nofollow">Collectible Games</a></h1></div>			<div class="cleaner"></div>			<div id="templatemo_menu" class="ddsmoothmenu">			<ul>				<li><a href="index.php" '.($navbar==0?'class="selected"':'').'>Accueil</a></li>				<li><a href="bddjv.php" '.($navbar==1?'class="selected"':'').'>Base de donnée</a>					<ul>						<li><a href="bddjv.php">Voir la base</a></li>						<li><a href="bddjv.php?action=add">Ajouter un jeu</a></li>						<li><a href="bddjv.php?action=addConsole">Ajouter une console</a></li>						<li><a href="bddjv.php?action=addAccessoire">Ajouter un accessoire</a></li>					</ul>				</li>				<li><a href="collection.php" '.($navbar==2?'class="selected"':'').'>Collection</a>                					<ul>						<li><span class="top"></span><span class="bottom"></span></li>						<li><a rel="nofollow" href="collection.php">Votre collection</a></li>						<li><a rel="nofollow" href="collection.php?action=listMembers">Liste des membres</a></li>					</ul>				</li>				<li><a href="forum/index.php">Forum</a></li>';				if(!isset($user->data['user_id']) || $user->data['user_id']==1)				{					echo '<li><a href="./forum/ucp.php?mode=register" text-align=center >Inscription</a></li>';				}			echo '</ul>			<br />		</div> <!-- end of templatemo_menu -->		<div class="cleaner"></div>	</div>	<!-- END of templatemo_header_wrapper -->';	if($prepage==0)	{		echo '<div id="templatemo_main">';		if(is_array($navbits))		{			echo 'Vous êtes ici';			foreach($navbits as $url=>$description)			{				echo ' > <a href="'.$url.'">'.$description.'</a>';			}		}		echo '<br>';	}	}		function print_footer()	{		$page = '					<div class="cleaner"></div></div><div id="templatemo_bottom_wrapper">				<div id="templatemo_bottom">					<div class="col one_third">						<h4><span></span>Collectible Games ? Kézako ?</h4>						<div class="bottom_box">							<p><em>Collectible Games représente une philosophie simple. Des outils pour des passionnés faits par des passionnés. Il sont faits pour vous aider à partager votre passion et pour vous aider à la vivre pleinement.</em></p><br />              						</div>					</div>					<div class="col one_third">						<h4><span></span>Infos pratiques</h4>						<div class="bottom_box">							<ul class="twitter_post">								<li><a href="equipe.php">L\'équipe</a></li>								<li><a href="contact.php">Contact / FAQ</a></li>								<li><a href="suggestion.php">Une suggestion ? Un bug ?</a></li>							</ul>						</div>					</div>					<div class="col one_third no_margin_right">					<h4><span></span>Aidez nous</h4>						<div id="center" class="bottom_box">							Aidez nous à financer le serveur :<br>							<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">								<input type="hidden" name="cmd" value="_s-xclick">								<input type="hidden" name="hosted_button_id" value="X5W3MALDPY7CG">								<input type="image" src="https://www.paypalobjects.com/fr_FR/FR/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="PayPal - la solution de paiement en ligne la plus simple et la plus sécurisée !">								<img alt="" border="0" src="https://www.paypalobjects.com/fr_FR/i/scr/pixel.gif" width="1" height="1">							</form>							<br>							Retrouvez nous sur les réseaux sociaux<br>							<a href="https://www.facebook.com/collectible.games" ><img height=50 width=50 src="images/facebook.png" title="Facebook" /></a>							<a href="https://twitter.com/CollectibleGame" ><img height=50 width=50 src="images/twitter.png" title="Twitter" /></a>						</div>											</div>					<div class="cleaner"></div>				</div> <!-- END of tempatemo_bottom -->			</div> <!-- END of tempatemo_bottom_wrapper -->			<div id="templatemo_footer_wrapper">				<div id="templatemo_footer">					Copyright © 2014				</div> <!-- END of templatemo_footer_wrapper -->			</div> <!-- END of templatemo_footer -->			</body>			</html>';			echo $page;		}	function affiche_marques($marques)	{		echo "<div id='center'> <h1>Base de donnée des jeux vidéos</h1> </div>		<div class='right'><a href='bddjv.php?action=find'><h3>Recherche avancée<h3></a></div><div class='clear'></div><div class='marques' id='center'>";		$w=0;		foreach($marques as $marque)		{			if($marque->getAttr("id_editeur")!=0)			{				$x=0;				if(is_file($marque->getAttr("logo_editeur")))				{					$img = getimagesize($marque->getAttr("logo_editeur"));					$x=$img[0]*(50/$img[1]);				}				echo"<a href='bddjv.php?marque=".$marque->getAttr("id_editeur")."' ><img height=50 width=".$x." src='".$marque->getAttr("logo_editeur")."' title='".$marque->getAttr("nom_editeur")."' ></a>";			}		}				echo"</div><br><br>";				//echo"<div id='center'><a href='bddjv.php?action=search'>Afficher tout les jeux</a> / <a href='bddjv.php?action=searchConsoles'>Afficher tout les packs</a> / <a href='bddjv.php?action=searchAccessoires'>Afficher tout les accessoires</a></div>";								echo"<div id='center'>Collectible games, c'est :<br>				".comptePlatefomes()." plateformes réparties dans ".compteMarques()." marques. <br>				".compteJeux()." jeux déclinés en ".compteVersionsJeux()." versions. <br>				".compteVersionsConsoles()." packs déclinés en ".compteVersionsConsoles()." versions. <br>				".compteVersionsAccessoires()." accessoires déclinés en ".compteVersionsAccessoires()." versions. </div>";	}		function afficher_recherche($developpeurs, $editeurs, $editions, $plateformes, $regions, $types_jeux, $types_accessoires, $groupes, $commandes, $langues, $supports, $formats)	{		echo "<div class=Titre>Rechercher une information</div><br><table class='src'><tr>		<th> Rechercher un jeu <br>		<form action='' method=POST class='srcJeu'>		Nom : <input type=text name=jeu><br>		Plateforme : <div class='multiselect'>";		foreach($plateformes as $plateforme)		{			echo '<label><input type="checkbox" name="plateforme[]" value='.$plateforme->getAttr('id_plateforme').' />'.$plateforme->getAttr('nom_plateforme').'</label>';		}		echo"</div><br>			Développeur : <div class='multiselect'>";		foreach($developpeurs as $developpeur)		{			echo '<label><input type="checkbox" name="developpeur[]" value='.$developpeur->getAttr('id_developpeur').' />'.$developpeur->getAttr('nom_developpeur').'</label>';		}		echo"</div><br>			Type : <div class='multiselect'>";		foreach($types_jeux as $type_jeu)		{			echo '<label><input type="checkbox" name="type_jeu[]" value='.$type_jeu->getAttr('id_type_jeu').' />'.$type_jeu->getAttr('nom_type_jeu').'</label>';		}		echo"</div><br>			Groupe : <div class='multiselect'>";		foreach($groupes as $groupe)		{			echo '<label><input type="checkbox" name="groupe[]" value='.$groupe->getAttr('id_groupe').' />'.$groupe->getAttr('nom_groupe').'</label>';		}		echo"</div><br>				Region : <div class='multiselect'>";		foreach($regions as $region)		{			echo '<label><input type="checkbox" name="region[]" value='.$region->getAttr('id_region').' />'.$region->getAttr('nom_region').'</label>';		}		echo"</div><br>		Edition : <div class='multiselect'>";		foreach($editions as $edition)		{			echo '<label><input type="checkbox" name="edition[]" value='.$edition->getAttr('id_edition').' />'.$edition->getAttr('nom_edition').'</label>';		}		echo"</div><br>		Editeur : <div class='multiselect'>";		foreach($editeurs as $editeur)		{			echo '<label><input type="checkbox" name="editeur[]" value='.$editeur->getAttr('id_editeur').' />'.$editeur->getAttr('nom_editeur').'</label>';		}		echo"</div><br>		Support : <div class='multiselect'>";		foreach($supports as $support)		{			echo '<label><input type="checkbox" name="support[]" value='.$support->getAttr('id_support').' />'.$support->getAttr('nom_support').'</label>';		}		echo"</div><br>		Format : <div class='multiselect'>";		foreach($formats as $format)		{			echo '<label><input type="checkbox" name="format[]" value='.$format->getAttr('id_format').' />'.$format->getAttr('nom_format').'</label>';		}		echo"</div><br>		Langue : <div class='multiselect'>";		foreach($langues as $langue)		{			echo '<label><input type="checkbox" name="langue[]" value='.$langue->getAttr('id_langue').' />'.$langue->getAttr('nom_langue').'</label>';		}		echo"</div><br>		Contrôleur : <div class='multiselect'>";		foreach($commandes as $commande)		{			echo '<label><input type="checkbox" name="commande[]" value='.$commande->getAttr('id_commande').' />'.$commande->getAttr('nom_commande').'</label>';		}		echo"</div><br>		Existe sur : <div class='multiselect'>";		foreach($plateformes as $plateforme)		{			echo '<label><input type="checkbox" name="autre_plateforme[]" value='.$plateforme->getAttr('id_plateforme').' />'.$plateforme->getAttr('nom_plateforme').'</label>';		}		echo"</div><br>		*Note : Pour les champs multiples, un OU logique est appliqué.*<br>		<input type=submit name=srcJeu value=Rechercher></form></th>		<th> Rechercher un pack <br>		<form action='' method=POST>		Nom : <input type=text name=pack><br>		Plateforme : <div class='multiselect'>";		foreach($plateformes as $plateforme)		{			echo '<label><input type="checkbox" name="plateforme[]" value='.$plateforme->getAttr('id_plateforme').' />'.$plateforme->getAttr('nom_plateforme').'</label>';		}		echo"</div><br>		Editeur : <div class='multiselect'>";		foreach($editeurs as $editeur)		{			echo '<label><input type="checkbox" name="editeur[]" value='.$editeur->getAttr('id_editeur').' />'.$editeur->getAttr('nom_editeur').'</label>';		}		echo"</div><br>				Region : <div class='multiselect'>";		foreach($regions as $region)		{			echo '<label><input type="checkbox" name="region[]" value='.$region->getAttr('id_region').' />'.$region->getAttr('nom_region').'</label>';		}		echo"</div><br>		*Note : Pour les champs multiples, un OU logique est appliqué.*<br>		<input type=submit name=srcPac value=Rechercher></form><br></th>		<th> Rechercher un accessoire <br>		<form action='' method=POST>		Nom : <input type=text name=accessoire><br>		Plateforme : <div class='multiselect'>";		foreach($plateformes as $plateforme)		{			echo '<label><input type="checkbox" name="plateforme[]" value='.$plateforme->getAttr('id_plateforme').' />'.$plateforme->getAttr('nom_plateforme').'</label>';		}		echo"</div><br>			Editeur : <div class='multiselect'>";		foreach($editeurs as $editeur)		{			echo '<label><input type="checkbox" name="editeur[]" value='.$editeur->getAttr('id_editeur').' />'.$editeur->getAttr('nom_editeur').'</label>';		}		echo"</div><br>				Region : <div class='multiselect'>";		foreach($regions as $region)		{			echo '<label><input type="checkbox" name="region[]" value='.$region->getAttr('id_region').' />'.$region->getAttr('nom_region').'</label>';		}		echo"</div><br>		Type : <div class='multiselect'>";		foreach($types_accessoires as $type_accessoire)		{			echo '<label><input type="checkbox" name="type_accessoire[]" value='.$type_accessoire->getAttr('id_type_accessoire').' />'.$type_accessoire->getAttr('nom_type_accessoire').'</label>';		}		echo"</div><br>			Zoné : <div class='multiselect'>			<label><input type='checkbox' name='zone[]' value=1 />Oui</label>			<label><input type='checkbox' name='zone[]' value=0 />Non</label>		</div><br>		*Note : Pour les champs multiples, un OU logique est appliqué.*<br>		<input type=submit name=srcAcc value=Rechercher></form><br></th>		</tr></table><br><br>";		echo'<script>		jQuery.fn.multiselect = function() {			$(this).each(function() {				var checkboxes = $(this).find("input:checkbox");				checkboxes.each(function() {					var checkbox = $(this);					// Highlight pre-selected checkboxes					if (checkbox.prop("checked"))						checkbox.parent().addClass("multiselect-on");		 					// Highlight checkboxes that the user selects					checkbox.click(function() {						if (checkbox.prop("checked"))							checkbox.parent().addClass("multiselect-on");						else							checkbox.parent().removeClass("multiselect-on");					});				});			});		};		$(function() {			 $(".multiselect").multiselect();		});		</script>';			}		function afficher_resultats($vals, $src, $type, $type2)	{		echo "<form action='' method=POST><div class='Titre'>Resultats de la recherche</div><br>";		if($src=="")		{			$src=" ";		}		$i=0;		foreach($vals as $val)		{			if(strpos(strtolower($val['nom']), strtolower($src))!==false)			{				$i++;				echo"<input type=checkbox name='".$val['id']."' value=1><a href='bddjv.php?action=".$type."&id=".$val['id']."'> ".$val['nom']."</a><br>";			}		}		if($i==0)		{			echo"Aucun résultat ne correspond à votre recherche";		}		else		{			echo"<input type=submit value='Ajouter les éléments sélectionnés à votre collection' name='validerAjoutPossession".$type2."'>";		}		echo"<br><br><div id='center'><a href='bddjv.php?action=find'>Effectuer une autre recherche</a></div><br></form>";			}		function affiche_plateformes($plateformes, $description, $id, $nom, $var)	{		echo "<div id='description'>".$description."		</div><div class=\"listPlateformes\" id=\"center\">";		foreach($plateformes as $plateforme)		{			$x=0;			if(is_file($plateforme->getAttr("logo_plateforme")))			{				$img = getimagesize($plateforme->getAttr("logo_plateforme"));				$x=$img[0]*(100/$img[1]);			}			echo"<span class='logoPlateforme'><a href='bddjv.php?plateformeLite=".$plateforme->getAttr("id_plateforme")."' ><img height=100 width=".$x." src='".$plateforme->getAttr("logo_plateforme")."' title='".$plateforme->getAttr("nom_plateforme")."' ></a>			<span><a href='bddjv.php?plateforme=".$plateforme->getAttr("id_plateforme")."' >Afficher les listes détaillées (peut être long à charger)</a></span></span>";		}		echo'</div>';		if(in_array($var->data['group_id'], Base::getModos()))		{			echo"<div class='lienAdmin'><a href='bddjv.php?action=adm&editeur=".$id."'>Modifier la marque</a></div>";		}			}		function affiche_table_jeux($jeux, $collection, $showPlateforme, $canAdd)	{		echo '<form action="" method=POST><table cellpadding="0" cellspacing="0" border="0" class="display" id="tableJeux" width="100%">			<thead>				<tr>					<th>Jeu</th>'.($showPlateforme==0?'					<th class=hidden>Plateforme</th>':'					<th>Plateforme</th>').'					<th class=hidden>Développeur</th>					<th>Type</th>					<th class=hidden>Groupe</th>					<th class=hidden>Regions</th>					<th class=hidden>Editions</th>					<th>Editeurs</th>					<th class=hidden>Supports</th>					<th class=hidden>Existe sur</th>					<th class=hidden>Langues</th>					<th>Joueurs</th>					<th class=hidden>Contrôleurs</th>					<th>Formats</th>					'.($canAdd==1?'<th>Ajouter</th>':'').'				</tr>			</thead>			<tbody>';			set_time_limit(1000);		foreach($jeux as $jeu)		{				if(in_array($jeu['id_jeu'], $collection))				{					echo '<tr class="gradeC">';				}				else				{					echo '<tr class="gradeA">';				}				echo '<td> <a href="bddjv.php?action=view&id='.$jeu['id_jeu'].'">'.$jeu['nom_jeu'].'</a> </td>					'.($showPlateforme==0?'					<td class=hidden>'.$jeu['nom_plateforme'].'</td>':'					<td>'.$jeu['nom_plateforme'].'</td>').'					<td class=hidden>'.$jeu['nom_developpeur'].'</td>					<td>'.$jeu['nom_type_jeu'].'</td>					<td class=hidden>'.$jeu['nom_groupe'].'</td>					<td class=hidden>'.$jeu['nom_region'].'</td>					<td class=hidden>'.$jeu['nom_edition'].'</td>					<td>'.$jeu['nom_editeur'].'</td>					<td class=hidden>'.$jeu['nom_support'].'</td>					<td class=hidden>'.$jeu['nom_autre_plateforme'].'</td>					<td class=hidden>'.$jeu['nom_langue'].'</td>					<td class="center">'.$jeu['nombre_joueurs'].'</td>					<td class=hidden>'.$jeu['nom_commande'].'</td>					<td>'.$jeu['nom_format'].'</td>					'.($canAdd==1?'<td class="center"><input type="checkbox" id="'.$jeu['id_jeu'].'"  name="'.$jeu['id_jeu'].'" value=1 /></td>':'').'					</tr>';		}			echo '</tbody><tfoot>						<tr>					<th> <input type="hidden" id="Jeu" /></th>					'.($showPlateforme==0?'					<th class=hidden><input type="hidden" id="Plateforme" /></th>':'					<th> <input type="hidden" id="Plateforme" /></th>').'					<th class=hidden><input type="hidden" id="Développeur" /></th>					<th> <input type="hidden" id="Type" /></th>					<th class=hidden><input type="hidden" id="Groupe" /></th>					<th class=hidden><input type="hidden" id="Region" /></th>					<th class=hidden><input type="hidden" id="Edition" /></th>					<th> <input type="hidden" id="Editeur" /></th>					<th class=hidden><input type="hidden" id="Support" /></th>					<th class=hidden>><input type="hidden" id="AutrePlateforme" /></th>					<th class=hidden><input type="hidden" id="Langue" /></th>					<th> <input type="hidden" id="nbJ" /></th>					<th class=hidden><input type="hidden" id="Commande" /></th>					<th '.($canAdd==1?'colspan=2':'').'><input type="hidden" id="Format" />'.($canAdd==1?'<input type="submit" value="Ajouter les jeux à votre collection" name="validerAjoutPossessionJeu">':'').'</th>				</tr></tfoot>		</table></form>';	}		function affiche_table_accessoires($accessoires, $collection, $showPlateforme, $canAdd)	{		echo '<form action="" method=POST><table cellpadding="0" cellspacing="0" border="0" class="display" id="tableAccessoires" width="100%">			<thead>				<tr>					<th>Accessoire</th>					<th>Type</th>					<th>Plateforme</th>					<th>Editeur</th>					<th>Zoné</th>					<th>Regions</th>					'.($canAdd==1?'<th>Ajouter</th>':'').'				</tr>			</thead>			<tbody>';			set_time_limit(1000);		foreach($accessoires as $accessoire)		{				if(in_array($accessoire['id_accessoire'], $collection))				{					echo '<tr class="gradeC">';				}				else				{					echo '<tr class="gradeA">';				}					echo '<td> <a href="bddjv.php?action=viewAccessoire&id='.$accessoire['id_accessoire'].'">'.$accessoire['nom_accessoire'].'</a> </td>					<td>'.$accessoire['nom_type_accessoire'].'</td>					<td>'.$accessoire['nom_plateforme'].'</td>					<td>'.$accessoire['nom_editeur'].'</td>					<td>'.$accessoire['zone'].'</td>					<td>'.$accessoire['nom_region'].'</td>					'.($canAdd==1?'<td class="center"><input type="checkbox" id="'.$accessoire['id_accessoire'].'"  name="'.$accessoire['id_accessoire'].'" value=1 /></td>':'').'					</tr>';		}		set_time_limit(20);		echo '</tbody><tfoot>						<tr>					<th><input type="hidden" id="Accessoire" /></th>					<th><input type="hidden" id="AccType" /></th>					<th><input type="hidden" id="AccPlateforme" /></th>					<th><input type="hidden" id="AccEditeur" /></th>					<th><input type="hidden" id="AccZone" /></th>					<th colspan=2><input type="hidden" id="AccRegion" />'.($canAdd==1?'<input type="submit" value="Ajouter les accessoires à votre collection" name="validerAjoutPossessionAccessoire">':'').'</th>				</tr></tfoot>		</table></form>';	}		function affiche_table_consoles($consoles, $collection, $showPlateforme, $canAdd)	{		echo '<form action="" method=POST><table cellpadding="0" cellspacing="0" border="0" class="display" id="tableConsoles" width="100%">			<thead>				<tr>					<th>Console</th>					<th>Plateforme</th>					<th>Editeur</th>					<th>Regions</th>					'.($canAdd==1?'<th>Ajouter </th>':'').'				</tr>			</thead>			<tbody>';			set_time_limit(1000);		foreach($consoles as $console)		{				if(in_array($console['id_console'], $collection))				{					echo '<tr class="gradeC">';				}				else				{					echo '<tr class="gradeA">';				}					echo '<td> <a href="bddjv.php?action=viewConsole&id='.$console['id_console'].'">'.$console['nom_console'].'</a> </td>					<td>'.$console['nom_plateforme'].'</td>					<td>'.$console['nom_editeur'].'</td>					<td>'.$console['nom_region'].'</td>					'.($canAdd==1?'<td class="center"><input type="checkbox" id="'.$console['id_console'].'"  name="'.$console['id_console'].'" value=1 />':'').'</td>					</tr>';		}		set_time_limit(20);		echo '</tbody><tfoot>						<tr>					<th><input type="hidden" id="Console" /></th>					<th><input type="hidden" id="ConPlateforme" /></th>					<th><input type="hidden" id="ConEditeur" /></th>					<th colspan=2><input type="hidden" id="ConRegion" />'.($canAdd==1?'<input type="submit" value="Ajouter les consoles à votre collection" name="validerAjoutPossessionConsole">':'').'</th>				</tr></tfoot>		</table></form>';	}		function affiche_table_jeux_lite($jeux, $collection, $showPlateforme, $canAdd)	{		echo '<form action="" method=POST><table cellpadding="0" cellspacing="0" border="0" class="display" id="tableJeux" width="100%">			<thead>				<tr>					<th>Jeu</th>					'.($canAdd==1?'<th>Ajouter</th>':'').'				</tr>			</thead>			<tbody>';			set_time_limit(1000);		$odd = false;		foreach($jeux as $jeu)		{				$odd=!$odd;				if(in_array($jeu['id_jeu'], $collection))				{					if($odd)					{						echo '<tr class="gradeC odd">';					}					else					{						echo '<tr class="gradeC even">';					}				}				else				{					if($odd)					{						echo '<tr class="gradeA odd">';					}					else					{						echo '<tr class="gradeA even">';					}				}				echo '<td> <a href="bddjv.php?action=view&id='.$jeu['id_jeu'].'">'.$jeu['nom_jeu'].'</a> </td>					'.($canAdd==1?'<td class="center"><input type="checkbox" id="'.$jeu['id_jeu'].'"  name="'.$jeu['id_jeu'].'" value=1 /></td>':'').'					</tr>';		}			echo ($canAdd==1?'<tr style="text-align: right"><td colspan=2><input type="submit" value="Ajouter les jeux à votre collection" name="validerAjoutPossessionJeu"></td></tr>':'').'</tbody>		</table></form>';	}		function affiche_table_accessoires_lite($accessoires, $collection, $showPlateforme, $canAdd)	{		echo '<form action="" method=POST><table cellpadding="0" cellspacing="0" border="0" class="display" id="tableAccessoires" width="100%">			<thead>				<tr>					<th>Accessoire</th>					'.($canAdd==1?'<th>Ajouter</th>':'').'				</tr>			</thead>			<tbody>';			set_time_limit(1000);		$odd = false;		foreach($accessoires as $accessoire)		{				$odd=!$odd;				if(in_array($accessoire['id_accessoire'], $collection))				{					if($odd)					{						echo '<tr class="gradeC odd">';					}					else					{						echo '<tr class="gradeC even">';					}				}				else				{					if($odd)					{						echo '<tr class="gradeA odd">';					}					else					{						echo '<tr class="gradeA even">';					}				}					echo '<td> <a href="bddjv.php?action=viewAccessoire&id='.$accessoire['id_accessoire'].'">'.$accessoire['nom_accessoire'].'</a> </td>					'.($canAdd==1?'<td class="center"><input type="checkbox" id="'.$accessoire['id_accessoire'].'"  name="'.$accessoire['id_accessoire'].'" value=1 /></td>':'').'					</tr>';		}		set_time_limit(20);		echo ($canAdd==1?'<tr style="text-align: right"><td colspan=2><input type="submit" value="Ajouter les jeux à votre collection" name="validerAjoutPossessionAccessoire"></td></tr>':'').'</tbody>		</table></form>';	}		function affiche_table_consoles_lite($consoles, $collection, $showPlateforme, $canAdd)	{		echo '<form action="" method=POST><table cellpadding="0" cellspacing="0" border="0" class="display" id="tableConsoles" width="100%">			<thead>				<tr>					<th>Console</th>					'.($canAdd==1?'<th>Ajouter </th>':'').'				</tr>			</thead>			<tbody>';			set_time_limit(1000);		$odd = false;		foreach($consoles as $console)		{				$odd=!$odd;				if(in_array($console['id_console'], $collection))				{					if($odd)					{						echo '<tr class="gradeC odd">';					}					else					{						echo '<tr class="gradeC even">';					}				}				else				{					if($odd)					{						echo '<tr class="gradeA odd">';					}					else					{						echo '<tr class="gradeA even">';					}				}					echo '<td> <a href="bddjv.php?action=viewConsole&id='.$console['id_console'].'">'.$console['nom_console'].'</a> </td>					'.($canAdd==1?'<td class="center"><input type="checkbox" id="'.$console['id_console'].'"  name="'.$console['id_console'].'" value=1 />':'').'</td>					</tr>';		}		set_time_limit(20);		echo ($canAdd==1?'<tr style="text-align: right"><td colspan=2><input type="submit" value="Ajouter les consoles à votre collection" name="validerAjoutPossessionConsole"></td></tr>':'').'</tbody>		</table></form>';	}		function affiche_plateforme($jeux, $plateforme, $description, $id, $idMarque, $nomMarque, $var, $commandes, $developpeurs, $editeurs, $editions, $formats, $groupes, $langues, $plateformes, $regions, $supports, $types, $types_accessoires, $collection, $collectionConsoles, $collectionAccessoires, $canAdd)	{		echo'<div id="description">'.($description==""?'<h3>'.$plateforme.'</h3>':$description).'</div>		<br>		<script language="Javascript">			function openJeux() {					document.getElementById("ListeJeux").style.display="block";					document.getElementById("ListeAccessoires").style.display="none";					document.getElementById("ListeConsoles").style.display="none";			}			function openAccessoires() {					document.getElementById("ListeJeux").style.display="none";					document.getElementById("ListeAccessoires").style.display="block";					document.getElementById("ListeConsoles").style.display="none";			}			function openConsoles() {					document.getElementById("ListeConsoles").style.display="block";					document.getElementById("ListeJeux").style.display="none";					document.getElementById("ListeAccessoires").style.display="none";			}			$(function(){					document.getElementById("ListeJeux").style.display="none";					document.getElementById("ListeAccessoires").style.display="none";					document.getElementById("ListeConsoles").style.display="none";			});		</script>		<div id=center><a onclick="openConsoles();return false;">Rechercher un pack</a> / <a onclick="openJeux();return false;">Rechercher un jeu </a> / <a onclick="openAccessoires();return false;">Rechercher un accessoire</a></div><br>';		affiche_liste_jeux($jeux, $plateforme, $commandes, $developpeurs, $editeurs, $editions, $formats, $groupes, $langues, $plateformes, $regions, $supports, $types, $collection, $canAdd);		affiche_liste_accessoires(Accessoire::findAllDetailsByPlateforme($id), $editeurs, $plateformes, $regions, $types_accessoires, $plateforme, $collectionAccessoires, $canAdd);		affiche_liste_consoles(Console::findAllDetailsByPlateforme($id), $editeurs, $plateformes, $regions, $plateforme, $collectionConsoles, $canAdd);		echo '<div id="clear"></div>';		if(in_array($var->data['group_id'], Base::getModos()))		{			echo "<div class='lienAdmin'><a href='bddjv.php?action=adm&plateforme=".$id."'>Modifier la plateforme</a></div>";		}	}		function affiche_plateforme_lite($plateforme, $description, $id, $collection, $collectionConsoles, $collectionAccessoires, $canAdd, $var)	{		echo'<div id="description">'.($description==""?'<h3>'.$plateforme.'</h3>':$description).'</div>		<br>		<script language="Javascript">			function openJeux() {					document.getElementById("ListeJeux").style.display="block";					document.getElementById("ListeAccessoires").style.display="none";					document.getElementById("ListeConsoles").style.display="none";			}			function openAccessoires() {					document.getElementById("ListeJeux").style.display="none";					document.getElementById("ListeAccessoires").style.display="block";					document.getElementById("ListeConsoles").style.display="none";			}			function openConsoles() {					document.getElementById("ListeConsoles").style.display="block";					document.getElementById("ListeJeux").style.display="none";					document.getElementById("ListeAccessoires").style.display="none";			}			$(function(){					document.getElementById("ListeJeux").style.display="none";					document.getElementById("ListeAccessoires").style.display="none";					document.getElementById("ListeConsoles").style.display="none";			});		</script>		<div id=center><a onclick="openConsoles();return false;">Rechercher un pack</a> / <a onclick="openJeux();return false;">Rechercher un jeu </a> / <a onclick="openAccessoires();return false;">Rechercher un accessoire</a></div><br>';		affiche_liste_jeux_lite(Jeu::findAllDetailsLiteByPlateforme($id), $collection, $canAdd);		affiche_liste_accessoires_lite(Accessoire::findAllDetailsLiteByPlateforme($id), $collectionAccessoires, $canAdd);		affiche_liste_consoles_lite(Console::findAllDetailsLiteByPlateforme($id), $collectionConsoles, $canAdd);		echo '<div id="clear"></div>';		if(in_array($var->data['group_id'], Base::getModos()))		{			echo "<div class='lienAdmin'><a href='bddjv.php?action=adm&plateforme=".$id."'>Modifier la plateforme</a></div>";		}	}		function affiche_liste_jeux($jeux, $plateforme, $commandes, $developpeurs, $editeurs, $editions, $formats, $groupes, $langues, $plateformes, $regions, $supports, $types, $collection, $canAdd)	{				echo '<div id="ListeJeux"><br><div class=titre>Liste des jeux</div><div class=titreFiltres>Choisir vos filtres</div><br><div class="showFiltres"><table width=100%><tr>					<th class="txtGras">Développeur </th>					<th class="txtGras">Type </th>					<th class="txtGras">Groupe </th>					<th class="txtGras">Regions </th>					<th class="txtGras">Editions </th>					<th class="txtGras">Editeurs </th>					<th class="txtGras">Supports </th>					<th class="txtGras">Formats </th>					<th class="txtGras">Langues </th>					<th class="txtGras">Contrôleurs </th>					<th class="txtGras">Existe sur </th>				</tr><tr>					<td><div class="fDev"></div></td>					<td><div class="fTyp"></div></td>					<td><div class="fGro"></div></td>					<td><div class="fReg"></div></td>					<td><div class="fEd1"></div></td>					<td><div class="fEd2"></div></td>					<td><div class="fSup"></div></td>					<td><div class="fFor"></div></td>					<td><div class="fLan"></div></td>					<td><div class="fCom"></div></td>					<td><div class="fPla"></div></td>				</tr></table></div><br><div class=filters>Filtres : </div>Nombre de joueurs Minimum : <input id="min" />';		foreach($commandes as $c)		{				$co=$c->getAttr('nom_commande');				echo'				<script>						$(".fCom").append("<div class=\'divcommande\' id=\'Commande'.str_replace(' ','_',$co).'\' name=\''.$co.'\' > '.$co.' </div>");				</script>';								}					foreach($developpeurs as $d)		{				$de=$d->getAttr('nom_developpeur');				echo'				<script>						$(".fDev").append("<div class=\'divdeveloppeur\' id=\'Developpeur'.str_replace(' ','_',$de).'\' name=\''.$de.'\' > '.$de.' </div>");				</script>';								}			foreach($editions as $e)		{				$ed=$e->getAttr('nom_edition');				echo'				<script>						$(".fEd1").append("<div class=\'divedition\' id=\'Edition'.str_replace(' ','_',$ed).'\' name=\''.$ed.'\' > '.$ed.' </div>");				</script>';					}				foreach($editeurs as $e)		{				$ed=$e->getAttr('nom_editeur');				echo'				<script>						$(".fEd2").append("<div class=\'divediteur\' id=\'Editeur'.str_replace(' ','_',$ed).'\' name=\''.$ed.'\' > '.$ed.' </div>");				</script>';					}		foreach($formats as $f)		{				$fo=$f->getAttr('nom_format');				echo'				<script>						$(".fFor").append("<div class=\'divformat\' id=\'Format'.str_replace(' ','_',$fo).'\' name=\''.$fo.'\' > '.$fo.' </div>");				</script>';		}		foreach($groupes as $g)		{				$gr=$g->getAttr('nom_groupe');				echo'				<script>						$(".fGro").append("<div class=\'divgroupe\' id=\'Groupe'.str_replace(' ','_',$gr).'\' name=\''.$gr.'\' > '.$gr.' </div>");				</script>';					}			foreach($langues as $l)		{					$la=$l->getAttr('nom_langue');					echo'					<script>							$(".fLan").append("<div class=\'divlangue\' id=\'Langue'.str_replace(' ','_',$la).'\' name=\''.$la.'\' > '.$la.' </div>");					</script>';		}		foreach($plateformes as $p)		{				$pl=$p->getAttr('nom_plateforme');				if($pl!=$plateforme)				{					echo'					<script>							$(".fPla").append("<div class=\'divautreplateforme\' id=\'Plateforme'.str_replace(' ','_',$pl).'\' name=\''.$pl.'\' > '.$pl.' </div>");					</script>';				}		}		foreach($regions as $r)		{				$re=$r->getAttr('nom_region');				echo'				<script>						$(".fReg").append("<div class=\'divregion\' id=\'Region'.str_replace(' ','_',$re).'\' name=\''.$re.'\' > '.$re.' </div>");				</script>';		}		foreach($supports as $s)		{				$su=$s->getAttr('nom_support');				echo'				<script>						$(".fSup").append("<div class=\'divsupport\' id=\'Support'.str_replace(' ','_',$su).'\' name=\''.$su.'\' > '.$su.' </div>");				</script>';		}		foreach($types as $t)		{				$ty=$t->getAttr('nom_type_jeu');				echo'				<script>						$(".fTyp").append("<div class=\'divtype\' id=\'Type'.str_replace(' ','_',$ty).'\' name=\''.$ty.'\' > '.$ty.' </div>");				</script>';		}		echo '<h4><br>Filtrer à l\'aide de la première lettre : <br>		<a onclick="fil(\'\');">ALL</a> |		<a onclick="fil(\'^[^a-z|A-Z]\');">0</a> |		<a onclick="fil(\'^a\');">A</a> |		<a onclick="fil(\'^b\');">B</a> |		<a onclick="fil(\'^c\');">C</a> |		<a onclick="fil(\'^d\');">D</a> |		<a onclick="fil(\'^e\');">E</a> |		<a onclick="fil(\'^f\');">F</a> |		<a onclick="fil(\'^g\');">G</a> |		<a onclick="fil(\'^h\');">H</a> |		<a onclick="fil(\'^i\');">I</a> |		<a onclick="fil(\'^j\');">J</a> |		<a onclick="fil(\'^k\');">K</a> |		<a onclick="fil(\'^l\');">L</a> |		<a onclick="fil(\'^m\');">M</a> |		<a onclick="fil(\'^n\');">N</a> |		<a onclick="fil(\'^o\');">O</a> |		<a onclick="fil(\'^p\');">P</a> |		<a onclick="fil(\'^q\');">Q</a> |		<a onclick="fil(\'^r\');">R</a> |		<a onclick="fil(\'^s\');">S</a> |		<a onclick="fil(\'^t\');">T</a> |		<a onclick="fil(\'^u\');">U</a> |		<a onclick="fil(\'^v\');">V</a> |		<a onclick="fil(\'^w\');">W</a> |		<a onclick="fil(\'^x\');">X</a> |		<a onclick="fil(\'^y\');">Y</a> |		<a onclick="fil(\'^z\');">Z</a></h4>';		affiche_table_jeux($jeux, $collection, 0,$canAdd);		echo '		<script>/* Custom filtering function which will filter data in column four between two values */$.fn.dataTableExt.afnFiltering.push(	function( oSettings, aData, iDataIndex ) {		var iMin = document.getElementById("min").value * 1;		var iVersion = $(aData[11]).attr("name")*1;		if (iMin == "")		{			return true;		}		else if ( iMin <= iVersion)		{			return true;		}		else		{			return false;		}	});	function Remplace(expr,a,b) {      var i=0;      while (i!=-1) {         i=expr.indexOf(a,i);         if (i>=0) {            expr=expr.substring(0,i)+b+expr.substring(i+a.length);            i+=b.length;         }      }      return expr   }   		function fil(rexp)	{		$("#tableJeux").dataTable().fnFilter(rexp, 0, true, false);	}		$(".divdeveloppeur").click( function () {		if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fDev").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(".filters").append("<span class=\'fDeveloppeur\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Developpeur : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");			$("#Développeur").attr("value", $("#Développeur").attr("value")+" "+$(this).attr("name"));			$("#Développeur").keyup();				$(".fDeveloppeur").click( function () {						var p = $(".fDev").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Développeur").attr("value", Remplace($("#Développeur").attr("value"),$(this).attr("name"),""));							$("#Développeur").keyup();							$(this).remove();				});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Développeur").attr("value", Remplace($("#Développeur").attr("value"),$(this).attr("name"),""));			$("#Développeur").keyup();			$(p).remove();			}	} );			$(".divcommande").click( function () {		if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fCom").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fCommande\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Contrôleur : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");			$("#Commande").attr("value", $("#Commande").attr("value")+" "+$(this).attr("name"));			$("#Commande").keyup();				$(".fCommande").click( function () {						var p = $(".fCom").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Commande").attr("value", Remplace($("#Commande").attr("value"),$(this).attr("name"),""));							$("#Commande").keyup();							$(this).remove();				});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Commande").attr("value", Remplace($("#Commande").attr("value"),$(this).attr("name"),""));			$("#Commande").keyup();			$(p).remove();			}	} );		$(".divtype").click( function () {				if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fTyp").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fType\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Type : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Type").attr("value", $("#Type").attr("value")+" "+$(this).attr("name"));		$("#Type").keyup();			$(".fType").click( function () {												var p = $(".fTyp").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Type").attr("value", Remplace($("#Type").attr("value"),$(this).attr("name"),""));						$("#Type").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Type").attr("value", Remplace($("#Type").attr("value"),$(this).attr("name"),""));			$("#Type").keyup();			$(p).remove();			}	} );		$(".divgroupe").click( function () {				if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fGro").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fGroupe\' id=\'"+$(this).attr("id")+"\'  name=\'"+$(this).attr("name")+"\' >Groupe : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Groupe").attr("value", $("#Groupe").attr("value")+" "+$(this).attr("name"));		$("#Groupe").keyup();			$(".fGroupe").click( function () {												var p = $(".fGro").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Groupe").attr("value", Remplace($("#Groupe").attr("value"),$(this).attr("name"),""));						$("#Groupe").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Groupe").attr("value", Remplace($("#Groupe").attr("value"),$(this).attr("name"),""));			$("#Groupe").keyup();			$(p).remove();			}	} );		$(".divregion").click( function () {				if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fReg").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fRegion\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Region : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Region").attr("value", $("#Region").attr("value")+" "+$(this).attr("name"));		$("#Region").keyup();			$(".fRegion").click( function () {												var p = $(".fReg").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Region").attr("value", Remplace($("#Region").attr("value"),$(this).attr("name"),""));						$("#Region").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Region").attr("value", Remplace($("#Region").attr("value"),$(this).attr("name"),""));			$("#Region").keyup();			$(p).remove();			}	} );		$(".divautreplateforme").click( function () {		if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fPla").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fPlateforme\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Existe aussi sur : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");			$("#AutrePlateforme").attr("value", $("#AutrePlateforme").attr("value")+" "+$(this).attr("name"));			$("#AutrePlateforme").keyup();				$(".fPlateforme").click( function () {					var p = $(".fPla").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#AutrePlateforme").attr("value", Remplace($("#AutrePlateforme").attr("value"),$(this).attr("name"),""));							$("#AutrePlateforme").keyup();							$(this).remove();				});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#AutrePlateforme").attr("value", Remplace($("#AutrePlateforme").attr("value"),$(this).attr("name"),""));			$("#AutrePlateforme").keyup();			$(p).remove();			}	} );		$(".divedition").click( function () {				if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fEd1").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fEdition\' id=\'"+$(this).attr("id")+"\'  name=\'"+$(this).attr("name")+"\' >Edition : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Edition").attr("value", $("#Edition").attr("value")+" "+$(this).attr("name"));		$("#Edition").keyup();			$(".fEdition").click( function () {						var p = $(".fEd1").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Edition").attr("value", Remplace($("#Edition").attr("value"),$(this).attr("name"),""));						$("#Edition").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Edition").attr("value", Remplace($("#Edition").attr("value"),$(this).attr("name"),""));			$("#Edition").keyup();			$(p).remove();			}	} );		$(".divediteur").click( function () {				if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fEd2").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fEditeur\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Editeur : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Editeur").attr("value", $("#Editeur").attr("value")+" "+$(this).attr("name"));		$("#Editeur").keyup();			$(".fEditeur").click( function () {												var p = $(".fEd2").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Editeur").attr("value", Remplace($("#Editeur").attr("value"),$(this).attr("name"),""));						$("#Editeur").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Editeur").attr("value", Remplace($("#Editeur").attr("value"),$(this).attr("name"),""));			$("#Editeur").keyup();			$(p).remove();			}	} );		$(".divsupport").click( function () {				if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fSup").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fSupport\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Support : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Support").attr("value", $("#Support").attr("value")+" "+$(this).attr("name"));		$("#Support").keyup();			$(".fSupport").click( function () {												var p = $(".fSup").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Support").attr("value", Remplace($("#Support").attr("value"),$(this).attr("name"),""));						$("#Support").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Support").attr("value", Remplace($("#Support").attr("value"),$(this).attr("name"),""));			$("#Support").keyup();			$(p).remove();			}	} );	$(".divformat").click( function () {			if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fFor").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fFormat\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Format : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Format").attr("value", $("#Format").attr("value")+" "+$(this).attr("name"));		$("#Format").keyup();			$(".fFormat").click( function () {												var p = $(".fFor").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Format").attr("value", Remplace($("#Format").attr("value"),$(this).attr("name"),""));						$("#Format").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Format").attr("value", Remplace($("#Format").attr("value"),$(this).attr("name"),""));			$("#Format").keyup();			$(p).remove();			}	} );		$(".divlangue").click( function () {			if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fLan").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fLangue\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Langue : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Langue").attr("value", $("#Langue").attr("value")+" "+$(this).attr("name"));		$("#Langue").keyup();			$(".fLangue").click( function () {												var p = $(".fLan").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Langue").attr("value", Remplace($("#Langue").attr("value"),$(this).attr("name"),""));						$("#Langue").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Langue").attr("value", Remplace($("#Langue").attr("value"),$(this).attr("name"),""));			$("#Langue").keyup();			$(p).remove();			}	} );			var asInitVals = new Array();$(document).ready(function() {    var oTable = $("#tableJeux").dataTable( {		"aLengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],		"sPaginationType": "full_numbers", "iDisplayLength": 50,        "oLanguage": {            "sSearch": "Rechercher:"        }    } );		$("#min").keyup( function() { oTable.fnDraw(); } );		$("tfoot input").keyup( function () {        oTable.fnFilter( this.value, $("tfoot input").index(this) );    } );              $("tfoot input").each( function (i) {        asInitVals[i] = this.value;    } );         $("tfoot input").focus( function () {        if ( this.className == "search_init" )        {            this.className = "";            this.value = "";        }    } );         $("tfoot input").blur( function (i) {        if ( this.value == "" )        {            this.className = "search_init";            this.value = asInitVals[$("tfoot input").index(this)];        }    } );			$(".filters").append("<span id=\''.str_replace(' ','_',$plateforme).'\' name=\''.$plateforme.'\' >Plateforme : '.$plateforme.' <img height=10 width=10 src=\'img/lock.png\' title=\'Impossible de retirer le filtre\' /> </span>");	$("#Plateforme").attr("value", "'.$plateforme.'");	$("#Plateforme").keyup();		} );		</script>		<br><br><a href="bddjv.php?action=add">Le jeu que vous cherchez n\'est pas dans la base de donnée ? Ajoutez le.</a></div>';	}		function affiche_liste_jeux_lite($jeux, $collection, $canAdd)	{				echo '<div id="ListeJeux"><br><div class=titre>Liste des jeux</div>';		affiche_table_jeux_lite($jeux, $collection, 0,$canAdd);		echo '<br><br><a href="bddjv.php?action=add">Le jeu que vous cherchez n\'est pas dans la base de donnée ? Ajoutez le.</a></div>';	}			function affiche_liste_tout_jeux($jeux, $commandes, $developpeurs, $editeurs, $editions, $formats, $groupes, $langues, $plateformes, $regions, $supports, $types, $collection, $canAdd)	{		echo'<div class=titre>Rechercher un jeu</div><br><div class=titreFiltres>Choisir vos filtres</div><br><div class="showFiltres"><table width=100%><tr>					<th class="txtGras">Plateforme </th>					<th class="txtGras">Développeur </th>					<th class="txtGras">Type </th>					<th class="txtGras">Groupe </th>					<th class="txtGras">Regions </th>					<th class="txtGras">Editions </th>					<th class="txtGras">Editeurs </th>					<th class="txtGras">Supports </th>					<th class="txtGras">Formats </th>					<th class="txtGras">Langues </th>					<th class="txtGras">Contrôleurs </th>					<th class="txtGras">Existe sur </th>				</tr><tr>					<td><div class="fPla"></div></td>					<td><div class="fDev"></div></td>					<td><div class="fTyp"></div></td>					<td><div class="fGro"></div></td>					<td><div class="fReg"></div></td>					<td><div class="fEd1"></div></td>					<td><div class="fEd2"></div></td>					<td><div class="fSup"></div></td>					<td><div class="fFor"></div></td>					<td><div class="fLan"></div></td>					<td><div class="fCom"></div></td>					<td><div class="fAPla"></div></td>		</tr></table></div><br><div class=filters>Filtres : </div>Nombre de joueurs Minimum : <input id="min" />';		foreach($developpeurs as $d)		{				$de=$d->getAttr('nom_developpeur');				echo'				<script>						$(".fDev").append("<div class=\'divdeveloppeur\' id=\'Developpeur'.str_replace(' ','_',$de).'\' name=\''.$de.'\' > '.$de.' </div>");				</script>';								}					foreach($commandes as $c)		{				$co=$c->getAttr('nom_commande');				echo'				<script>						$(".fCom").append("<div class=\'divcommande\' id=\'Commande'.str_replace(' ','_',$co).'\' name=\''.$co.'\' > '.$co.' </div>");				</script>';								}				foreach($editions as $e)		{				$ed=$e->getAttr('nom_edition');				echo'				<script>						$(".fEd1").append("<div class=\'divedition\' id=\'Edition'.str_replace(' ','_',$ed).'\' name=\''.$ed.'\' > '.$ed.' </div>");				</script>';					}				foreach($editeurs as $e)		{				$ed=$e->getAttr('nom_editeur');				echo'				<script>						$(".fEd2").append("<div class=\'divediteur\' id=\'Editeur'.str_replace(' ','_',$ed).'\' name=\''.$ed.'\' > '.$ed.' </div>");				</script>';					}		foreach($formats as $f)		{				$fo=$f->getAttr('nom_format');				echo'				<script>						$(".fFor").append("<div class=\'divformat\' id=\'Format'.str_replace(' ','_',$fo).'\' name=\''.$fo.'\' > '.$fo.' </div>");				</script>';		}		foreach($groupes as $g)		{				$gr=$g->getAttr('nom_groupe');				echo'				<script>						$(".fGro").append("<div class=\'divgroupe\' id=\'Groupe'.str_replace(' ','_',$gr).'\' name=\''.$gr.'\' > '.$gr.' </div>");				</script>';					}			foreach($langues as $l)		{					$la=$l->getAttr('nom_langue');					echo'					<script>							$(".fLan").append("<div class=\'divlangue\' id=\'Langue'.str_replace(' ','_',$la).'\' name=\''.$la.'\' > '.$la.' </div>");					</script>';		}		foreach($plateformes as $p)		{					$pl=$p->getAttr('nom_plateforme');					echo'					<script>							$(".fPla").append("<div class=\'divplateforme\' id=\'Plateforme'.str_replace(' ','_',$pl).'\' name=\''.$pl.'\' > '.$pl.' </div>");							$(".fAPla").append("<div class=\'divautreplateforme\' id=\'Plateforme'.str_replace(' ','_',$pl).'\' name=\''.$pl.'\' > '.$pl.' </div>");					</script>';		}		foreach($regions as $r)		{				$re=$r->getAttr('nom_region');				echo'				<script>						$(".fReg").append("<div class=\'divregion\' id=\'Region'.str_replace(' ','_',$re).'\' name=\''.$re.'\' > '.$re.' </div>");				</script>';		}		foreach($supports as $s)		{				$su=$s->getAttr('nom_support');				echo'				<script>						$(".fSup").append("<div class=\'divsupport\' id=\'Support'.str_replace(' ','_',$su).'\' name=\''.$su.'\' > '.$su.' </div>");				</script>';		}		foreach($types as $t)		{				$ty=$t->getAttr('nom_type_jeu');				echo'				<script>						$(".fTyp").append("<div class=\'divtype\' id=\'Type'.str_replace(' ','_',$ty).'\' name=\''.$ty.'\' > '.$ty.' </div>");				</script>';		}		echo '<h4><br>Filtrer à l\'aide de la première lettre : <br>		<a onclick="fil(\'\');">ALL</a> |		<a onclick="fil(\'^[^a-z|A-Z]\');">0</a> |		<a onclick="fil(\'^a\');">A</a> |		<a onclick="fil(\'^b\');">B</a> |		<a onclick="fil(\'^c\');">C</a> |		<a onclick="fil(\'^d\');">D</a> |		<a onclick="fil(\'^e\');">E</a> |		<a onclick="fil(\'^f\');">F</a> |		<a onclick="fil(\'^g\');">G</a> |		<a onclick="fil(\'^h\');">H</a> |		<a onclick="fil(\'^i\');">I</a> |		<a onclick="fil(\'^j\');">J</a> |		<a onclick="fil(\'^k\');">K</a> |		<a onclick="fil(\'^l\');">L</a> |		<a onclick="fil(\'^m\');">M</a> |		<a onclick="fil(\'^n\');">N</a> |		<a onclick="fil(\'^o\');">O</a> |		<a onclick="fil(\'^p\');">P</a> |		<a onclick="fil(\'^q\');">Q</a> |		<a onclick="fil(\'^r\');">R</a> |		<a onclick="fil(\'^s\');">S</a> |		<a onclick="fil(\'^t\');">T</a> |		<a onclick="fil(\'^u\');">U</a> |		<a onclick="fil(\'^v\');">V</a> |		<a onclick="fil(\'^w\');">W</a> |		<a onclick="fil(\'^x\');">X</a> |		<a onclick="fil(\'^y\');">Y</a> |		<a onclick="fil(\'^z\');">Z</a></h4>';		affiche_table_jeux($jeux, $collection, 1,$canAdd);		echo'		<script>/* Custom filtering function which will filter data in column four between two values */$.fn.dataTableExt.afnFiltering.push(	function( oSettings, aData, iDataIndex ) {		var iMin = document.getElementById("min").value * 1;		var iVersion = $(aData[12]).attr("name")*1;		if (iMin == "")		{			return true;		}		else if ( iMin <= iVersion)		{			return true;		}		else		{			return false;		}	});	function Remplace(expr,a,b) {      var i=0;      while (i!=-1) {         i=expr.indexOf(a,i);         if (i>=0) {            expr=expr.substring(0,i)+b+expr.substring(i+a.length);            i+=b.length;         }      }      return expr   }		function fil(rexp)	{		$("#tableJeux").dataTable().fnFilter(rexp, 0, true, false);	}		$(".divplateforme").click( function () {		if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{		var p = $(".fPla").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fPlateforme\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Plateforme : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Plateforme").attr("value", $("#Plateforme").attr("value")+" "+$(this).attr("name"));		$("#Plateforme").keyup();			$(".fPlateforme").click( function () {						var p = $(".fPla").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Plateforme").attr("value", Remplace($("#Plateforme").attr("value"),$(this).attr("name"),""));						$("#Plateforme").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Plateforme").attr("value", Remplace($("#Plateforme").attr("value"),$(this).attr("name"),""));			$("#Plateforme").keyup();			$(p).remove();			}		} );			$(".divcommande").click( function () {		if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fCom").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fCommande\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Contrôleur : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");			$("#Commande").attr("value", $("#Commande").attr("value")+" "+$(this).attr("name"));			$("#Commande").keyup();				$(".fCommande").click( function () {						var p = $(".fCom").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Commande").attr("value", Remplace($("#Commande").attr("value"),$(this).attr("name"),""));							$("#Commande").keyup();							$(this).remove();				});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Commande").attr("value", Remplace($("#Commande").attr("value"),$(this).attr("name"),""));			$("#Commande").keyup();			$(p).remove();			}	} );		$(".divdeveloppeur").click( function () {		if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fDev").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fDeveloppeur\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Developpeur : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");			$("#Développeur").attr("value", $("#Développeur").attr("value")+" "+$(this).attr("name"));			$("#Développeur").keyup();				$(".fDeveloppeur").click( function () {													var p = $(".fDev").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Développeur").attr("value", Remplace($("#Développeur").attr("value"),$(this).attr("name"),""));							$("#Développeur").keyup();							$(this).remove();				});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Développeur").attr("value", Remplace($("#Développeur").attr("value"),$(this).attr("name"),""));			$("#Développeur").keyup();			$(p).remove();			}	} );		$(".divtype").click( function () {				if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fTyp").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fType\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Type : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Type").attr("value", $("#Type").attr("value")+" "+$(this).attr("name"));		$("#Type").keyup();			$(".fType").click( function () {												var p = $(".fTyp").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Type").attr("value", Remplace($("#Type").attr("value"),$(this).attr("name"),""));						$("#Type").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Type").attr("value", Remplace($("#Type").attr("value"),$(this).attr("name"),""));			$("#Type").keyup();			$(p).remove();			}	} );		$(".divgroupe").click( function () {				if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fGro").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fGroupe\' id=\'"+$(this).attr("id")+"\'  name=\'"+$(this).attr("name")+"\' >Groupe : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Groupe").attr("value", $("#Groupe").attr("value")+" "+$(this).attr("name"));		$("#Groupe").keyup();			$(".fGroupe").click( function () {												var p = $(".fGro").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Groupe").attr("value", Remplace($("#Groupe").attr("value"),$(this).attr("name"),""));						$("#Groupe").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Groupe").attr("value", Remplace($("#Groupe").attr("value"),$(this).attr("name"),""));			$("#Groupe").keyup();			$(p).remove();			}	} );	$(".divautreplateforme").click( function () {		if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fAPla").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fAPlateforme\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Existe aussi sur : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");			$("#AutrePlateforme").attr("value", $("#AutrePlateforme").attr("value")+" "+$(this).attr("name"));			$("#AutrePlateforme").keyup();				$(".fAPlateforme").click( function () {					var p = $(".fAPla").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#AutrePlateforme").attr("value", Remplace($("#AutrePlateforme").attr("value"),$(this).attr("name"),""));							$("#AutrePlateforme").keyup();							$(this).remove();				});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#AutrePlateforme").attr("value", Remplace($("#AutrePlateforme").attr("value"),$(this).attr("name"),""));			$("#AutrePlateforme").keyup();			$(p).remove();			}	} );		$(".divregion").click( function () {				if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fReg").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fRegion\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Region : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Region").attr("value", $("#Region").attr("value")+" "+$(this).attr("name"));		$("#Region").keyup();			$(".fRegion").click( function () {												var p = $(".fReg").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Region").attr("value", Remplace($("#Region").attr("value"),$(this).attr("name"),""));						$("#Region").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Region").attr("value", Remplace($("#Region").attr("value"),$(this).attr("name"),""));			$("#Region").keyup();			$(p).remove();			}	} );		$(".divedition").click( function () {				if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fEd1").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fEdition\' id=\'"+$(this).attr("id")+"\'  name=\'"+$(this).attr("name")+"\' >Edition : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Edition").attr("value", $("#Edition").attr("value")+" "+$(this).attr("name"));		$("#Edition").keyup();			$(".fEdition").click( function () {						var p = $(".fEd1").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Edition").attr("value", Remplace($("#Edition").attr("value"),$(this).attr("name"),""));						$("#Edition").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Edition").attr("value", Remplace($("#Edition").attr("value"),$(this).attr("name"),""));			$("#Edition").keyup();			$(p).remove();			}	} );		$(".divediteur").click( function () {				if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fEd2").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fEditeur\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Editeur : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Editeur").attr("value", $("#Editeur").attr("value")+" "+$(this).attr("name"));		$("#Editeur").keyup();			$(".fEditeur").click( function () {												var p = $(".fEd2").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Editeur").attr("value", Remplace($("#Editeur").attr("value"),$(this).attr("name"),""));						$("#Editeur").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Editeur").attr("value", Remplace($("#Editeur").attr("value"),$(this).attr("name"),""));			$("#Editeur").keyup();			$(p).remove();			}	} );		$(".divsupport").click( function () {				if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fSup").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fSupport\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Support : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Support").attr("value", $("#Support").attr("value")+" "+$(this).attr("name"));		$("#Support").keyup();			$(".fSupport").click( function () {												var p = $(".fSup").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Support").attr("value", Remplace($("#Support").attr("value"),$(this).attr("name"),""));						$("#Support").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Support").attr("value", Remplace($("#Support").attr("value"),$(this).attr("name"),""));			$("#Support").keyup();			$(p).remove();			}	} );	$(".divformat").click( function () {			if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fFor").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fFormat\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Format : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Format").attr("value", $("#Format").attr("value")+" "+$(this).attr("name"));		$("#Format").keyup();			$(".fFormat").click( function () {												var p = $(".fFor").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Format").attr("value", Remplace($("#Format").attr("value"),$(this).attr("name"),""));						$("#Format").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Format").attr("value", Remplace($("#Format").attr("value"),$(this).attr("name"),""));			$("#Format").keyup();			$(p).remove();			}	} );		$(".divlangue").click( function () {			if( $(".filters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fLan").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".filters").append("<span class=\'fLangue\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Langue : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#Langue").attr("value", $("#Langue").attr("value")+" "+$(this).attr("name"));		$("#Langue").keyup();			$(".fLangue").click( function () {												var p = $(".fLan").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#Langue").attr("value", Remplace($("#Langue").attr("value"),$(this).attr("name"),""));						$("#Langue").keyup();						$(this).remove();			});		}		else		{			var p = $(".filters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#Langue").attr("value", Remplace($("#Langue").attr("value"),$(this).attr("name"),""));			$("#Langue").keyup();			$(p).remove();			}	} );			var asInitVals = new Array();$(document).ready(function() {    var oTable = $("#tableJeux").dataTable( {		"aLengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],		"sPaginationType": "full_numbers", "iDisplayLength": 50,        "oLanguage": {            "sSearch": "Rechercher:"        }    } );		$("#min").keyup( function() { oTable.fnDraw(); } );		$("tfoot input").keyup( function () {        oTable.fnFilter( this.value, $("tfoot input").index(this) );    } );              $("tfoot input").each( function (i) {        asInitVals[i] = this.value;    } );         $("tfoot input").focus( function () {        if ( this.className == "search_init" )        {            this.className = "";            this.value = "";        }    } );         $("tfoot input").blur( function (i) {        if ( this.value == "" )        {            this.className = "search_init";            this.value = asInitVals[$("tfoot input").index(this)];        }    } );		} );		</script>		<br><br><a href="bddjv.php?action=add">Le jeu que vous cherchez n\'est pas dans la base de donnée ? Ajoutez le.</a>		<!-- END of templatemo_main -->';			}			function affiche_liste_accessoires($accessoires, $editeurs, $plateformes, $regions, $types, $plateforme, $collection, $canAdd)	{		echo'<div id="ListeAccessoires"><br><div class=titre>Liste des accessoires</div><div class=titreFiltres>Choisir vos filtres</div><br><div class="showFiltres"><table width=100%><tr>					<th class="txtGras">Type</th>					<th class="txtGras">Editeur</th>					<th class="txtGras">Zoné</th>					<th class="txtGras">Regions</th>				</tr><tr>					<td><div class="fAccTyp"></div></td>					<td><div class="fAccEdi"></div></td>					<td><div class="fAccZon"></div></td>					<td><div class="fAccReg"></div></td>		</tr></table></div><br><div class=AccFilters>Filtres : </div>';		foreach($types as $t)		{				$ty=$t->getAttr('nom_type_accessoire');				echo'				<script>						$(".fAccTyp").append("<div class=\'divAccType\' id=\'AccType'.str_replace(' ','_',$ty).'\' name=\''.$ty.'\' > '.$ty.' </div>");				</script>';								}					foreach($editeurs as $e)		{				$ed=$e->getAttr('nom_editeur');				echo'				<script>						$(".fAccEdi").append("<div class=\'divAccEditeur\' id=\'AccEditeur'.str_replace(' ','_',$ed).'\' name=\''.$ed.'\' > '.$ed.' </div>");				</script>';					}		foreach($regions as $r)		{				$re=$r->getAttr('nom_region');				echo'				<script>						$(".fAccReg").append("<div class=\'divAccRegion\' id=\'AccRegion'.str_replace(' ','_',$re).'\' name=\''.$re.'\' > '.$re.' </div>");				</script>';		}		echo'<script>				$(".fAccZon").append("<div class=\'divAccZone\' id=\'AccZoneNon\' name=\'Non\' > Non </div>");			$(".fAccZon").append("<div class=\'divAccZone\' id=\'AccZoneOui\' name=\'Oui\' > Oui </div>");		</script>';		echo '<h4><br>Filtrer à l\'aide de la première lettre : <br>		<a onclick="filA(\'\');">ALL</a> |		<a onclick="fil(\'^[^a-z|A-Z]\');">0</a> |		<a onclick="filA(\'^a\');">A</a> |		<a onclick="filA(\'^b\');">B</a> |		<a onclick="filA(\'^c\');">C</a> |		<a onclick="filA(\'^d\');">D</a> |		<a onclick="filA(\'^e\');">E</a> |		<a onclick="filA(\'^f\');">F</a> |		<a onclick="filA(\'^g\');">G</a> |		<a onclick="filA(\'^h\');">H</a> |		<a onclick="filA(\'^i\');">I</a> |		<a onclick="filA(\'^j\');">J</a> |		<a onclick="filA(\'^k\');">K</a> |		<a onclick="filA(\'^l\');">L</a> |		<a onclick="filA(\'^m\');">M</a> |		<a onclick="filA(\'^o\');">N</a> |		<a onclick="filA(\'^n\');">O</a> |		<a onclick="filA(\'^p\');">P</a> |		<a onclick="filA(\'^q\');">Q</a> |		<a onclick="filA(\'^r\');">R</a> |		<a onclick="filA(\'^s\');">S</a> |		<a onclick="filA(\'^t\');">T</a> |		<a onclick="filA(\'^u\');">U</a> |		<a onclick="filA(\'^v\');">V</a> |		<a onclick="filA(\'^w\');">W</a> |		<a onclick="filA(\'^x\');">X</a> |		<a onclick="filA(\'^y\');">Y</a> |		<a onclick="filA(\'^z\');">Z</a></h4>';		affiche_table_accessoires($accessoires, $collection,0, $canAdd);		echo'		<script>/* Custom filtering function which will filter data in column four between two values */	function Remplace(expr,a,b) {      var i=0;      while (i!=-1) {         i=expr.indexOf(a,i);         if (i>=0) {            expr=expr.substring(0,i)+b+expr.substring(i+a.length);            i+=b.length;         }      }      return expr   }		function filA(rexp)	{		$("#tableAccessoires").dataTable().fnFilter(rexp, 0, true, false);	}		$(".divAccType").click( function () {				if( $(".AccFilters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fAccTyp").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".AccFilters").append("<span class=\'fAccType\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Type : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#AccType").attr("value", $("#AccType").attr("value")+" "+$(this).attr("name"));		$("#AccType").keyup();			$(".fAccType").click( function () {												var p = $(".fAccTyp").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#AccType").attr("value", Remplace($("#AccType").attr("value"),$(this).attr("name"),""));						$("#AccType").keyup();						$(this).remove();			});		}		else		{			var p = $(".AccFilters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#AccType").attr("value", Remplace($("#AccType").attr("value"),$(this).attr("name"),""));			$("#AccType").keyup();			$(p).remove();			}	} );		$(".divAccRegion").click( function () {				if( $(".AccFilters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fAccReg").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".AccFilters").append("<span class=\'fAccRegion\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Region : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#AccRegion").attr("value", $("#AccRegion").attr("value")+" "+$(this).attr("name"));		$("#AccRegion").keyup();			$(".fAccRegion").click( function () {												var p = $(".fAccReg").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#AccRegion").attr("value", Remplace($("#AccRegion").attr("value"),$(this).attr("name"),""));						$("#AccRegion").keyup();						$(this).remove();			});		}		else		{			var p = $(".AccFilters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#AccRegion").attr("value", Remplace($("#AccRegion").attr("value"),$(this).attr("name"),""));			$("#AccRegion").keyup();			$(p).remove();			}	} );		$(".divAccEditeur").click( function () {				if( $(".AccFilters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fAccEdi").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".AccFilters").append("<span class=\'fAccEditeur\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Editeur : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#AccEditeur").attr("value", $("#AccEditeur").attr("value")+" "+$(this).attr("name"));		$("#AccEditeur").keyup();			$(".fAccEditeur").click( function () {												var p = $(".fAccEdi").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#AccEditeur").attr("value", Remplace($("#AccEditeur").attr("value"),$(this).attr("name"),""));						$("#AccEditeur").keyup();						$(this).remove();			});		}		else		{			var p = $(".AccFilters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#AccEditeur").attr("value", Remplace($("#AccEditeur").attr("value"),$(this).attr("name"),""));			$("#AccEditeur").keyup();			$(p).remove();			}	} );	$(".divAccZone").click( function () {		if( $(".AccFilters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fAccZon").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(".AccFilters").append("<span class=\'fAccZone\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Zone : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");			$("#AccZone").attr("value", $("#AccZone").attr("value")+" "+$(this).attr("name"));			$("#AccZone").keyup();			$(".fAccZone").click( function () {						var p = $(".fAccZon").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#AccZone").attr("value", Remplace($("#AccZone").attr("value"),$(this).attr("name"),""));						$("#AccZone").keyup();						$(this).remove();			});		}		else		{			var p = $(".AccFilters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#AccZone").attr("value", Remplace($("#AccZone").attr("value"),$(this).attr("name"),""));			$("#AccZone").keyup();			$(p).remove();			}	} );			var asInitVals = new Array();$(document).ready(function() {    var accTable = $("#tableAccessoires").dataTable( {		"aLengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],		"sPaginationType": "full_numbers", "iDisplayLength": 50,        "oLanguage": {            "sSearch": "Rechercher:"        }    } );			$("tfoot input").keyup( function () {        accTable.fnFilter( this.value, $("#tableAccessoires tfoot input").index(this) );    } );              $("tfoot input").each( function (i) {        asInitVals[i] = this.value;    } );         $("tfoot input").focus( function () {        if ( this.className == "search_init" )        {            this.className = "";            this.value = "";        }    } );         $("tfoot input").blur( function (i) {        if ( this.value == "" )        {            this.className = "search_init";            this.value = asInitVals[$("tfoot input").index(this)];        }    } );	$(".AccFilters").append("<span id=\''.str_replace(' ','_',$plateforme).'\' name=\''.$plateforme.'\' >Plateforme : '.$plateforme.' <img height=10 width=10 src=\'img/lock.png\' title=\'Impossible de retirer le filtre\' /> </span>");	$("#AccPlateforme").attr("value", "'.$plateforme.'");	$("#AccPlateforme").keyup();	} );		</script>		<br><br><a href="bddjv.php?action=addAccessoire">L\'accessoire que vous cherchez n\'est pas dans la base de donnée ? Ajoutez le.</a></div>		<!-- END of templatemo_main -->';			}			function affiche_liste_accessoires_lite($accessoires, $collection, $canAdd)	{		echo'<div id="ListeAccessoires"><br><div class=titre>Liste des accessoires</div>';		affiche_table_accessoires_lite($accessoires, $collection,0, $canAdd);		echo'<br><br><a href="bddjv.php?action=addAccessoire">L\'accessoire que vous cherchez n\'est pas dans la base de donnée ? Ajoutez le.</a></div>		<!-- END of templatemo_main -->';			}		function affiche_liste_tout_accessoires($accessoires, $editeurs, $plateformes, $regions, $types, $collection, $canAdd)	{		echo'<div class=titre>Rechercher un accessoire</div><br><div class=titreFiltres>Choisir vos filtres</div><br><div class="showFiltres"><table width=100%><tr>					<th class="txtGras">Type</th>					<th class="txtGras">Plateforme</th>					<th class="txtGras">Editeur</th>					<th class="txtGras">Zoné</th>					<th class="txtGras">Regions</th>				</tr><tr>					<th><div class="fAccTyp"></div></th>					<th><div class="fAccPla"></div></th>					<th><div class="fAccEdi"></div></th>					<th><div class="fAccZon"></div></th>					<th><div class="fAccReg"></div></th>		</tr></table></div><br><div class=AccFilters>Filtres : </div>';		foreach($types as $t)		{				$ty=$t->getAttr('nom_type_accessoire');				echo'				<script>						$(".fAccTyp").append("<div class=\'divAccType\' id=\'AccType'.str_replace(' ','_',$ty).'\' name=\''.$ty.'\' > '.$ty.' </div>");				</script>';								}					foreach($editeurs as $e)		{				$ed=$e->getAttr('nom_editeur');				echo'				<script>						$(".fAccEdi").append("<div class=\'divAccEditeur\' id=\'AccEditeur'.str_replace(' ','_',$ed).'\' name=\''.$ed.'\' > '.$ed.' </div>");				</script>';					}		foreach($plateformes as $p)		{					$pl=$p->getAttr('nom_plateforme');					echo'					<script>							$(".fAccPla").append("<div class=\'divAccPlateforme\' id=\'AccPlateforme'.str_replace(' ','_',$pl).'\' name=\''.$pl.'\' > '.$pl.' </div>");					</script>';		}		foreach($regions as $r)		{				$re=$r->getAttr('nom_region');				echo'				<script>						$(".fAccReg").append("<div class=\'divAccRegion\' id=\'AccRegion'.str_replace(' ','_',$re).'\' name=\''.$re.'\' > '.$re.' </div>");				</script>';		}		echo'<script>				$(".fAccZon").append("<div class=\'divAccZone\' id=\'Zone0\' name=\'Non\' > Non </div>");			$(".fAccZon").append("<div class=\'divAccZone\' id=\'Zone1\' name=\'Oui\' > Oui </div>");		</script>';		echo '<h4><br>Filtrer à l\'aide de la première lettre : <br>		<a onclick="filA(\'\');">ALL</a> |		<a onclick="fil(\'^[^a-z|A-Z]\');">0</a> |		<a onclick="filA(\'^a\');">A</a> |		<a onclick="filA(\'^b\');">B</a> |		<a onclick="filA(\'^c\');">C</a> |		<a onclick="filA(\'^d\');">D</a> |		<a onclick="filA(\'^e\');">E</a> |		<a onclick="filA(\'^f\');">F</a> |		<a onclick="filA(\'^g\');">G</a> |		<a onclick="filA(\'^h\');">H</a> |		<a onclick="filA(\'^i\');">I</a> |		<a onclick="filA(\'^j\');">J</a> |		<a onclick="filA(\'^k\');">K</a> |		<a onclick="filA(\'^l\');">L</a> |		<a onclick="filA(\'^m\');">M</a> |		<a onclick="filA(\'^o\');">N</a> |		<a onclick="filA(\'^n\');">O</a> |		<a onclick="filA(\'^p\');">P</a> |		<a onclick="filA(\'^q\');">Q</a> |		<a onclick="filA(\'^r\');">R</a> |		<a onclick="filA(\'^s\');">S</a> |		<a onclick="filA(\'^t\');">T</a> |		<a onclick="filA(\'^u\');">U</a> |		<a onclick="filA(\'^v\');">V</a> |		<a onclick="filA(\'^w\');">W</a> |		<a onclick="filA(\'^x\');">X</a> |		<a onclick="filA(\'^y\');">Y</a> |		<a onclick="filA(\'^z\');">Z</a></h4>';		affiche_table_accessoires($accessoires, $collection,1, $canAdd);		echo'		<script>/* Custom filtering function which will filter data in column four between two values */	function Remplace(expr,a,b) {      var i=0;      while (i!=-1) {         i=expr.indexOf(a,i);         if (i>=0) {            expr=expr.substring(0,i)+b+expr.substring(i+a.length);            i+=b.length;         }      }      return expr   }		function filA(rexp)	{		$("#tableAccessoires").dataTable().fnFilter(rexp, 0, true, false);	}		$(".divAccPlateforme").click( function () {		if( $(".AccFilters").find("#"+$(this).attr("id"))[0]==null)		{		var p = $(".fAccPla").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".AccFilters").append("<span class=\'fAccPlateforme\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Plateforme : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#AccPlateforme").attr("value", $("#AccPlateforme").attr("value")+" "+$(this).attr("name"));		$("#AccPlateforme").keyup();			$(".fAccPlateforme").click( function () {						var p = $(".fAccPla").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#AccPlateforme").attr("value", Remplace($("#AccPlateforme").attr("value"),$(this).attr("name"),""));						$("#AccPlateforme").keyup();						$(this).remove();			});		}		else		{			var p = $(".AccFilters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#AccPlateforme").attr("value", Remplace($("#AccPlateforme").attr("value"),$(this).attr("name"),""));			$("#AccPlateforme").keyup();			$(p).remove();			}		} );				$(".divAccType").click( function () {				if( $(".AccFilters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fAccTyp").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".AccFilters").append("<span class=\'fAccType\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Type : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#AccType").attr("value", $("#AccType").attr("value")+" "+$(this).attr("name"));		$("#AccType").keyup();			$(".fAccType").click( function () {												var p = $(".fAccTyp").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#AccType").attr("value", Remplace($("#AccType").attr("value"),$(this).attr("name"),""));						$("#AccType").keyup();						$(this).remove();			});		}		else		{			var p = $(".AccFilters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#AccType").attr("value", Remplace($("#AccType").attr("value"),$(this).attr("name"),""));			$("#AccType").keyup();			$(p).remove();			}	} );		$(".divAccRegion").click( function () {				if( $(".AccFilters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fAccReg").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".AccFilters").append("<span class=\'fAccRegion\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Region : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#AccRegion").attr("value", $("#AccRegion").attr("value")+" "+$(this).attr("name"));		$("#AccRegion").keyup();			$(".fAccRegion").click( function () {												var p = $(".fAccReg").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#AccRegion").attr("value", Remplace($("#AccRegion").attr("value"),$(this).attr("name"),""));						$("#AccRegion").keyup();						$(this).remove();			});		}		else		{			var p = $(".AccFilters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#AccRegion").attr("value", Remplace($("#AccRegion").attr("value"),$(this).attr("name"),""));			$("#AccRegion").keyup();			$(p).remove();			}	} );		$(".divAccEditeur").click( function () {				if( $(".AccFilters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fAccEdi").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".AccFilters").append("<span class=\'fAccEditeur\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Editeur : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#AccEditeur").attr("value", $("#AccEditeur").attr("value")+" "+$(this).attr("name"));		$("#AccEditeur").keyup();			$(".fAccEditeur").click( function () {												var p = $(".fAccEdi").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#AccEditeur").attr("value", Remplace($("#AccEditeur").attr("value"),$(this).attr("name"),""));						$("#AccEditeur").keyup();						$(this).remove();			});		}		else		{			var p = $(".AccFilters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#AccEditeur").attr("value", Remplace($("#AccEditeur").attr("value"),$(this).attr("name"),""));			$("#AccEditeur").keyup();			$(p).remove();			}	} );	$(".divAccZone").click( function () {		if( $(".AccFilters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fAccZon").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(".AccFilters").append("<span class=\'fAccZone\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Zone : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");			$("#AccZone").attr("value", $("#AccZone").attr("value")+" "+$(this).attr("name"));			$("#AccZone").keyup();			$(".fAccZone").click( function () {						var p = $(".fAccZon").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#AccZone").attr("value", Remplace($("#AccZone").attr("value"),$(this).attr("name"),""));						$("#AccZone").keyup();						$(this).remove();			});		}		else		{			var p = $(".AccFilters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#AccZone").attr("value", Remplace($("#AccZone").attr("value"),$(this).attr("name"),""));			$("#AccZone").keyup();			$(p).remove();			}	} );			var asInitVals = new Array();$(document).ready(function() {    var oTable = $("#tableAccessoires").dataTable( {		"aLengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],		"sPaginationType": "full_numbers", "iDisplayLength": 50,        "oLanguage": {            "sSearch": "Rechercher:"        }    } );		$("#min").keyup( function() { oTable.fnDraw(); } );		$("tfoot input").keyup( function () {        oTable.fnFilter( this.value, $("tfoot input").index(this) );    } );              $("tfoot input").each( function (i) {        asInitVals[i] = this.value;    } );         $("tfoot input").focus( function () {        if ( this.className == "search_init" )        {            this.className = "";            this.value = "";        }    } );         $("tfoot input").blur( function (i) {        if ( this.value == "" )        {            this.className = "search_init";            this.value = asInitVals[$("tfoot input").index(this)];        }    } );		} );		</script>		<br><br><a href="bddjv.php?action=addAccessoire">L\'accessoire que vous cherchez n\'est pas dans la base de donnée ? Ajoutez le.</a>		<!-- END of templatemo_main -->';			}			function affiche_liste_consoles($consoles, $editeurs, $plateformes, $regions, $plateforme, $collection, $canAdd)	{		echo'<div id="ListeConsoles"><br><div class=titre>Liste des packs</div><div class=titreFiltres>Choisir vos filtres</div><br><div class="showFiltres"><table width=100%><tr>					<th class="txtGras">Editeur</th>					<th class="txtGras">Regions</th>				</tr><tr>					<td><div class="fConEdi"></div></td>					<td><div class="fConReg"></div></td>		</tr></table></div><br><div class=ConFilters>Filtres : </div>';		foreach($editeurs as $e)		{				$ed=$e->getAttr('nom_editeur');				echo'				<script>						$(".fConEdi").append("<div class=\'divConEditeur\' id=\'ConEditeur'.str_replace(' ','_',$ed).'\' name=\''.$ed.'\' > '.$ed.' </div>");				</script>';					}		foreach($regions as $r)		{				$re=$r->getAttr('nom_region');				echo'				<script>						$(".fConReg").append("<div class=\'divConRegion\' id=\'ConRegion'.str_replace(' ','_',$re).'\' name=\''.$re.'\' > '.$re.' </div>");				</script>';		}		echo '<h4><br>Filtrer à l\'aide de la première lettre : <br>		<a onclick="filC(\'\');">ALL</a> |		<a onclick="fil(\'^[^a-z|A-Z]\');">0</a> |		<a onclick="filC(\'^a\');">A</a> |		<a onclick="filC(\'^b\');">B</a> |		<a onclick="filC(\'^c\');">C</a> |		<a onclick="filC(\'^d\');">D</a> |		<a onclick="filC(\'^e\');">E</a> |		<a onclick="filC(\'^f\');">F</a> |		<a onclick="filC(\'^g\');">G</a> |		<a onclick="filC(\'^h\');">H</a> |		<a onclick="filC(\'^i\');">I</a> |		<a onclick="filC(\'^j\');">J</a> |		<a onclick="filC(\'^k\');">K</a> |		<a onclick="filC(\'^l\');">L</a> |		<a onclick="filC(\'^m\');">M</a> |		<a onclick="filC(\'^o\');">N</a> |		<a onclick="filC(\'^n\');">O</a> |		<a onclick="filC(\'^p\');">P</a> |		<a onclick="filC(\'^q\');">Q</a> |		<a onclick="filC(\'^r\');">R</a> |		<a onclick="filC(\'^s\');">S</a> |		<a onclick="filC(\'^t\');">T</a> |		<a onclick="filC(\'^u\');">U</a> |		<a onclick="filC(\'^v\');">V</a> |		<a onclick="filC(\'^w\');">W</a> |		<a onclick="filC(\'^x\');">X</a> |		<a onclick="filC(\'^y\');">Y</a> |		<a onclick="filC(\'^z\');">Z</a></h4>';		affiche_table_consoles($consoles, $collection,0, $canAdd);		echo'		<script>/* Custom filtering function which will filter data in column four between two values */	function Remplace(expr,a,b) {      var i=0;      while (i!=-1) {         i=expr.indexOf(a,i);         if (i>=0) {            expr=expr.substring(0,i)+b+expr.substring(i+a.length);            i+=b.length;         }      }      return expr   }		function filC(rexp)	{		$("#tableConsoles").dataTable().fnFilter(rexp, 0, true, false);	}		$(".divConRegion").click( function () {				if( $(".ConFilters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fConReg").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".ConFilters").append("<span class=\'fConRegion\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Region : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#ConRegion").attr("value", $("#ConRegion").attr("value")+" "+$(this).attr("name"));		$("#ConRegion").keyup();			$(".fConRegion").click( function () {												var p = $(".fConReg").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#ConRegion").attr("value", Remplace($("#ConRegion").attr("value"),$(this).attr("name"),""));						$("#ConRegion").keyup();						$(this).remove();			});		}		else		{			var p = $(".ConFilters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#ConRegion").attr("value", Remplace($("#ConRegion").attr("value"),$(this).attr("name"),""));			$("#ConRegion").keyup();			$(p).remove();			}	} );		$(".divConEditeur").click( function () {				if( $(".ConFilters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fConEdi").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".ConFilters").append("<span class=\'fConEditeur\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Editeur : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#ConEditeur").attr("value", $("#ConEditeur").attr("value")+" "+$(this).attr("name"));		$("#ConEditeur").keyup();			$(".fConEditeur").click( function () {												var p = $(".fConEdi").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#ConEditeur").attr("value", Remplace($("#ConEditeur").attr("value"),$(this).attr("name"),""));						$("#ConEditeur").keyup();						$(this).remove();			});		}		else		{			var p = $(".ConFilters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#ConEditeur").attr("value", Remplace($("#ConEditeur").attr("value"),$(this).attr("name"),""));			$("#ConEditeur").keyup();			$(p).remove();			}	} );			var asInitVals = new Array();$(document).ready(function() {    var accTable = $("#tableConsoles").dataTable( {		"aLengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],		"sPaginationType": "full_numbers", "iDisplayLength": 50,        "oLanguage": {            "sSearch": "Rechercher:"        }    } );			$("tfoot input").keyup( function () {        accTable.fnFilter( this.value, $("#tableConsoles tfoot input").index(this) );    } );              $("tfoot input").each( function (i) {        asInitVals[i] = this.value;    } );         $("tfoot input").focus( function () {        if ( this.className == "search_init" )        {            this.className = "";            this.value = "";        }    } );         $("tfoot input").blur( function (i) {        if ( this.value == "" )        {            this.className = "search_init";            this.value = asInitVals[$("tfoot input").index(this)];        }    } );	$(".ConFilters").append("<span id=\''.str_replace(' ','_',$plateforme).'\' name=\''.$plateforme.'\' >Plateforme : '.$plateforme.' <img height=10 width=10 src=\'img/lock.png\' title=\'Impossible de retirer le filtre\' /> </span>");	$("#ConPlateforme").attr("value", "'.$plateforme.'");	$("#ConPlateforme").keyup();	} );		</script>		<br><br><a href="bddjv.php?action=addConsole">Le pack que vous cherchez n\'est pas dans la base de donnée ? Ajoutez le.</a></div>		<!-- END of templatemo_main -->';			}			function affiche_liste_consoles_lite($consoles, $collection, $canAdd)	{		echo'<div id="ListeConsoles"><br><div class=titre>Liste des packs</div>';		affiche_table_consoles_lite($consoles, $collection,0, $canAdd);		echo'<br><br><a href="bddjv.php?action=addConsole">Le pack que vous cherchez n\'est pas dans la base de donnée ? Ajoutez le.</a></div>		<!-- END of templatemo_main -->';			}		function affiche_liste_toutes_consoles($consoles, $editeurs, $plateformes, $regions, $collection, $canAdd)	{		echo'<div class=titre>Rechercher un pack</div><br><div class=titreFiltres>Choisir vos filtres</div><br><div class="showFiltres"><table width=100%><tr>					<th class="txtGras">Plateforme</th>					<th class="txtGras">Editeur</th>					<th class="txtGras">Regions</th>				</tr><tr>					<td><div class="fConPla"></div></td>					<td><div class="fConEdi"></div></td>					<td><div class="fConReg"></div></td>		</tr></table></div><br><div class=ConFilters>Filtres : </div>';		foreach($editeurs as $e)		{				$ed=$e->getAttr('nom_editeur');				echo'				<script>						$(".fConEdi").append("<div class=\'divConEditeur\' id=\'ConEditeur'.str_replace(' ','_',$ed).'\' name=\''.$ed.'\' > '.$ed.' </div>");				</script>';					}		foreach($plateformes as $p)		{					$pl=$p->getAttr('nom_plateforme');					echo'					<script>							$(".fConPla").append("<div class=\'divConPlateforme\' id=\'ConPlateforme'.str_replace(' ','_',$pl).'\' name=\''.$pl.'\' > '.$pl.' </div>");					</script>';		}		foreach($regions as $r)		{				$re=$r->getAttr('nom_region');				echo'				<script>						$(".fConReg").append("<div class=\'divConRegion\' id=\'ConRegion'.str_replace(' ','_',$re).'\' name=\''.$re.'\' > '.$re.' </div>");				</script>';		}		echo '<h4><br>Filtrer à l\'aide de la première lettre : <br>		<a onclick="filC(\'\');">ALL</a> |		<a onclick="fil(\'^[^a-z|A-Z]\');">0</a> |		<a onclick="filC(\'^a\');">A</a> |		<a onclick="filC(\'^b\');">B</a> |		<a onclick="filC(\'^c\');">C</a> |		<a onclick="filC(\'^d\');">D</a> |		<a onclick="filC(\'^e\');">E</a> |		<a onclick="filC(\'^f\');">F</a> |		<a onclick="filC(\'^g\');">G</a> |		<a onclick="filC(\'^h\');">H</a> |		<a onclick="filC(\'^i\');">I</a> |		<a onclick="filC(\'^j\');">J</a> |		<a onclick="filC(\'^k\');">K</a> |		<a onclick="filC(\'^l\');">L</a> |		<a onclick="filC(\'^m\');">M</a> |		<a onclick="filC(\'^o\');">N</a> |		<a onclick="filC(\'^n\');">O</a> |		<a onclick="filC(\'^p\');">P</a> |		<a onclick="filC(\'^q\');">Q</a> |		<a onclick="filC(\'^r\');">R</a> |		<a onclick="filC(\'^s\');">S</a> |		<a onclick="filC(\'^t\');">T</a> |		<a onclick="filC(\'^u\');">U</a> |		<a onclick="filC(\'^v\');">V</a> |		<a onclick="filC(\'^w\');">W</a> |		<a onclick="filC(\'^x\');">X</a> |		<a onclick="filC(\'^y\');">Y</a> |		<a onclick="filC(\'^z\');">Z</a></h4>';		affiche_table_consoles($consoles, $collection, 1, $canAdd);		echo'		<script>/* Custom filtering function which will filter data in column four between two values */	function Remplace(expr,a,b) {      var i=0;      while (i!=-1) {         i=expr.indexOf(a,i);         if (i>=0) {            expr=expr.substring(0,i)+b+expr.substring(i+a.length);            i+=b.length;         }      }      return expr   }		function filC(rexp)	{		$("#tableConsoles").dataTable().fnFilter(rexp, 0, true, false);	}		$(".divConPlateforme").click( function () {		if( $(".ConFilters").find("#"+$(this).attr("id"))[0]==null)		{		var p = $(".fConPla").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".ConFilters").append("<span class=\'fConPlateforme\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Plateforme : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#ConPlateforme").attr("value", $("#ConPlateforme").attr("value")+" "+$(this).attr("name"));		$("#ConPlateforme").keyup();			$(".fConPlateforme").click( function () {						var p = $(".fConPla").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#ConPlateforme").attr("value", Remplace($("#ConPlateforme").attr("value"),$(this).attr("name"),""));						$("#ConPlateforme").keyup();						$(this).remove();			});		}		else		{			var p = $(".ConFilters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#ConPlateforme").attr("value", Remplace($("#ConPlateforme").attr("value"),$(this).attr("name"),""));			$("#ConPlateforme").keyup();			$(p).remove();			}		} );		$(".divConRegion").click( function () {				if( $(".ConFilters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fConReg").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".ConFilters").append("<span class=\'fConRegion\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Region : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#ConRegion").attr("value", $("#ConRegion").attr("value")+" "+$(this).attr("name"));		$("#ConRegion").keyup();			$(".fConRegion").click( function () {												var p = $(".fConReg").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#ConRegion").attr("value", Remplace($("#ConRegion").attr("value"),$(this).attr("name"),""));						$("#ConRegion").keyup();						$(this).remove();			});		}		else		{			var p = $(".ConFilters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#ConRegion").attr("value", Remplace($("#ConRegion").attr("value"),$(this).attr("name"),""));			$("#ConRegion").keyup();			$(p).remove();			}	} );		$(".divConEditeur").click( function () {				if( $(".ConFilters").find("#"+$(this).attr("id"))[0]==null)		{			var p = $(".fConEdi").find("#"+$(this).attr("id"));			$(p[0]).mouseenter(function() 			{				$(this).css("background-color", "#ff7777");			});			$(p[0]).mouseleave(function() 			{				$(this).css("background-color", "#ccffcc");			});		$(".ConFilters").append("<span class=\'fConEditeur\' id=\'"+$(this).attr("id")+"\' name=\'"+$(this).attr("name")+"\' >Editeur : "+$(this).attr("name")+" <img height=10 width=10 src=\'img/close.png\' title=\'Retirer le filtre\' /> </span>");        $("#ConEditeur").attr("value", $("#ConEditeur").attr("value")+" "+$(this).attr("name"));		$("#ConEditeur").keyup();			$(".fConEditeur").click( function () {												var p = $(".fConEdi").find("#"+$(this).attr("id"));						$(p[0]).mouseenter(function() 						{							$(this).css("background-color", "#ccffcc");						});						$(p[0]).mouseleave(function() 						{							$(this).css("background-color", "");						});							$(p[0]).css("background-color", "");						$("#ConEditeur").attr("value", Remplace($("#ConEditeur").attr("value"),$(this).attr("name"),""));						$("#ConEditeur").keyup();						$(this).remove();			});		}		else		{			var p = $(".ConFilters").find("#"+$(this).attr("id"))[0];			$(this).mouseenter(function() 			{				$(this).css("background-color", "#ccffcc");			});			$(this).mouseleave(function() 			{				$(this).css("background-color", "");			});			$("#ConEditeur").attr("value", Remplace($("#ConEditeur").attr("value"),$(this).attr("name"),""));			$("#ConEditeur").keyup();			$(p).remove();			}	} );			var asInitVals = new Array();$(document).ready(function() {    var oTable = $("#tableConsoles").dataTable( {		"aLengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],		"sPaginationType": "full_numbers", "iDisplayLength": 50,        "oLanguage": {            "sSearch": "Rechercher:"        }    } );		$("#min").keyup( function() { oTable.fnDraw(); } );		$("tfoot input").keyup( function () {        oTable.fnFilter( this.value, $("tfoot input").index(this) );    } );              $("tfoot input").each( function (i) {        asInitVals[i] = this.value;    } );         $("tfoot input").focus( function () {        if ( this.className == "search_init" )        {            this.className = "";            this.value = "";        }    } );         $("tfoot input").blur( function (i) {        if ( this.value == "" )        {            this.className = "search_init";            this.value = asInitVals[$("tfoot input").index(this)];        }    } );		} );		</script>		<br><br><a href="bddjv.php?action=addConsole">Le pack que vous cherchez n\'est pas dans la base de donnée ? Ajoutez le.</a>		<!-- END of templatemo_main -->';			}		function affiche_jeu($jeu, $versions, $var)	{		$xPlateforme=35;		if(is_file($jeu['logo_plateforme']))		{			$img = getimagesize($jeu['logo_plateforme']);			$xPlateforme=$img[0]*(35/$img[1]);		}		$xDeveloppeur=35;		if(is_file($jeu['logo_developpeur']))		{			$img = getimagesize($jeu['logo_developpeur']);			$xDeveloppeur=$img[0]*(35/$img[1]);		}		$xType=35;		if(is_file($jeu['logo_type_jeu']))		{			$img = getimagesize($jeu['logo_type_jeu']);			$xType=$img[0]*(35/$img[1]);		}		$xGroupe=35;		if(is_file($jeu['logo_groupe']))		{			$img = getimagesize($jeu['logo_groupe']);			$xGroupe=$img[0]*(35/$img[1]);		}		echo'<div><div id="infos"><div id="jeu">';		if($jeu['jeu_valide']==1)		{			echo'<img src="./img/info_valide_small.png" title="Informations vérifiés par Collectible Games">';		}		echo'		<span class="GrosTitre">'.$jeu['nom_jeu'].'</span><br>		Plateforme : <img height=35 width='.$xPlateforme.' src="'.$jeu['logo_plateforme'].'" title="'.$jeu['nom_plateforme'].'" /><br>		Developpeur : <img height=35 width='.$xDeveloppeur.' src="'.$jeu['logo_developpeur'].'" title="'.$jeu['nom_developpeur'].'" /><br>		Type : <img height=35 width='.$xType.' src="'.$jeu['logo_type_jeu'].'" title="'.$jeu['nom_type'].'" /><br>		Groupe : <img height=35 width='.$xGroupe.' src="'.$jeu['logo_groupe'].'" title="'.$jeu['nom_groupe'].'" /><br>		Nombre De Joueurs : ';		for($i=0;$i<$jeu['nombre_joueurs'];$i++)		{			echo'<img height=35 width=35 src="img/joueur.png" title="'.$jeu['nombre_joueurs'].'" />';		}		if($jeu['nombre_joueurs']==0)		{			echo"Inconnu";		}		if(sizeof($jeu['autres_plateformes'])>1||$jeu['autres_plateformes']['id_plateforme']!=0)		{			echo'<br>Existe aussi sur : ';			foreach($jeu['autres_plateformes'] as $plateforme)			{				$x=35;				if(is_file($plateforme['logo_plateforme']))				{					$img = getimagesize($plateforme['logo_plateforme']);					$x=$img[0]*(35/$img[1]);				}				echo'<img height=35 width='.$x.' src="'.$plateforme['logo_plateforme'].'" title="'.$plateforme['nom_plateforme'].'" /> ';			}		}		echo'<br>		Jouable avec : ';		foreach($jeu['commande'] as $commande)		{			$x=35;			if(is_file($commande['logo_commande']))			{				$img = getimagesize($commande['logo_commande']);				$x=$img[0]*(35/$img[1]);			}			echo'<img height=35 width='.$x.' src="'.$commande['logo_commande'].'" title="'.$commande['nom_commande'].'" /> ';		}		if($jeu['remarque_jeu']!="")		{			echo'<br>			Remarque : '.$jeu['remarque_jeu'];		}		$x=200;		if(is_file($versions[0]['photo_boite']))		{						$img = getimagesize($versions[0]['photo_boite']);						$x=$img[0]*(200/$img[1]);		}		echo'</div><div id="photo">   				<a href="'.$versions[0]['photo_boite'].'" class="zoombox zgallery1">					<img height=200 width='.$x.' src="'.$versions[0]['photo_boite'].'" />				</a>			</div>			</div><br><br>';		foreach($versions as $version)		{			echo'			<div id="infosV"><div id="version">';			$nom;			if($version['autre_nom_jeu']!="")			{				$nom = $version['autre_nom_jeu'];			}			else			{				$nom = $jeu['nom_jeu'];			}			$edition ='';			if($version['nom_edition']!="Basique")			{			$edition  = '  -  Edition '.$version['nom_edition'];			}			$xFormat=35;			if(is_file($version['logo_format']))			{				$img = getimagesize($version['logo_format']);				$xFormat=$img[0]*(35/$img[1]);			}			$xEdition=35;			if(is_file($version['logo_edition']))			{				$img = getimagesize($version['logo_edition']);				$xEdition=$img[0]*(35/$img[1]);			}			$xEditeur=35;			if(is_file($version['logo_editeur']))			{				$img = getimagesize($version['logo_editeur']);				$xEditeur=$img[0]*(35/$img[1]);			}			$xSupport=35;			if(is_file($version['logo_support']))			{				$img = getimagesize($version['logo_support']);				$xSupport=$img[0]*(35/$img[1]);			}			$xRegion=25;			if(is_file($version['logo_region']))			{				$img = getimagesize($version['logo_region']);				$xRegion=$img[0]*(25/$img[1]);			}			echo'<br>			<div class="sousTitre"><img height=25 width='.$xRegion.' src="'.$version['logo_region'].'" title="'.$version['nom_region'].'" /> '.$nom.$edition.' <input type="button" value="Afficher" style="width:45px;font-size:10px;margin:0px;padding:0px;" 			onclick="if (this.parentNode.parentNode.getElementsByTagName(\'div\')[1].style.display != \'\') 			{ 				this.parentNode.parentNode.getElementsByTagName(\'div\')[1].style.display = \'\';				this.value = \'Cacher\'; 				this.parentNode.parentNode.parentNode.getElementsByTagName(\'div\')[3].style.display = \'\';			} 			else 			{ 				this.parentNode.parentNode.getElementsByTagName(\'div\')[1].style.display = \'none\'; 				this.value = \'Afficher\'; 				this.parentNode.parentNode.parentNode.getElementsByTagName(\'div\')[3].style.display = \'none\'; 			}" /></div><br>			<div class="quotecontent" style="display: none;">			Format : <img height=35 width='.$xFormat.' src="'.$version['logo_format'].'" title="'.$version['nom_format'].'" /><br>	<br>';				if($version['nom_edition']!="Classique")			{				if($version['logo_edition']!="img/inconnu.png")				{					echo 'Edition : <img height=35 width='.$xEdition.' src="'.$version['logo_edition'].'" title="'.$version['nom_edition'].'" /><br>';				}				else				{					echo 'Edition : '.$version['nom_edition'].'<br>';				}			}			echo 'Editeur : <img height=35 width='.$xEditeur.' src="'.$version['logo_editeur'].'" title="'.$version['nom_editeur'].'" /><br>				Support : <img height=35 width='.$xSupport.' src="'.$version['logo_support'].'" title="'.$version['nom_support'].'" /><br>				Référence : '.$version['reference_jeu'].'<br>			Code Barre : '.$version['code_barre_jeu'].'<br>			Date de sortie : '.$version['date_sortie_jeu'].'<br>			Langues : ';			foreach($version['langues'] as $langue)			{				$x=35;				if(is_file($langue['logo_langue']))				{					$img = getimagesize($langue['logo_langue']);					$x=$img[0]*(35/$img[1]);				}				echo'<img height=35 width='.$x.' src="'.$langue['logo_langue'].'" title="'.$langue['nom_langue'].'" /> ';			}			if(sizeof($version['accessoires'])>0)			{				echo'<br>Accessoire(s) inclus : ';				foreach($version['accessoires'] as $accessoire)				{					echo'<a href="bddjv.php?action=viewAccessoire&id='.$accessoire['id_accessoire'].'" />'.$accessoire['nom_accessoire'].'</a> ';				}			}			if($version['remarque_version_jeu']!="")			{				echo'<br>				Remarque : '.$version['remarque_version_jeu'];			}			if(in_array($var->data['group_id'], Base::getModos()))			{				if($version['version_jeu_valide']==0)				{					echo"<br><a href='bddjv.php?action=adm&validerVersionJeu=".$version['id_version']."'>Valider la version</a>";				}				echo"<br><a href='bddjv.php?action=adm&supprVersionJeu=".$version['id_version']."'>Supprimer la version</a>";			}					$x=200;			if(is_file($version['photo_boite']))			{							$img = getimagesize($version['photo_boite']);							$x=$img[0]*(200/$img[1]);			}			$x2=50;			if(is_file($version['photo_notice']))			{							$img = getimagesize($version['photo_notice']);							$x2=$img[0]*(50/$img[1]);			}			$x3=50;			if(is_file($version['photo_loose']))			{							$img = getimagesize($version['photo_loose']);							$x3=$img[0]*(50/$img[1]);			}			$x4=50;			if(is_file($version['photo_dos_boite']))			{							$img = getimagesize($version['photo_dos_boite']);							$x4=$img[0]*(50/$img[1]);			}			echo'</div></div><div id="photo" class="quotecontent" style="display: none;">			<a href="'.$version['photo_boite'].'" class="zoombox zgallery1"><img height=200 width='.$x.' src="'.$version['photo_boite'].'" /></a><br>			<a href="'.$version['photo_dos_boite'].'" class="zoombox zgallery1"><img height=50 width='.$x4.' src="'.$version['photo_dos_boite'].'" /></a>			<a href="'.$version['photo_notice'].'" class="zoombox zgallery1"><img height=50 width='.$x2.' src="'.$version['photo_notice'].'" /></a>			<a href="'.$version['photo_loose'].'" class="zoombox zgallery1"><img height=50 width='.$x3.' src="'.$version['photo_loose'].'" /></a>			</div></div>			<div id="clear"></div>			';		}				echo'<br></div><div class="clear"></div>';				/*		echo '<script>				$(function(){		 					$("input[type=checkbox]").change(function(){						if ($(this).is(":checked")){							$(this).next("span").css("display","inline");						} else {							$(this).next("span").css("display","none");						}					});					$("input[type=checkbox]").change();		 				});			</script>			Des données sont éronnées sur cette page ? Indiquez le nous.								<script language="Javascript">						function ouvertureErreurs() {							if(document.getElementById("erreurs").style.display == "none")							{								document.getElementById("erreurs").style.display="block";							}							else							{								document.getElementById("erreurs").style.display="None";							}						}					</script><a onclick="ouvertureErreurs();return false;">Afficher / Cacher le formulaire</a>			<div id="erreurs">			<div class=sousTitre>Informations générales</div>			<form action="" method=POST>			<input type=hidden id="id_jeu" name="id_jeu" value="'.$jeu['id_jeu'].'"><input type=hidden id="jeu" name="jeu" value="'.$jeu['nom_jeu'].'">			<input type=checkbox id="check_nom_jeu" name="check_nom_jeu" value=1>Nom du jeu <span style="display:none;"><input type=text id="nom_jeu" name="nom_jeu"></span> <br>			<input type=checkbox id="check_plateforme" name="check_plateforme" value=1>Plateforme <span style="display:none;"><input type=text id="plateforme" name="plateforme"></span> <br>			<input type=checkbox id="check_type_jeu" name="check_type_jeu" value=1>Type du jeu <span style="display:none;"><input type=text id="type" name="type"></span> <br>			<input type=checkbox id="check_groupe" name="check_groupe" value=1>Groupe du jeu <span style="display:none;"><input type=text id="groupe" name="groupe"></span> <br>			<input type=checkbox id="check_developpeur" name="check_developpeur" value=1>Developpeur <span style="display:none;"><input type=text id="developpeur" name="developpeur"></span> <br>			<input type=checkbox id="check_nombre_joueurs" name="check_nombre_joueurs" value=1>Nombre De Joueurs <span style="display:none;"><input type=text id="nombre_joueurs" name="nombre_joueurs"></span> <br> ';			foreach($versions as $version)			{				$i=$version['id_version'];				echo'<div class=sousTitre>'.$version['nom_region'].' Edition '.$version['nom_edition'].' :<br> </div>				<input type=checkbox id="nom_region-'.$i.'" name="nom_region-'.$i.'" value=1>Jeu non vendu dans la région <span style="display:none;"></span><br>				<input type=checkbox id="nom_edition-'.$i.'" name="nom_edition-'.$i.'" value=1>Edition inexistante pour ce jeu <span style="display:none;"></span><br>				<input type=checkbox id="photo_loose-'.$i.'" name="photo_loose-'.$i.'" value=1>Photo loose <span style="display:none;"></span><br>				<input type=checkbox id="photo_notice-'.$i.'" name="photo_notice-'.$i.'" value=1>Photo notice <span style="display:none;"></span><br>				<input type=checkbox id="photo_boite-'.$i.'" name="photo_boite-'.$i.'" value=1>Photo boite <span style="display:none;"></span><br>				<input type=checkbox id="check_nom_editeur-'.$i.'" name="check_nom_editeur-'.$i.'" value=1>Editeur <span style="display:none;"><input type=text id="nom_editeur-'.$i.'" name="nom_editeur-'.$i.'"></span><br>				<input type=checkbox id="check_code_barre_jeu-'.$i.'" name="check_code_barre_jeu-'.$i.'" value=1>Code barre<span style="display:none;"><input type=text id="code_barre_jeu-'.$i.'" name="code_barre_jeu-'.$i.'"></span><br>				<input type=checkbox id="check_reference_jeu-'.$i.'" name="check_reference_jeu-'.$i.'" value=1>Reference<span style="display:none;"><input type=text id="reference_jeu-'.$i.'" name="reference_jeu-'.$i.'"></span><br>				<input type=checkbox id="check_date_sortie_jeu-'.$i.'" name="check_date_sortie_jeu-'.$i.'" value=1>Date de sortie<span style="display:none;"><input type=text id="date_sortie_jeu-'.$i.'" name="date_sortie_jeu-'.$i.'"></span><br>				<input type=checkbox id="check_nom_format-'.$i.'" name="check_nom_format-'.$i.'" value=1>Format<span style="display:none;"><input type=text id="nom_format-'.$i.'" name="nom_format-'.$i.'"></span><br>				<input type=checkbox id="check_nom_support-'.$i.'" name="check_nom_support-'.$i.'" value=1>Support<span style="display:none;"><input type=text id="nom_support-'.$i.'" name="nom_support-'.$i.'"></span><br>				<input type=checkbox id="check_autre_nom_jeu-'.$i.'" name="check_autre_nom_jeu-'.$i.'" value=1>Nom du jeu dans cette version<span style="display:none;"><input type=text id="autre_nom_jeu-'.$i.'" name="autre_nom_jeu-'.$i.'"></span><br>';			}					echo'<br><input type=submit value"Valider" name="validerReportInformationErronee"></form></div>			<script>				document.getElementById("erreurs").style.display="None";			</script><div class="clear"></div>';*/				echo'<br><div class="lienAdmin"><a href="bddjv.php?action=addVersion&jeu='.$jeu["id_jeu"].'" >Ajouter une version au jeu</a></div>		';		if(in_array($var->data['group_id'], Base::getModos()))		{			echo"<div class='lienAdmin'><a href='bddjv.php?action=adm&supprJeu=".$jeu['id_jeu']."'>Supprimer le jeu</a></div>";			if($jeu['jeu_valide']==0)			{				echo"<div class='lienAdmin'><a href='bddjv.php?action=adm&validerJeu=".$jeu['id_jeu']."'>Valider le jeu</a></div>";			}				}			echo"<div class='lienAdmin'><a href='bddjv.php?action=adm&jeu=".$jeu['id_jeu']."'>Modifier le jeu</a></div>";			// TODO remonter la ligne pour interdire la modification des jeux par les membres			echo '    			<script type="text/javascript">				jQuery(function($){					$("a.zoombox").zoombox();				});			</script>';	}			function affiche_accessoire($accessoire, $versions, $var)	{		$xPlateforme=35;		if(is_file($accessoire['logo_plateforme']))		{			$img = getimagesize($accessoire['logo_plateforme']);			$xPlateforme=$img[0]*(35/$img[1]);		}		$xEditeur=35;		if(is_file($accessoire['logo_editeur']))		{			$img = getimagesize($accessoire['logo_editeur']);			$xEditeur=$img[0]*(35/$img[1]);		}		$x=200;		if(is_file($versions[0]['photo_accessoire']))		{			$img = getimagesize($versions[0]['photo_accessoire']);			$x=$img[0]*(200/$img[1]);		}		echo'<div><div id="infos"><div id="accessoire">';		if($accessoire['accessoire_valide']==1)		{			echo'<img src="./img/info_valide_small.png" title="Informations vérifiés par Collectible Games">';		}		echo'<div class="GrosTitre">'.$accessoire['nom_accessoire'].'</div>	<br>		Plateforme : <img height=35 width='.$xPlateforme.' src="'.$accessoire['logo_plateforme'].'" title="'.$accessoire['nom_plateforme'].'" /><br>		Editeur : <img height=35 width='.$xEditeur.' src="'.$accessoire['logo_editeur'].'" title="'.$accessoire['nom_editeur'].'" /><br>			Zoné : '.$accessoire['zone'];		if($accessoire['remarque_accessoire']!="")		{			echo'<br>			Remarque : '.$accessoire['remarque_accessoire'];		}		echo '<br>		</div><div id="photo">   			<a href="'.$versions[0]['photo_accessoire'].'" class="zoombox zgallery1"><img height=200 width='.$x.' src="'.$versions[0]['photo_accessoire'].'" /></a>			</div></div><br><br>';		foreach($versions as $version)		{			echo'			<div id="infosV"><div id="version">';			$nom = $accessoire['nom_accessoire'];			$xRegion=25;			if(is_file($version['logo_region']))			{				$img = getimagesize($version['logo_region']);				$xRegion=$img[0]*(25/$img[1]);			}			echo'<br>			<div class="sousTitre"><img height=25 width='.$xRegion.' src="'.$version['logo_region'].'" title="'.$version['nom_region'].'" /> '.$nom.' <input type="button" value="Afficher" style="width:45px;font-size:10px;margin:0px;padding:0px;" 			onclick="if (this.parentNode.parentNode.getElementsByTagName(\'div\')[1].style.display != \'\') 			{ 				this.parentNode.parentNode.getElementsByTagName(\'div\')[1].style.display = \'\';				this.value = \'Cacher\'; 				this.parentNode.parentNode.parentNode.getElementsByTagName(\'div\')[3].style.display = \'\';			} 			else 			{ 				this.parentNode.parentNode.getElementsByTagName(\'div\')[1].style.display = \'none\'; 				this.value = \'Afficher\'; 				this.parentNode.parentNode.parentNode.getElementsByTagName(\'div\')[3].style.display = \'none\'; 			}" /></div><br>			<div class="quotecontent" style="display: none;">			Référence : '.$version['ref_accessoire'];			if($version['remarque_version_accessoire']!="")			{				echo'<br>				Remarque : '.$version['remarque_version_accessoire'];			}			echo '<br>Prix : '.$version['prix_accessoire'].'<br>			Date de sortie : '.$version['date_sortie_accessoire'].'<br>';			$x=200;			if(is_file($version['photo_accessoire']))			{							$img = getimagesize($version['photo_accessoire']);							$x=$img[0]*(200/$img[1]);			}			echo'<br>';						if(in_array($var->data['group_id'], Base::getModos()))			{				if($version["version_accessoire_valide"]==0)				{					echo"<a href='bddjv.php?action=adm&validerVersionAccessoire=".$version['id_version_accessoire']."'>Valider la version</a><br>";				}				echo"<a href='bddjv.php?action=adm&supprVersionAccessoire=".$version['id_version_accessoire']."'>Supprimer la version</a><br>";			}			echo '<br><br><br></div></div><div id="photo" class="quotecontent" style="display: none;" />			<a href="'.$version['photo_accessoire'].'" class="zoombox zgallery1"><img height=200 width='.$x.' src="'.$version['photo_accessoire'].'" /></a>			</div>			</div>			<div id="clear"></div>			';		}				echo'<br><div class="clear"></div>				<br><div class="lienAdmin"><a href="bddjv.php?action=addVersion&accessoire='.$accessoire["id_accessoire"].'" >Ajouter une version à l\'accessoire</a></div>		';		if(in_array($var->data['group_id'], Base::getModos()))		{			echo"<div class='lienAdmin'>";			if($accessoire["accessoire_valide"]==0)			{				echo"<a href='bddjv.php?action=adm&validerAccessoire=".$accessoire['id_accessoire']."'>Valider l'accessoire</a><br>";			}			echo"<a href='bddjv.php?action=adm&supprAccessoire=".$accessoire['id_accessoire']."'>Supprimer l'accessoire</a><br>			</div>";		}		echo"<div class='lienAdmin'><a href='bddjv.php?action=adm&accessoire=".$accessoire["id_accessoire"]."'>Modifier l'accessoire</a></div>";		// TODO remonter la ligne pour interdire la modification des accessoires par les membres		echo '</div>';			echo '    			<script type="text/javascript">				jQuery(function($){					$("a.zoombox").zoombox();				});			</script>';	}			function affiche_console($console, $versions, $var)	{		$xPlateforme=35;		if(is_file($console['logo_plateforme']))		{			$img = getimagesize($console['logo_plateforme']);			$xPlateforme=$img[0]*(35/$img[1]);		}		$xEditeur=35;		if(is_file($console['logo_editeur']))		{			$img = getimagesize($console['logo_editeur']);			$xEditeur=$img[0]*(35/$img[1]);		}		$x=200;		if(is_file($versions[0]['photo_console']))		{			$img = getimagesize($versions[0]['photo_console']);			$x=$img[0]*(200/$img[1]);		}		echo'<div><div id="infos"><div id="console">';		if($console['console_valide']==1)		{			echo'<img src="./img/info_valide_small.png" title="Informations vérifiés par Collectible Games">';		}		echo'<div class="GrosTitre">'.$console['nom_console'].'</div><br>		Plateforme : <img height=35 width='.$xPlateforme.' src="'.$console['logo_plateforme'].'" title="'.$console['nom_plateforme'].'" /><br>		Editeur : <img height=35 width='.$xEditeur.' src="'.$console['logo_editeur'].'" title="'.$console['nom_editeur'].'" />';		if($version['remarque_version_jeu']!="")		{			echo'<br>			Remarque : '.$console['remarque_console'];		}		if(sizeof($console['accessoires'])>0)		{			echo'<br>Accessoire(s) inclus : ';			foreach($console['accessoires'] as $accessoire)			{				echo'<a href="bddjv.php?action=viewAccessoire&id='.$accessoire['id_accessoire'].'" />'.$accessoire['nom_accessoire'].'</a> ';			}		}		if(sizeof($console['jeux'])>0)		{			echo'<br>Jeu(x) inclus : ';			foreach($console['jeux'] as $jeu)			{				echo'<a href="bddjv.php?action=view&id='.$jeu['id_jeu'].'" />'.$jeu['nom_jeu'].'</a> ';			}		}		echo'</div><div id="photo">   			<a href="'.$versions[0]['photo_console'].'" class="zoombox zgallery1"><img height=200 width='.$x.' src="'.$versions[0]['photo_console'].'" /></a>			</div></div><br><br>';		foreach($versions as $version)		{			echo'			<div id="infosV"><div id="version">';			$nom = $console['nom_console'];			$xRegion=25;			if(is_file($version['logo_region']))			{				$img = getimagesize($version['logo_region']);				$xRegion=$img[0]*(25/$img[1]);			}			echo'<br>			<div class="sousTitre"><img height=25 width='.$xRegion.' src="'.$version['logo_region'].'" title="'.$version['nom_region'].'" /> '.$console['nom_console'].' <input type="button" value="Afficher" style="width:45px;font-size:10px;margin:0px;padding:0px;" 			onclick="if (this.parentNode.parentNode.getElementsByTagName(\'div\')[1].style.display != \'\') 			{ 				this.parentNode.parentNode.getElementsByTagName(\'div\')[1].style.display = \'\';				this.value = \'Cacher\'; 				this.parentNode.parentNode.parentNode.getElementsByTagName(\'div\')[3].style.display = \'\';			} 			else 			{ 				this.parentNode.parentNode.getElementsByTagName(\'div\')[1].style.display = \'none\'; 				this.value = \'Afficher\'; 				this.parentNode.parentNode.parentNode.getElementsByTagName(\'div\')[3].style.display = \'none\'; 			}" /></div><br>			<div class="quotecontent" style="display: none;">			Référence : '.$version['reference_console'].'<br>			Prix : '.$version['prix_console'].'<br>			Date de sortie : '.$version['date_sortie_console'];			if($version['remarque_version_jeu']!="")			{				echo'<br>				Remarque : '.$version['remarque_version_jeu'];			}			$x=200;			if(is_file($version['photo_console']))			{							$img = getimagesize($version['photo_console']);							$x=$img[0]*(200/$img[1]);			}			echo'<br>';						if(in_array($var->data['group_id'], Base::getModos()))			{				if($version["version_console_valide"]==0)				{					echo"<a href='bddjv.php?action=adm&validerVersionConsole=".$version['id_version_console']."'>Valider la version</a><br>";				}				echo"<a href='bddjv.php?action=adm&supprVersionConsole=".$version['id_version_console']."'>Supprimer la version</a>";			}			echo'<br><br><br><br></div></div><div id="photo" class="quotecontent" style="display: none;">			<a href="'.$version['photo_console'].'" class="zoombox zgallery1"><img height=200 width='.$x.' src="'.$version['photo_console'].'" /></a>			</div>			</div>			<div id="clear"></div>			';		}				echo'<br></div><div class="clear"></div>				<br><div class="lienAdmin"><a href="bddjv.php?action=addVersion&console='.$console["id_console"].'" >Ajouter une version au pack</a></div>		';		if(in_array($var->data['group_id'], Base::getModos()))		{			echo"<div class='lienAdmin'>";			if($console["console_valide"]==0)			{				echo"<a href='bddjv.php?action=adm&validerConsole=".$console['id_console']."'>Valider le pack</a><br>";			}			echo"<a href='bddjv.php?action=adm&supprConsole=".$console['id_console']."'>Supprimer le pack</a><br>			</div>";		}		echo"<div class='lienAdmin'><a href='bddjv.php?action=adm&console=".$console["id_console"]."'>Modifier le pack</a></div>";		// TODO remonter la ligne pour interdire la modification des accessoires par les membres			echo '    			<script type="text/javascript">				jQuery(function($){					$("a.zoombox").zoombox();				});			</script>';			}		function affiche_ajout_jeu($developpeurs, $editeurs, $editions, $noms_jeux, $plateformes, $regions, $typesJeux, $groupes, $commandes, $langues, $supports, $formats, $accessoires)	{				echo'<div class="Titre">Ajouter un Jeu</div>		<form id ="jeu" action="" method=POST enctype="multipart/form-data"><br>		Les informations en gras sont obligatoires<br>		<table class="formulaire">		<tr><td><a class="InfosObligatoires">Nom du jeu</a> : </td><td><input type=text name="nom_jeu" id="nom_jeu" /></td></tr>		<tr><td><a class="InfosObligatoires">Plateforme</a> : </td><td><input id="plateforme" name="plateforme" size=16 /></td></tr>		<tr><td>Type du jeu : </td><td><input id="type_jeu" name="type_jeu" size=16 /> (Exemple : Course)</td></tr>		<tr><td>Groupe Parent : </td><td><input id="groupe_parent" name="groupe_parent" size=16 /> (Exemple : Mario)</td></tr>		<tr><td>Developpeur : </td><td><input id="developpeur" name="developpeur" size=16 /></td></tr>		<tr><td>Nombre de joueurs : </td><td><input type=text NAME="nombre_joueurs" /></td></tr>		<tr><td>Remarque : </td><td><input type=text NAME="remarque_jeu" /> (Exemple : Réédition sur Wii du jeu Gamecube) </td></tr>		<input type=hidden NAME="barriere_langue" value=0 /></td></tr></table><br>		<div id="div_version-1">		<table class="formulaire"><tr><td><a class="InfosObligatoires">Region</a> : </td><td><input type=text name="nom_region-1" id="nom_region-1" /> (Exemple : Europe)</td></tr>		<tr><td><a class="InfosObligatoires">Edition</a> : </td><td><input type=text name="nom_edition-1" id="nom_edition-1" /></td></tr>		<tr><td>Nom du jeu dans cette version : </td><td><input type=text name="nom_jeu-1" id="nom_jeu-1" /> (Si différent du nom original)</td></tr>		<tr><td>Photo Boite : </td><td><input type=file name="photo_boite-1" id="photo_boite-1" /></td></tr>		<tr><td>Photo de l\'arrière de la boite : </td><td><input type=file name="photo_dos_boite-1" id="photo_dos_boite-1" /></td></tr>		<tr><td>Photo Loose : </td><td><input type=file name="photo_loose-1" id="photo_loose-1" /></td></tr>		<tr><td>Photo Notice : </td><td><input type=file name="photo_notice-1" id="photo_notice-1" /></td></tr>		<tr><td>Reference : </td><td><input type=text name="reference_jeu-1" id="reference_jeu-1" /></td></tr>		<tr><td>Code barre : </td><td><input type=text name="code_barre_jeu-1" id="code_barre_jeu-1" /></td></tr>		<input type=hidden name="jeu_rare-1"  id="jeu_rare-1" />		<tr><td>Date de sortie : </td><td><input type=datetime name="date_sortie_jeu-1" id="date_sortie_jeu-1" /></td></tr>		<tr><td>Editeur : </td><td><input id="nom_editeur-1" name="nom_editeur-1" size=16 /></td></tr>		<tr><td>Format : </td><td><input id="nom_format-1" name="nom_format-1" size=16 /> (Exemple : PAL)</td></tr>		<tr><td>Support : </td><td><input id="nom_support-1" name="nom_support-1" size=16 /> (Exemple : DVD)</td></tr>		<tr><td>Langue : </td><td><input id="langue-1-1" name="langue-1-1" size=16 /> <a id="btnMoreLangues-1"> + </a></td></tr>		<tr><td>Accessoire(s) inclus: </td><td><input id="accessoire-1-1" name="accessoire-1-1" size=16 /> <a id="btnMoreAccessoires-1"> + </a></td></tr>		<tr><td>Remarque : </td><td><input type=text NAME="remarque_version_jeu-1" id="remarque_version_jeu-1" /> (Exemple : Version sortie pour l\'année de Mario) </td></tr>	</table>		</div>		<a id="btnMore"> Ajouter une version </a><br>		<script>		$(function() {			var noms_jeux = [""';				foreach($noms_jeux as $nom_jeu)				{					echo',"'.$nom_jeu->getAttr('nom_jeu').'"';				}				echo'];			$("#nom_jeu").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(noms_jeux, request.term);										response(results.slice(0, 10));				}			});			var typesJeux = [""';				foreach($typesJeux as $type_jeu)				{					echo',"'.$type_jeu->getAttr('nom_type_jeu').'"';				}				echo'];			$("#type_jeu").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(typesJeux, request.term);										response(results.slice(0, 10));				}			});			var groupeParents = [""';				foreach($groupes as $groupe_parent)				{					echo',"'.$groupe_parent->getAttr('nom_groupe').'"';				}				echo'];			$("#groupe_parent").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(groupeParents, request.term);										response(results.slice(0, 10));				}			});			var developpeurs = [""';				foreach($developpeurs as $developpeur)				{					echo',"'.$developpeur->getAttr('nom_developpeur').'"';				}				echo'];			$("#developpeur").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(developpeurs, request.term);										response(results.slice(0, 10));				}			});			$( "#date_sortie_jeu-1" ).datepicker({						yearRange: "1970:'.date('Y').'",						changeMonth: true,						changeYear: true,						dateFormat: "yy-mm-dd",						maxDate: "0"			});			var plateformes = [""';			foreach($plateformes as $plateforme)			{				echo',"'.$plateforme->getAttr('nom_plateforme').'"';			}			echo'];			$("#plateforme").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(plateformes, request.term);										response(results.slice(0, 10));				}			});			var regions = [""';			foreach($regions as $region)			{				echo',"'.$region->getAttr('nom_region').'"';			}			echo'];			$("#nom_region-1").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(regions, request.term);										response(results.slice(0, 10));				}			});			var editions = [""';			foreach($editions as $edition)			{				echo',"'.$edition->getAttr('nom_edition').'"';			}			echo'];			$("#nom_edition-1").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(editions, request.term);										response(results.slice(0, 10));				}			});			var noms_jeux = [""';			foreach($noms_jeux as $nom_jeu)			{				echo',"'.$nom_jeu->getAttr('nom_jeu').'"';			}			echo'];			$("#nom_jeu-1").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(noms_jeux, request.term);										response(results.slice(0, 10));				}			});			var editeurs = [""';			foreach($editeurs as $editeur)			{				echo',"'.$editeur->getAttr('nom_editeur').'"';			}			echo'];			$("#nom_editeur-1").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(editeurs, request.term);										response(results.slice(0, 10));				}			});			var formats = [""';			foreach($formats as $format)			{				echo',"'.$format->getAttr('nom_format').'"';			}			echo'];			$("#nom_format-1").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(formats, request.term);										response(results.slice(0, 10));				}			});			var supports = [""';			foreach($supports as $support)			{				echo',"'.$support->getAttr('nom_support').'"';			}			echo'];			$("#nom_support-1").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(supports, request.term);										response(results.slice(0, 10));				}			});			var langues = [""';			foreach($langues as $langue)			{				echo',"'.$langue->getAttr('nom_langue').'"';			}			echo'];			$("#langue-1-1").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(langues, request.term);										response(results.slice(0, 10));				}			});			var accessoires = [""';			foreach($accessoires as $accessoire)			{				echo',"'.$accessoire.'"';			}			echo'];			$("#accessoire-1-1").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(accessoires, request.term);										response(results.slice(0, 10));				}			});				$("#btnMoreLangues-1").click(function() 				{					var form, divs, newDiv, inputs, newInput;					form = $("#jeu");					inputs = form.find("input[id^=\'langue-1-\']");					newInput = $(inputs[0]).clone();					newInput.insertBefore($("#btnMoreLangues-1"));					newInput.attr("id", "langue-1-" + (inputs.length+1));					newInput.attr("name", "langue-1-" + (inputs.length+1));					newInput.attr("value", "");					$("#langue-1-" + (inputs.length+1)).autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(langues, request.term);														response(results.slice(0, 10));						}					});				});				$("#btnMoreAccessoires-1").click(function() 				{					var form, divs, newDiv, inputs, newInput;					form = $("#jeu");					inputs = form.find("input[id^=\'accessoire-1-\']");					newInput = $(inputs[0]).clone();					newInput.insertBefore($("#btnMoreAccessoires-1"));					newInput.attr("id", "accessoire-1-" + (inputs.length+1));					newInput.attr("name", "accessoire-1-" + (inputs.length+1));					newInput.attr("value", "");					$("#accessoire-1-" + (inputs.length+1)).autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(accessoires, request.term);							response(results.slice(0, 10));						}					});				});				$("#btnMore").click(function() 				{					var form, divs, newDiv, inputs, newInput, nb, btns, btn;					nb=1;					form = $("#jeu");					divs = form.find("div[id^=\'div_version-\']");					newDiv = $(divs[0]).clone();					newDiv.attr("id", "div_version-" + (divs.length+1));					newDiv.insertBefore($("#btnMore"));					inputs = newDiv.find("input[id^=\'langue-"+(divs.length)+"-\']");					btns = form.find("a[id^=\'btnMoreLangues-\']");					btn = btns.last();					btn.attr("id", "btnMoreLangues-"+(divs.length + 1));					inputs.each(function() {						$(this).attr("id", "langue-"+(divs.length + 1)+"-" + (nb));						$(this).attr("name", "langue-"+(divs.length + 1)+"-" + (nb));						$(this).attr("value", "");						$("#langue-"+(divs.length + 1)+"-" + (nb)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(langues, request.term);								response(results.slice(0, 10));							}						});						nb++;					});					$("#btnMoreLangues-"+(divs.length + 1)).click(function() 					{						inputs = form.find("input[id^=\'langue-"+(divs.length + 1)+"-\']");						newInput = $(inputs.last()).clone();						newInput.insertBefore($("#btnMoreLangues-"+(divs.length + 1)));						newInput.attr("id", "langue-"+(divs.length + 1)+"-" + (inputs.length+1));						newInput.attr("name", "langue-"+(divs.length + 1)+"-" + (inputs.length+1));						newInput.attr("value", "");						$("#langue-"+(divs.length + 1)+"-" + (inputs.length+1)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(langues, request.term);								response(results.slice(0, 10));							}						});					});					nb=1;					inputs = newDiv.find("input[id^=\'accessoire-"+(divs.length)+"-\']");					btns = form.find("a[id^=\'btnMoreAccessoires-\']");					btn = btns.last();					btn.attr("id", "btnMoreAccessoires-"+(divs.length + 1));					inputs.each(function() {						$(this).attr("id", "accessoire-"+(divs.length + 1)+"-" + (nb));						$(this).attr("name", "accessoire-"+(divs.length + 1)+"-" + (nb));						$(this).attr("value", "");						$("#accessoire-"+(divs.length + 1)+"-" + (nb)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(accessoires, request.term);								response(results.slice(0, 10));							}						});						nb++;					});					$("#btnMoreAccessoires-"+(divs.length + 1)).click(function() 					{						inputs = form.find("input[id^=\'accessoire-"+(divs.length + 1)+"-\']");						newInput = $(inputs.last()).clone();						newInput.insertBefore($("#btnMoreAccessoires-"+(divs.length + 1)));						newInput.attr("id", "accessoire-"+(divs.length + 1)+"-" + (inputs.length+1));						newInput.attr("name", "accessoire-"+(divs.length + 1)+"-" + (inputs.length+1));						newInput.attr("value", "");						$("#accessoire-"+(divs.length + 1)+"-" + (inputs.length+1)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(accessoires, request.term);								response(results.slice(0, 10));							}						});					});					inputs = form.find("input[id^=\'nom_jeu-\']");					newInput = $(inputs.last());					newInput.attr("id", "nom_jeu-" + (divs.length+1));					newInput.attr("name", "nom_jeu-" + (divs.length+1));					newInput.attr("value", "");					$("#nom_jeu-" + (divs.length+1)					).autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(noms_jeux, request.term);														response(results.slice(0, 10));						}					});					inputs = form.find("input[id^=\'nom_region-\']");					newInput = $(inputs.last());					newInput.attr("id", "nom_region-" + (divs.length+1));					newInput.attr("name", "nom_region-" + (divs.length+1));					newInput.attr("value", "");					$("#nom_region-" + (divs.length+1)).autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(regions, request.term);														response(results.slice(0, 10));						}					});					inputs = form.find("input[id^=\'nom_edition-\']");					newInput = $(inputs.last());					newInput.attr("id", "nom_edition-" + (divs.length+1));					newInput.attr("name", "nom_edition-" + (divs.length+1));					newInput.attr("value", "");					$("#nom_edition-" + (divs.length+1)).autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(editions, request.term);														response(results.slice(0, 10));						}					});					inputs = form.find("input[id^=\'nom_editeur-\']");					newInput = $(inputs.last());					newInput.attr("id", "nom_editeur-" + (divs.length+1));					newInput.attr("name", "nom_editeur-" + (divs.length+1));					newInput.attr("value", "");					$("#nom_editeur-" + (divs.length+1)).autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(editeurs, request.term);														response(results.slice(0, 10));						}					});					inputs = form.find("input[id^=\'nom_format-\']");					newInput = $(inputs.last());					newInput.attr("id", "nom_format-" + (divs.length+1));					newInput.attr("name", "nom_format-" + (divs.length+1));					newInput.attr("value", "");					$("#nom_format-" + (divs.length+1)).autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(formats, request.term);														response(results.slice(0, 10));						}					});					inputs = form.find("input[id^=\'nom_support-\']");					newInput = $(inputs.last());					newInput.attr("id", "nom_support-" + (divs.length+1));					newInput.attr("name", "nom_support-" + (divs.length+1));					newInput.attr("value", "");					$("#nom_support-" + (divs.length+1)).autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(supports, request.term);														response(results.slice(0, 10));						}					});					inputs = form.find("input[id^=\'reference_jeu-\']");					newInput = $(inputs.last());					newInput.attr("id", "reference_jeu-" + (divs.length+1));					newInput.attr("name", "reference_jeu-" + (divs.length+1));					newInput.attr("value", "");					inputs = form.find("input[id^=\'photo_loose-\']");					newInput = $(inputs.last());					newInput.attr("id", "photo_loose-" + (divs.length+1));					newInput.attr("name", "photo_loose-" + (divs.length+1));					newInput.attr("value", "");					inputs = form.find("input[id^=\'photo_dos_boite-\']");					newInput = $(inputs.last());					newInput.attr("id", "photo_dos_boite-" + (divs.length+1));					newInput.attr("name", "photo_dos_boite-" + (divs.length+1));					newInput.attr("value", "");					inputs = form.find("input[id^=\'photo_boite-\']");					newInput = $(inputs.last());					newInput.attr("id", "photo_boite-" + (divs.length+1));					newInput.attr("name", "photo_boite-" + (divs.length+1));					newInput.attr("value", "");					inputs = form.find("input[id^=\'photo_notice-\']");					newInput = $(inputs.last());					newInput.attr("id", "photo_notice-" + (divs.length+1));					newInput.attr("name", "photo_notice-" + (divs.length+1));					newInput.attr("value", "");					inputs = form.find("input[id^=\'code_barre_jeu-\']");					newInput = $(inputs.last());					newInput.attr("id", "code_barre_jeu-" + (divs.length+1));					newInput.attr("name", "code_barre_jeu-" + (divs.length+1));					newInput.attr("value", "");					inputs = form.find("input[id^=\'remarque_version_jeu-\']");					newInput = $(inputs.last());					newInput.attr("id", "remarque_version_jeu-" + (divs.length+1));					newInput.attr("name", "remarque_version_jeu-" + (divs.length+1));					newInput.attr("value", "");					inputs = form.find("input[id^=\'jeu_rare-\']");					newInput = $(inputs.last());					newInput.attr("id", "jeu_rare-" + (divs.length+1));					newInput.attr("name", "jeu_rare-" + (divs.length+1));					newInput.attr("value", "");					inputs = form.find("input[id^=\'date_sortie_jeu-\']");					newInput = $(inputs.last());					newInput.attr("id", "date_sortie_jeu-" + (divs.length+1));					newInput.attr("name", "date_sortie_jeu-" + (divs.length+1));					newInput.attr("value", "");										newInput.removeClass("hasDatepicker");					newInput.datepicker({						yearRange: "1970:'.date('Y').'",						changeMonth: true,						changeYear: true,						dateFormat: "yy-mm-dd",						maxDate: "0"					});									});				$("#autre_plateforme-1").autocomplete({ 					source: function(request, response) {						var results = $.ui.autocomplete.filter(plateformes, request.term);												response(results.slice(0, 10));					}				});				$("#btnMorePlateformes").click(function() 				{					var form, divs, newDiv, inputs, newInput;					form = $("#jeu");					inputs = form.find("input[id^=\'autre_plateforme-\']");					newInput = $(inputs[0]).clone();					newInput.insertBefore($("#btnMorePlateformes"));					newInput.attr("id", "autre_plateforme-" + (inputs.length+1));					newInput.attr("name", "autre_plateforme-" + (inputs.length+1));					$("#autre_plateforme-" + (inputs.length+1)).autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(plateformes, request.term);														response(results.slice(0, 10));						}					});				});				var commandes = [""';				foreach($commandes as $commande)				{				echo',"'.$commande->getAttr('nom_commande').'"';				}				echo'];				$("#commande-1").autocomplete({ 					source: function(request, response) {						var results = $.ui.autocomplete.filter(commandes, request.term);						response(results.slice(0, 10));					}				});				$("#btnMoreCommandes").click(function() 				{					var form, divs, newDiv, inputs, newInput;					form = $("#jeu");					inputs = form.find("input[id^=\'commande-\']");					newInput = $(inputs[0]).clone();					newInput.insertBefore($("#btnMoreCommandes"));					newInput.attr("id", "commande-" + (inputs.length+1));					newInput.attr("name", "commande-" + (inputs.length+1));					$("#commande-" + (inputs.length+1)).autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(commandes, request.term);														response(results.slice(0, 10));						}					});				});			});		</script><br>		<table class="formulaire">		<tr><td>Existe aussi sur : </td><td><input id="autre_plateforme-1" name="autre_plateforme-1" size=16 />		<a id="btnMorePlateformes"> + </a></td></tr>		<tr><td>Jouable avec (Exemple : Manette) : </td><td><input id="commande-1" name="commande-1" size=16 /> 		<a id="btnMoreCommandes"> + </a></td></tr></table>		<input type=submit name="validerAjoutJeu" value="Valider" /></form>';					}			function affiche_ajout_version_jeu($id, $nom, $developpeurs, $editeurs, $editions, $noms_jeux, $plateformes, $regions, $typesJeux, $groupes, $commandes, $langues, $supports, $formats, $accessoires)	{				echo'<div class="Titre">Ajouter une version de '.$nom.'</div>		<form id ="jeu" action="" method=POST enctype="multipart/form-data"><br>		Les informations en gras sont obligatoires<br>		<div id="div_version-1">		<input type=hidden name="id_jeu" id="id_jeu" value="'.$id.'" />		<table class="formulaire">		<tr><td><a class="InfosObligatoires">Region</a> : </td><td><input type=text name="nom_region-1" id="nom_region-1" /> (Exemple : Europe)</td></tr>		<tr><td><a class="InfosObligatoires">Edition</a> : </td><td><input type=text name="nom_edition-1" id="nom_edition-1" /></td></td>		<tr><td>Nom du jeu dans cette version : </td><td><input type=text name="nom_jeu-1" id="nom_jeu-1" /> (Si différent du nom original)</td></tr>		<tr><td>Photo Boite : </td><td><input type=file name="photo_boite-1" id="photo_boite-1" /></td></tr>		<tr><td>Photo de l\'arrière de la boite : </td><td><input type=file name="photo_dos_boite-1" id="photo_dos_boite-1" /></td></tr>		<tr><td>Photo Loose : </td><td><input type=file name="photo_loose-1" id="photo_loose-1" /></td></tr>		<tr><td>Photo Notice : </td><td><input type=file name="photo_notice-1" id="photo_notice-1" /></td></tr>		<tr><td>Reference : </td><td><input type=text name="reference_jeu-1" id="reference_jeu-1" /></td></tr>		<tr><td>Code barre : </td><td><input type=text name="code_barre_jeu-1" id="code_barre_jeu-1" /></td></tr>		<input type=hidden name="jeu_rare-1"  id="jeu_rare-1" />		<script>				 $(function() {					$( "#date_sortie_jeu-1" ).datepicker({							yearRange: "1970:'.date('Y').'",					changeMonth: true,					changeYear: true,					dateFormat: "yy-mm-dd",					maxDate: "0"					});				});		</script>		<tr><td>Date de sortie : </td><td><input type=datetime name="date_sortie_jeu-1" id="date_sortie_jeu-1" /></td></tr>		<tr><td>Editeur : </td><td><input id="nom_editeur-1" name="nom_editeur-1" size=16 /></td></tr>		<tr><td>Format : </td><td><input id="nom_format-1" name="nom_format-1" size=16 /> (Exemple : PAL)</td></tr>		<tr><td>Support : </td><td><input id="nom_support-1" name="nom_support-1" size=16 /> (Exemple : DVD)</td></tr>		<tr><td>Langue : </td><td><input id="langue-1-1" name="langue-1-1" size=16 /><a id="btnMoreLangues-1"> + </a></td></tr>		<tr><td>Accessoire(s) inclus: </td><td><input id="accessoire-1-1" name="accessoire-1-1" size=16 /> <a id="btnMoreAccessoires-1"> + </a></td></tr>		<tr><td>Remarque : </td><td><input type=text NAME="remarque_version_jeu-1" /> (Exemple : Version sortie pour l\'année de Mario) </td></tr></table><br>		</div>				<script>		$(function() {			var regions = [""';			foreach($regions as $region)			{				echo',"'.$region->getAttr('nom_region').'"';			}			echo'];		$("#nom_region-1").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(regions, request.term);								response(results.slice(0, 10));			}		});			var editions = [""';			foreach($editions as $edition)			{				echo',"'.$edition->getAttr('nom_edition').'"';			}			echo'];		$("#nom_edition-1").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(editions, request.term);								response(results.slice(0, 10));			}		});			var noms_jeux = [""';			foreach($noms_jeux as $nom_jeu)			{				echo',"'.$nom_jeu->getAttr('nom_jeu').'"';			}			echo'];		$("#nom_jeu-1").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(noms_jeux, request.term);								response(results.slice(0, 10));			}		});			var editeurs = [""';			foreach($editeurs as $editeur)			{				echo',"'.$editeur->getAttr('nom_editeur').'"';			}			echo'];		$("#nom_editeur-1").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(editeurs, request.term);								response(results.slice(0, 10));			}		});			var formats = [""';			foreach($formats as $format)			{				echo',"'.$format->getAttr('nom_format').'"';			}			echo'];		$("#nom_format-1").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(formats, request.term);								response(results.slice(0, 10));			}		});			var supports = [""';			foreach($supports as $support)			{				echo',"'.$support->getAttr('nom_support').'"';			}			echo'];		$("#nom_support-1").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(supports, request.term);								response(results.slice(0, 10));			}		});			var langues = [""';			foreach($langues as $langue)			{				echo',"'.$langue->getAttr('nom_langue').'"';			}			echo'];		$("#langue-1-1").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(langues, request.term);								response(results.slice(0, 10));			}		});				$("#btnMoreLangues-1").click(function() 				{					var form, divs, newDiv, inputs, newInput;					form = $("#jeu");					inputs = form.find("input[id^=\'langue-1-\']");					newInput = $(inputs[0]).clone();					newInput.insertBefore($("#btnMoreLangues-1"));					newInput.attr("id", "langue-1-" + (inputs.length+1));					newInput.attr("name", "langue-1-" + (inputs.length+1));					newInput.attr("value", "");					var langues = [""';					foreach($langues as $langue)					{						echo',"'.$langue->getAttr('nom_langue').'"';					}					echo'];					$("#langue-1-" + (inputs.length+1)).autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(langues, request.term);														response(results.slice(0, 10));						}					});				});				var accessoires = [""';			foreach($accessoires as $accessoire)			{				echo',"'.$accessoire.'"';			}			echo'];			$("#accessoire-1-1").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(accessoires, request.term);										response(results.slice(0, 10));				}			});				$("#btnMoreAccessoires-1").click(function() 				{					var form, divs, newDiv, inputs, newInput;					form = $("#jeu");					inputs = form.find("input[id^=\'accessoire-1-\']");					newInput = $(inputs[0]).clone();					newInput.insertBefore($("#btnMoreAccessoires-1"));					newInput.attr("id", "accessoire-1-" + (inputs.length+1));					newInput.attr("name", "accessoire-1-" + (inputs.length+1));					newInput.attr("value", "");					$("#accessoire-1-" + (inputs.length+1)).autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(accessoires, request.term);							response(results.slice(0, 10));						}					});				});			});		</script>		<input type=submit name="validerAjoutVersionJeu" value="Valider" /></form>';					}			function affiche_ajout_accessoire($types, $editeurs, $plateformes, $regions)	{		echo '<div class="Titre">Ajouter un accessoire</div><br>		<form id ="accessoire" action="" method=POST enctype="multipart/form-data"><br>		Les informations en gras sont obligatoires<br>		<table class="formulaire">		<tr><td><a class="InfosObligatoires">Nom de l\'accessoire</a> : </td><td><input type=text name="nom_accessoire" id="nom_accessoire" /></tr></td>		<tr><td><a class="InfosObligatoires">Plateforme</a> : </td><td><input type=text name="plateforme" id="plateforme" /></tr></td>		<tr><td>Editeur : </td><td><input type=text name="editeur" id="editeur" /></tr></td>		<tr><td>Type : </td><td><input type=text name="type_accessoire" id="type_accessoire" /></tr></td>		<tr><td>Zoné : </td><td><input type=checkbox value=1 name="zone" id="zone" /></tr></td>		<tr><td>Remarque : </td><td><input type=text name="remarque_accessoire" id="remarque_accessoire" /></tr></td></table>		<div id="div_version-1"><br><br>		<table class="formulaire">		<tr><td><a class="InfosObligatoires">Region</a> : </td><td><input type=text name="nom_region-1" id="nom_region-1" /> (Exemple : Europe)</tr></td>		<tr><td>Photo  : </td><td><input type=file name="photo-1" id="photo_accessoire-1" /></tr></td>		<tr><td>Reference : </td><td><input type=text name="reference_accessoire-1" id="reference_accessoire-1" /></tr></td>		<tr><td>Remarque : </td><td><input type=text name="remarque_version_accessoire-1" id="remarque_version_accessoire-1" /></tr></td>		<tr><td>Date de sortie : </td><td><input type=datetime name="date_sortie_accessoire-1" id="date_sortie_accessoire-1" /></tr></td>		<tr><td>Prix : </td><td><input id="prix_accessoire-1" name="prix_accessoire-1" size=16 /></tr></td></table></div>		<a id="btnMore"> Ajouter une version </a><br>		<script>			$(function() {					var editeurs = [""';			foreach($editeurs as $editeur)			{				echo',"'.$editeur->getAttr('nom_editeur').'"';			}			echo'];		$("#editeur").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(editeurs, request.term);								response(results.slice(0, 10));			}		});		var types = [""';			foreach($types as $type)			{				echo',"'.$type->getAttr('nom_type_accessoire').'"';			}			echo'];		$("#type_accessoire").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(types, request.term);								response(results.slice(0, 10));			}		});		var plateformes = [""';			foreach($plateformes as $plateforme)			{				echo',"'.$plateforme->getAttr('nom_plateforme').'"';			}			echo'];		$("#plateforme").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(plateformes, request.term);								response(results.slice(0, 10));			}		});					var regions = [""';						foreach($regions as $region)						{							echo',"'.$region->getAttr('nom_region').'"';						}						echo'];					$("#nom_region-1").autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(regions, request.term);														response(results.slice(0, 10));						}					});					$( "#date_sortie_accessoire-1" ).datepicker({							yearRange: "1970:'.date('Y').'",					changeMonth: true,					changeYear: true,					dateFormat: "yy-mm-dd",					maxDate: "0"					});				$("#btnMore").click(function() 				{					var form, divs, newDiv, inputs, newInput, nb, btns, btn;					nb=1;					form = $("#accessoire");					divs = form.find("div[id^=\'div_version-\']");					newDiv = $(divs[0]).clone();					newDiv.attr("id", "div_version-" + (divs.length+1));					newDiv.insertBefore($("#btnMore"));					inputs = newDiv.find("input[id^=\'langue-"+(divs.length)+"-\']");					inputs = form.find("input[id^=\'nom_region-\']");					newInput = $(inputs.last());					newInput.attr("id", "nom_region-" + (divs.length+1));					newInput.attr("name", "nom_region-" + (divs.length+1));					newInput.attr("value", "");					var regions = [""';						foreach($regions as $region)						{							echo',"'.$region->getAttr('nom_region').'"';						}						echo'];					$("#nom_region-" + (divs.length+1)).autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(regions, request.term);														response(results.slice(0, 10));						}					});					inputs = form.find("input[id^=\'reference_accessoire-\']");					newInput = $(inputs.last());					newInput.attr("id", "reference_accessoire-" + (divs.length+1));					newInput.attr("name", "reference_accessoire-" + (divs.length+1));					newInput.attr("value", "");					inputs = form.find("input[id^=\'remarque_version_accessoire-\']");					newInput = $(inputs.last());					newInput.attr("id", "remarque_version_accessoire-" + (divs.length+1));					newInput.attr("name", "remarque_version_accessoire-" + (divs.length+1));					newInput.attr("value", "");					inputs = form.find("input[id^=\'photo_accessoire-\']");					newInput = $(inputs.last());					newInput.attr("id", "photo_accessoire-" + (divs.length+1));					newInput.attr("name", "photo_accessoire-" + (divs.length+1));					newInput.attr("value", "");					inputs = form.find("input[id^=\'prix_accessoire-\']");					newInput = $(inputs.last());					newInput.attr("id", "prix_accessoire-" + (divs.length+1));					newInput.attr("name", "prix_accessoire-" + (divs.length+1));					newInput.attr("value", "");					inputs = form.find("input[id^=\'date_sortie_accessoire-\']");					newInput = $(inputs.last());					newInput.attr("id", "date_sortie_accessoire-" + (divs.length+1));					newInput.attr("name", "date_sortie_accessoire-" + (divs.length+1));					newInput.attr("value", "");					newInput.removeClass("hasDatepicker");					newInput.datepicker({							yearRange: "1970:'.date('Y').'",						changeMonth: true,						changeYear: true,						dateFormat: "yy-mm-dd",						maxDate: "0"					});									});			});		</script>		<input type=submit name="validerAjoutAccessoire" value="Valider" /></form>';			}			function affiche_ajout_version_accessoire($id, $nom, $regions)	{		echo'<div class="Titre">Ajouter une version de : '.$nom.'</div><br>		<form id ="version_accessoire" action="" method=POST enctype="multipart/form-data"><br>		Les informations en gras sont obligatoires<br>		<div id="div_version-1"><br><br>		<input type=hidden name="id_accessoire" id="id_accessoire" value="'.$id.'" />		<table class="formulaire">		<tr><td><a class="InfosObligatoires">Region</a> : </td><td><input type=text name="nom_region-1" id="nom_region-1" /> (Exemple : Europe)</tr></td>		<tr><td>Photo  : </td><td><input type=file name="photo_accessoire-1" id="photo_accessoire-1" /></tr></td>		<tr><td>Reference : </td><td><input type=text name="reference_accessoire-1" id="reference_accessoire-1" /></tr></td>		<tr><td>Remarque : </td><td><input type=text name="remarque_version_accessoire-1" id="remarque_version_accessoire-1" /></tr></td>		<tr><td>Date de sortie : </td><td><input type=datetime name="date_sortie_accessoire-1" id="date_sortie_accessoire-1" /></tr></td>		<tr><td>Prix : </td><td><input id="prix_accessoire-1" name="prix_accessoire-1" size=16 /></tr></td></table>		</div>		<script>			$(function() {								var regions = [""';						foreach($regions as $region)						{							echo',"'.$region->getAttr('nom_region').'"';						}						echo'];					$("#nom_region-1").autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(regions, request.term);														response(results.slice(0, 10));						}					});					$( "#date_sortie_accessoire-1" ).datepicker({							yearRange: "1970:'.date('Y').'",					changeMonth: true,					changeYear: true,					dateFormat: "yy-mm-dd",					maxDate: "0"					});			});		</script>		<input type=submit name="validerAjoutVersionAccessoire" value="Valider" /></form>		</div>';			}				function affiche_ajout_console($editeurs, $plateformes, $regions, $accessoires, $jeux)	{		echo '<div class="Titre">Ajouter un console</div><br>		<form id="console" action="" method=POST enctype="multipart/form-data"><br>		Les informations en gras sont obligatoires<br>		<table class="formulaire">		<tr><td><a class="InfosObligatoires">Nom de la console</a> : </td><td><input type=text name="nom_console" id="nom_console" /></tr></td>		<tr><td><a class="InfosObligatoires">Plateforme</a> : </td><td><input type=text name="plateforme" id="plateforme" /></tr></td>		<tr><td>Editeur : </td><td><input type=text name="editeur" id="editeur" /></tr></td>		<tr><td>Jeu(x) inclus : </td><td><input id="jeu-1" name="jeu-1" size=16 /> <a id="btnMoreJeux"> + </a></tr></td>		<tr><td>Accessoire(s) inclus : </td><td><input id="accessoire-1" name="accessoire-1" size=16 /> <a id="btnMoreAccessoires"> + </a></tr></td>		<tr><td>Remarque : </td><td><input type=text name="remarque_console" id="remarque_console" /></tr></td></table>		<div id="div_version-1"><br><br>		<table class="formulaire">		<tr><td><a class="InfosObligatoires">Region</a> : </td><td><input type=text name="nom_region-1" id="nom_region-1" /> (Exemple : Europe)</tr></td>		<tr><td>Photo  : </td><td><input type=file name="photo-1" id="photo_console-1" /></tr></td>		<tr><td>Reference : </td><td><input type=text name="reference_console-1" id="reference_console-1" /></tr></td>		<tr><td>Date de sortie : </td><td><input type=datetime name="date_sortie_console-1" id="date_sortie_console-1" /></tr></td>		<tr><td>Prix : </td><td><input id="prix_console-1" name="prix_console-1" size=16 /></tr></td>		<tr><td>Reference : </td><td><input type=text name="remarque_version_console-1" id="remarque_version_console-1" /></tr></td></table></div>		<a id="btnMore"> Ajouter une version </a><br>		<script>			$(function() {		var editeurs = [""';			foreach($editeurs as $editeur)			{				echo',"'.$editeur->getAttr('nom_editeur').'"';			}			echo'];		$("#editeur").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(editeurs, request.term);								response(results.slice(0, 10));			}		});		var plateformes = [""';			foreach($plateformes as $plateforme)			{				echo',"'.$plateforme->getAttr('nom_plateforme').'"';			}			echo'];		$("#plateforme").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(plateformes, request.term);								response(results.slice(0, 10));			}		});					var accessoires = [""';						foreach($accessoires as $accessoire)						{							echo',"'.$accessoire.'"';						}						echo'];						$("#accessoire-1").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(accessoires, request.term);								response(results.slice(0, 10));							}						});					var jeux = [""';						foreach($jeux as $jeu)						{							echo',"'.$jeu.'"';						}						echo'];						$("#jeu-1").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(jeux, request.term);								response(results.slice(0, 10));							}						});					$("#btnMoreAccessoires").click(function() 					{						var form, divs, newDiv, inputs, newInput;						form = $("#console");						inputs = form.find("input[id^=\'accessoire-\']");						newInput = $(inputs[0]).clone();						newInput.insertBefore($("#btnMoreAccessoires"));						newInput.attr("id", "accessoire-" + (inputs.length+1));						newInput.attr("name", "accessoire-" + (inputs.length+1));						newInput.attr("value", "");						$("#accessoire-" + (inputs.length+1)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(accessoires, request.term);								response(results.slice(0, 10));							}						});					});					$("#btnMoreJeux").click(function() 					{						var form, divs, newDiv, inputs, newInput;						form = $("#console");						inputs = form.find("input[id^=\'jeu-\']");						newInput = $(inputs[0]).clone();						newInput.insertBefore($("#btnMoreJeux"));						newInput.attr("id", "jeu-" + (inputs.length+1));						newInput.attr("name", "jeu-" + (inputs.length+1));						newInput.attr("value", "");						$("#jeu-" + (inputs.length+1)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(jeux, request.term);								response(results.slice(0, 10));							}						});					});					var regions = [""';						foreach($regions as $region)						{							echo',"'.$region->getAttr('nom_region').'"';						}						echo'];					$("#nom_region-1").autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(regions, request.term);														response(results.slice(0, 10));						}					});					$( "#date_sortie_console-1" ).datepicker({							yearRange: "1970:'.date('Y').'",					changeMonth: true,					changeYear: true,					dateFormat: "yy-mm-dd",					maxDate: "0"					});				$("#btnMore").click(function() 				{					var form, divs, newDiv, inputs, newInput, nb, btns, btn;					nb=1;					form = $("#console");					divs = form.find("div[id^=\'div_version-\']");					newDiv = $(divs[0]).clone();					newDiv.attr("id", "div_version-" + (divs.length+1));					newDiv.insertBefore($("#btnMore"));					inputs = newDiv.find("input[id^=\'langue-"+(divs.length)+"-\']");					inputs = form.find("input[id^=\'nom_region-\']");					newInput = $(inputs.last());					newInput.attr("id", "nom_region-" + (divs.length+1));					newInput.attr("name", "nom_region-" + (divs.length+1));					newInput.attr("value", "");					var regions = [""';						foreach($regions as $region)						{							echo',"'.$region->getAttr('nom_region').'"';						}						echo'];					$("#nom_region-" + (divs.length+1)).autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(regions, request.term);														response(results.slice(0, 10));						}					});					inputs = form.find("input[id^=\'reference_console-\']");					newInput = $(inputs.last());					newInput.attr("id", "reference_console-" + (divs.length+1));					newInput.attr("name", "reference_console-" + (divs.length+1));					inputs = form.find("input[id^=\'remarque_version_console-\']");					newInput = $(inputs.last());					newInput.attr("id", "remarque_version_console-" + (divs.length+1));					newInput.attr("name", "remarque_version_console-" + (divs.length+1));					newInput.attr("value", "");					inputs = form.find("input[id^=\'photo_console-\']");					newInput = $(inputs.last());					newInput.attr("id", "photo_console-" + (divs.length+1));					newInput.attr("name", "photo_console-" + (divs.length+1));					newInput.attr("value", "");					inputs = form.find("input[id^=\'prix_console-\']");					newInput = $(inputs.last());					newInput.attr("id", "prix_console-" + (divs.length+1));					newInput.attr("name", "prix_console-" + (divs.length+1));					newInput.attr("value", "");					inputs = form.find("input[id^=\'date_sortie_console-\']");					newInput = $(inputs.last());					newInput.attr("id", "date_sortie_console-" + (divs.length+1));					newInput.attr("name", "date_sortie_console-" + (divs.length+1));					newInput.attr("value", "");					newInput.removeClass("hasDatepicker");					newInput.datepicker({							yearRange: "1970:'.date('Y').'",						changeMonth: true,						changeYear: true,						dateFormat: "yy-mm-dd",						maxDate: "0"					});									});			});		</script>		<input type=submit name="validerAjoutConsole" value="Valider" /></form>';			}			function affiche_ajout_version_console($id, $nom, $regions)	{		echo'<div class="Titre">Ajouter une version de : '.$nom.'</div><br>		<form id ="version_console" action="" method=POST enctype="multipart/form-data"><br>		Les informations en gras sont obligatoires		<div id="div_version-1"><br><br>		<input type=hidden name="id_console" id="id_console" value="'.$id.'" />		<table class="formulaire">		<tr><td><a class="InfosObligatoires">Region</a> : </td><td><input type=text name="nom_region-1" id="nom_region-1" /> (Exemple : Europe)</tr></td>		<tr><td>Photo  : </td><td><input type=file name="photo_console-1" id="photo_console-1" /></tr></td>		<tr><td>Reference : </td><td><input type=text name="reference_console-1" id="reference_console-1" /></tr></td>		<tr><td>Date de sortie : </td><td><input type=datetime name="date_sortie_console-1" id="date_sortie_console-1" /></tr></td>		<tr><td>Prix : </td><td><input id="prix_console-1" name="prix_console-1" size=16 /></tr></td>		<tr><td>Reference : </td><td><input type=text name="remarque_version_console-1" id="remarque_version_console-1" /></tr></td></table>		</div>		<script>			$(function() {								var regions = [""';						foreach($regions as $region)						{							echo',"'.$region->getAttr('nom_region').'"';						}						echo'];					$("#nom_region-1").autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(regions, request.term);														response(results.slice(0, 10));						}					});					$( "#date_sortie_console-1" ).datepicker({							yearRange: "1970:'.date('Y').'",					changeMonth: true,					changeYear: true,					dateFormat: "yy-mm-dd",					maxDate: "0"					});			});		</script>		<input type=submit name="validerAjoutVersionConsole" value="Valider" /></form>		';			}				function affiche_ajout_informations_manquantes($plateforme, $developpeur, $type, $groupe, $editeur, $langue, $support, $format, $region, $edition, $commande, $editeurs, $groupes)	{	echo '<div class="Titre">Informations inconnues</div><br>Certaines des informations que vous nous avez envoyé ne sont pas dans notre base de donnée<br><br>Si vous le souhaitez, vous pouvez nous aider à compléter ces informations.<br><br>Sinon, vous pouvez <a href="bddjv.php">retourner à l\'accueil</a> (Le jeu que vous venez d\'ajouter à été sauvegardé)<form action="" method=POST enctype="multipart/form-data">';		if(count($plateforme!=0))		{			echo'<h2>Informations Plateforme</h2><input type=hidden name="validerAjoutMultiPlateforme" value="Valider" />';			foreach($plateforme as $p)			{				echo'<input type=hidden NAME="id_plateforme" value="'.$p->getAttr('id_plateforme').'" />				Plateforme : <input type=text NAME="nom_plateforme" value="'.$p->getAttr('nom_plateforme').'" /><br>				Logo : <input type=file NAME="logo_plateforme" /><br>				<script>				$(function() {					var editeurs = [""';					foreach($editeurs as $e)					{						echo',"'.$e->getAttr('nom_editeur').'"';					}					echo'];				$("#nom_editeur").autocomplete({ 					source: function(request, response) {						var results = $.ui.autocomplete.filter(editeurs, request.term);												response(results.slice(0, 10));					}				});				});				</script>				Editeur : <input type=text NAME="nom_editeur" id="nom_editeur" /><br>				';				$i++;			}		}		if($developpeur!=0)		{			echo'<h2>Informations Developpeur</h2>			<input type=hidden NAME="id_developpeur" value="'.$developpeur.'" />			<input type=text NAME="nom_developpeur" value="'.$_POST['developpeur'].'" /><br>			<input type=file NAME="logo_developpeur" /><br>			<input type=hidden name="validerAjoutDeveloppeur" value="Valider" />';		}		if($type!=0)		{			echo'<h2>Informations Type</h2>			<input type=hidden NAME="id_type_jeu" value="'.$type.'" />			<input type=text NAME="nom_type_jeu" value="'.$_POST['type_jeu'].'" /><br>		<input type=file NAME="logo_type_jeu" /><br>		<input type=hidden name="validerAjoutTypeJeu" value="Valider" />';		}		if($groupe!=0)		{			echo'	<h2>Informations Groupe</h2>				<input type=hidden NAME="id_groupe" value="'.$groupe.'" />		Nom : <input type=text NAME="nom_groupe" value="'.$_POST['groupe_parent'].'" /><br>		Logo : <input type=file NAME="logo_groupe" /><br>		<script>		$(function() {			var groupes = [""';			foreach($groupes as $groupe)			{				echo',"'.$groupe->getAttr('nom_groupe').'"';			}			echo'];		$("#groupe_parent").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(groupes, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Groupe parent : <input type=text NAME="groupe_parent" id="groupe_parent" /><br>		<input type=hidden name="validerAjoutGroupe" value="Valider" />';		}		if(count($editeur)!=0)		{			echo'<h2>Informations Editeur(s)</h2><input type=hidden name="validerAjoutMultiEditeur" value="Valider" />';			$i=1;			foreach($editeur as $e)			{				echo'				<input type=hidden NAME="id_editeur-'.$i.'" value="'.$e->getAttr('id_editeur').'" />				<input type=text NAME="nom_editeur-'.$i.'" value="'.$e->getAttr('nom_editeur').'" /><br>				<input type=file NAME="logo_editeur-'.$i.'" /><br>				';				$i++;			}					}		if(count($langue)!=0)		{			echo'<h2>Informations Langue(s)</h2><input type=hidden name="validerAjoutMultiLangue" value="Valider" />';			$i=1;			foreach($langue as $l)			{				echo'				<input type=hidden NAME="id_langue-'.$i.'" value="'.$l->getAttr('id_langue').'" />				<input type=text NAME="nom_langue-'.$i.'" value="'.$l->getAttr('nom_langue').'" /><br>				<input type=file NAME="logo_langue-'.$i.'" /><br>				';				$i++;			}					}		if(count($support)!=0)		{			echo'<h2>Informations support(s)</h2><input type=hidden name="validerAjoutMultiSupport" value="Valider" />';			$i=1;			foreach($support as $e)			{				echo'				<input type=hidden NAME="id_support-'.$i.'" value="'.$e->getAttr('id_support').'" />				<input type=text NAME="nom_support-'.$i.'" value="'.$e->getAttr('nom_support').'" /><br>				<input type=file NAME="logo_support-'.$i.'" /><br>				';				$i++;			}					}		if(count($format)!=0)		{			echo'<h2>Informations format(s)</h2><input type=hidden name="validerAjoutMultiFormat" value="Valider" />';			$i=1;			foreach($format as $e)			{				echo'				<input type=hidden NAME="id_format-'.$i.'" value="'.$e->getAttr('id_format').'" />				<input type=text NAME="nom_format-'.$i.'" value="'.$e->getAttr('nom_format').'" /><br>				<input type=file NAME="logo_format-'.$i.'" /><br>				';				$i++;			}					}		if(count($region)!=0)		{			echo'<h2>Informations region(s)</h2><input type=hidden name="validerAjoutMultiRegion" value="Valider" />';			$i=1;			foreach($region as $e)			{				echo'				<input type=hidden NAME="id_region-'.$i.'" value="'.$e->getAttr('id_region').'" />				<input type=text NAME="nom_region-'.$i.'" value="'.$e->getAttr('nom_region').'" /><br>				<input type=file NAME="logo_region-'.$i.'" /><br>				';				$i++;			}					}		if(count($edition)!=0)		{			echo'<h2>Informations edition(s)</h2><input type=hidden name="validerAjoutMultiEdition" value="Valider" />';			$i=1;			foreach($edition as $e)			{				echo'				<input type=hidden NAME="id_edition-'.$i.'" value="'.$e->getAttr('id_edition').'" />				<input type=text NAME="nom_edition-'.$i.'" value="'.$e->getAttr('nom_edition').'" /><br>				<input type=file NAME="logo_edition-'.$i.'" /><br>				';				$i++;			}					}		if(count($commande)!=0)		{			echo'<h2>Informations commande(s)</h2><input type=hidden name="validerAjoutMultiCommande" value="Valider" />';			$i=1;			foreach($commande as $e)			{				echo'				<input type=hidden NAME="id_commande-'.$i.'" value="'.$e->getAttr('id_commande').'" />				<input type=text NAME="nom_commande-'.$i.'" value="'.$e->getAttr('nom_commande').'" /><br>				<input type=file NAME="logo_commande-'.$i.'" /><br>				';				$i++;			}					}				echo'<input type=submit name="submit" value="Valider" /></form>';				}		function affiche_administration($var, $jeux, $infosJeux, $jeu, $versions, $infosVersions, $version, $commande, $commandeInutile, $commandes, $developpeur, $developpeurInutile, $developpeurs, $editeur, $editeurInutile, $editeurs, $edition, $editionInutile, $editions, $format, $formatInutile, $formats, $groupe, $groupeInutile, $groupes, $langue, $langueInutile, $langues, $plateforme, $plateformeInutile, $plateformes, $region, $regionInutile, $regions, $support, $supportInutile, $supports, $type_jeu, $type_jeuInutile, $types_jeux, $type_accessoire, $type_accessoireInutile, $types_accessoires, $rapports, $noms, $accessoire, $versionAccessoire, $console, $versionConsole)	{		if(in_array($var->data['group_id'], Base::getModos()))		{			echo '<div class=titre>Panneau d\'administration (Version complète)</div><br>';			initVarJs($commandes, $developpeurs, $editeurs, $editions, $formats, $groupes, $langues, $noms, $plateformes, $regions, $supports, $types_jeux, $types_accessoires);			echo '<div id="affiche_ajout_informations">';			echo "<br><div class='sousTitre'>Ajouter des informations :</div><br>";			affiche_ajout_informations();			echo '</div><div id="affiche_modifications_informations">';			echo "<br><div class='sousTitre'>Modifier des informations :</div><br>";			affiche_modifications_informations();			set_time_limit(60);			echo '<br></div><div id="affiche_validation_informations">';			affiche_validation_informations($commande, $developpeur, $editeur, $edition, $format, $groupe, $langue, $plateforme, $region, $support, $type_jeu, $type_accessoire, $jeu, $version, $accessoire, $versionAccessoire, $console, $versionConsole, 1);			echo '<br></div><div id="affiche_informations_inutiles">';			affiche_informations_inutiles($commandeInutile, $developpeurInutile, $editeurInutile, $editionInutile, $formatInutile, $groupeInutile, $langueInutile, $plateformeInutile, $regionInutile, $supportInutile, $type_jeuInutile, $type_accessoireInutile);			set_time_limit(60);			echo '<br></div><div id="affiche_informations_manquantes">';			affiche_informations_manquantes($jeux, $versions);			echo '<br></div><div id="affiche_informations_erronnees">';			affiche_informations_erronnees($rapports);			echo '<br></div><div id="affiche_informations_diparues">';			affiche_informations_diparues($infosJeux, $infosVersions);			echo '</div>';		}		else		{			echo "Vous n'avez pas l'autorisation de voir cette page.<br>			<a href='bddjv.php'>Retourner à l'accueil</a>";		}	}		function affiche_administration_lite($var, $commande, $commandeInutile, $commandes, $developpeur, $developpeurInutile, $developpeurs, $editeur, $editeurInutile, $editeurs, $edition, $editionInutile, $editions, $format, $formatInutile, $formats, $groupe, $groupeInutile, $groupes, $langue, $langueInutile, $langues, $plateforme, $plateformeInutile, $plateformes, $region, $regionInutile, $regions, $support, $supportInutile, $supports, $type_jeu, $type_jeuInutile, $types_jeux, $type_accessoire, $type_accessoireInutile, $types_accessoires, $rapports, $noms)	{		if(in_array($var->data['group_id'], Base::getModos()))		{			echo '<div class=titre>Panneau d\'administration</div><br>';			initVarJs($commandes, $developpeurs, $editeurs, $editions, $formats, $groupes, $langues, $noms, $plateformes, $regions, $supports, $types_jeux, $types_accessoires);			echo '<div id="affiche_ajout_informations">';			echo "<br><div class='sousTitre'>Ajouter des informations :</div><br>";			affiche_ajout_informations();			echo '</div><div id="affiche_modifications_informations">';			echo "<br><div class='sousTitre'>Modifier des informations :</div><br>";			affiche_modifications_informations();			set_time_limit(60);			echo '<br></div><div id="affiche_validation_informations">';			affiche_validation_informations($commande, $developpeur, $editeur, $edition, $format, $groupe, $langue, $plateforme, $region, $support, $type_jeu, $type_accessoire, array(), array(), array(), array(), array(), array(), 0);			echo '<br></div><div id="affiche_informations_inutiles">';			affiche_informations_inutiles($commandeInutile, $developpeurInutile, $editeurInutile, $editionInutile, $formatInutile, $groupeInutile, $langueInutile, $plateformeInutile, $regionInutile, $supportInutile, $type_jeuInutile, $type_accessoireInutile);			set_time_limit(60);			echo '<br></div><div id="affiche_informations_manquantes">';			affiche_informations_erronnees($rapports);			echo '</div>';		}		else		{			echo "Vous n'avez pas l'autorisation de voir cette page.<br>			<a href='bddjv.php'>Retourner à l'accueil</a>";		}	}				function affiche_administration_mini($var, $commandes, $developpeurs, $editeurs, $editions, $formats, $groupes, $langues, $plateformes, $regions, $supports, $types_jeux, $types_accessoires, $noms)	{		if(in_array($var->data['group_id'], Base::getModos()))		{			echo '<div class=titre>Panneau d\'administration (version minimale)</div><br>';			initVarJs($commandes, $developpeurs, $editeurs, $editions, $formats, $groupes, $langues, $noms, $plateformes, $regions, $supports, $types_jeux, $types_accessoires);			echo '<div id="affiche_ajout_informations">';			echo "<br><div class='sousTitre'>Ajouter des informations :</div><br>";			affiche_ajout_informations();			echo '</div><div id="affiche_modifications_informations">';			echo "<br><div class='sousTitre'>Modifier des informations :</div><br>";			affiche_modifications_informations();			echo "</div>";		}		else		{			echo "Vous n'avez pas l'autorisation de voir cette page.<br>			<a href='bddjv.php'>Retourner à l'accueil</a>";		}	}			function initVarJs($commandes, $developpeurs, $editeurs, $editions, $formats, $groupes, $langues, $noms, $plateformes, $regions, $supports, $types_jeux, $types_accessoires)	{							echo '							<script>							var commandes = [""';							foreach($commandes as $co)							{								echo',"'.$co->getAttr('nom_commande').'"';							}							echo'];														var developpeurs = ["", "Inconnu"';							foreach($developpeurs as $de)							{								echo',"'.$de->getAttr('nom_developpeur').'"';							}							echo'];														var editeurs = [""';							foreach($editeurs as $ed)							{								echo',"'.$ed->getAttr('nom_editeur').'"';							}							echo'];							var editions = [""';							foreach($editions as $ed)							{								echo',"'.$ed->getAttr('nom_edition').'"';							}							echo'];														var formats = [""';							foreach($formats as $fo)							{								echo',"'.$fo->getAttr('nom_format').'"';							}							echo'];							var groupes = [""';							foreach($groupes as $gr)							{								echo',"'.$gr->getAttr('nom_groupe').'"';							}							echo'];							var langues = [""';							foreach($langues as $la)							{								echo',"'.$la->getAttr('nom_langue').'"';							}							echo'];							var types = [""';							foreach($types_jeux as $ty)							{								echo',"'.$ty->getAttr('nom_type_jeu').'"';							}							echo '];							var typesAccessoires = [""';							foreach($types_accessoires as $ty)							{								echo',"'.$ty->getAttr('nom_type_accessoire').'"';							}							echo'];							var supports = [""';							foreach($supports as $su)							{								echo',"'.$su->getAttr('nom_support').'"';							}							echo'];							var regions = [""';							foreach($regions as $re)							{								echo',"'.$re->getAttr('nom_region').'"';							}							echo'];							var plateformes = [""';							foreach($plateformes as $pl)							{								echo',"'.$pl->getAttr('nom_plateforme').'"';							}							echo'];					</script>';	}		function affiche_validation_informations($commande, $developpeur, $editeur, $edition, $format, $groupe, $langue, $plateforme, $region, $support, $type_jeu, $type_accessoire, $jeu, $version, $accessoire, $versionAccessoire, $console, $versionConsole, $showVersions)	{		echo"<div class='sousTitre'>Total des infos à valider : ";			$taille = sizeof($console)+sizeof($versionConsole)+sizeof($accessoire)+sizeof($versionAccessoire)+sizeof($commande)+sizeof($jeu)+sizeof($version)+sizeof($developpeur)+sizeof($editeur)+sizeof($edition)+sizeof($format)+sizeof($groupe)+sizeof($langue)+sizeof($plateforme)+sizeof($region)+sizeof($support)+sizeof($type_jeu)+sizeof($type_accessoire);			if($taille == 0)			{				echo'<span class="nbGreen">0</span></div><br>';			}			else			{				echo'<span class="nbRed">'.$taille.'</span></div><br>				<div>Nombre de jeux à valider : ';				if($showVersions==0)				{					echo'<span class="nbRed">Information non disponible en version lite</span>';				}				else if(sizeof($jeu)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					if(sizeof($jeu)>200)					{						echo'<span class="nbRed">Plus de 200 (les 201 premiers sont affichés)</span>';					}					else					{						echo'<span class="nbRed">'.sizeof($jeu).'</span>';					}					echo '<script language="Javascript">						function ouvertureJeu() {							if(document.getElementById("vJeu").style.display == "none")							{								document.getElementById("vJeu").style.display="block";							}							else							{								document.getElementById("vJeu").style.display="none";							}						}					</script><a onclick="ouvertureJeu();return false;">Afficher / Cacher</a>					<div id="vJeu">';					foreach($jeu as $j)					{						echo'<a href="bddjv.php?action=view&id='.$j->getAttr('id_jeu').'">'.$j->getAttr('id_jeu').'</a> ; ';					}					echo'</div><script language="Javascript">document.getElementById("vJeu").style.display="none";</script>';				}				echo'</div>				<div>Nombre de versions de jeux à valider : ';				if($showVersions==0)				{					echo'<span class="nbRed">Information non disponible en version lite</span>';				}				else if(sizeof($version)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					if(sizeof($version)>200)					{						echo'<span class="nbRed">Plus de 200 (les 201 premiers sont affichés)</span>';					}					else					{						echo'<span class="nbRed">'.sizeof($version).'</span>';					}					echo '<script language="Javascript">						function ouvertureVersion() {							if(document.getElementById("version").style.display == "none")							{								document.getElementById("version").style.display="block";							}							else							{								document.getElementById("version").style.display="none";							}						}					</script><a onclick="ouvertureVersion();return false;">Afficher / Cacher</a>					<div id="version">';					foreach($version as $v)					{						echo'<a href="bddjv.php?action=view&id='.$v->getAttr('id_jeu').'">'.$v->getAttr('id_version').'</a> ; ';					}					echo'</div><script language="Javascript">document.getElementById("version").style.display="none";</script>';				}				echo'</div>				<div>Nombre d\'accessoires à valider : ';				if($showVersions==0)				{					echo'<span class="nbRed">Information non disponible en version lite</span>';				}				else if(sizeof($accessoire)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($accessoire).'</span>										<script language="Javascript">						function ouvertureAccessoire() {							if(document.getElementById("vAccessoire").style.display == "none")							{								document.getElementById("vAccessoire").style.display="block";							}							else							{								document.getElementById("vAccessoire").style.display="none";							}						}					</script><a onclick="ouvertureAccessoire();return false;">Afficher / Cacher</a>					<div id="vAccessoire">';					foreach($accessoire as $a)					{						echo'<a href="bddjv.php?action=viewAccessoire&id='.$a->getAttr('id_accessoire').'">'.$a->getAttr('id_accessoire').'</a> ; ';					}					echo'</div><script language="Javascript">document.getElementById("vAccessoire").style.display="none";</script>';				}				echo'</div>				<div>Nombre de versions d\'accessoires à valider : ';				if($showVersions==0)				{					echo'<span class="nbRed">Information non disponible en version lite</span>';				}				else if(sizeof($versionAccessoire)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($versionAccessoire).'</span>										<script language="Javascript">						function ouvertureVersionAccessoire() {							if(document.getElementById("vVersionAccessoire").style.display == "none")							{								document.getElementById("vVersionAccessoire").style.display="block";							}							else							{								document.getElementById("vVersionAccessoire").style.display="none";							}						}					</script><a onclick="ouvertureVersionAccessoire();return false;">Afficher / Cacher</a>					<div id="vVersionAccessoire">';					foreach($versionAccessoire as $va)					{						echo'<a href="bddjv.php?action=viewAccessoire&id='.$va->getAttr('id_accessoire').'">'.$va->getAttr('id_version_accessoire').'</a> ; ';					}					echo'</div><script language="Javascript">document.getElementById("vVersionAccessoire").style.display="none";</script>';				}				echo'</div>				<div>Nombre de packs à valider : ';				if($showVersions==0)				{					echo'<span class="nbRed">Information non disponible en version lite</span>';				}				else if(sizeof($console)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($console).'</span>										<script language="Javascript">						function ouvertureConsole() {							if(document.getElementById("vConsole").style.display == "none")							{								document.getElementById("vConsole").style.display="block";							}							else							{								document.getElementById("vConsole").style.display="none";							}						}					</script><a onclick="ouvertureConsole();return false;">Afficher / Cacher</a>					<div id="vConsole">';					foreach($console as $c)					{						echo'<a href="bddjv.php?action=viewConsole&id='.$c->getAttr('id_console').'">'.$c->getAttr('id_console').'</a> ; ';					}					echo'</div><script language="Javascript">document.getElementById("vConsole").style.display="none";</script>';				}				echo'</div>				<div>Nombre de versions de packs à valider : ';				if($showVersions==0)				{					echo'<span class="nbRed">Information non disponible en version lite</span>';				}				else if(sizeof($versionConsole)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($versionConsole).'</span>										<script language="Javascript">						function ouvertureVersionConsole() {							if(document.getElementById("vVersionConsole").style.display == "none")							{								document.getElementById("vVersionConsole").style.display="block";							}							else							{								document.getElementById("vVersionConsole").style.display="none";							}						}					</script><a onclick="ouvertureVersionConsole();return false;">Afficher / Cacher</a>					<div id="vVersionConsole">';					foreach($versionConsole as $v)					{						echo'<a href="bddjv.php?action=viewConsole&id='.$v->getAttr('id_console').'">'.$v->getAttr('id_version_console').'</a> ; ';					}					echo'</div><script language="Javascript">document.getElementById("vVersionConsole").style.display="none";</script>';				}				echo'</div>				<div>Nombre de contrôleurs à valider : ';				if(sizeof($commande)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($commande).'</span>										<script language="Javascript">						function ouvertureCommande() {							if(document.getElementById("commande").style.display == "none")							{								document.getElementById("commande").style.display="block";							}							else							{								document.getElementById("commande").style.display="none";							}						}					</script><a onclick="ouvertureCommande();return false;">Afficher / Cacher</a>					<div id="commande"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>Selection</td><td>Remplacer par</td></tr>';					foreach($commande as $c)					{						echo'<tr><td><img height=50 width=50 src="'.$c->getAttr('logo_commande').'"></td><td><a href="bddjv.php?action=adm&commande='.$c->getAttr('id_commande').'">'.$c->getAttr('nom_commande').'</a></td><td>'.$c->getAttr('logo_commande').'</td><td><input type=checkbox name='.$c->getAttr('id_commande').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$c->getAttr('id_commande').'">						<script>						$( function () {						$("#inCommande'.$c->getAttr('id_commande').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(commandes, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inCommande'.$c->getAttr('id_commande').'" name="inCommande" size=16 /> <input type=submit name="admRemplaceCommandes" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admValidationCommandes" value="Valider les contrôleurs sélectionnés"></td></tr>					<tr><td colspan=5><input type=submit name="admSuppressionCommandes" value="Supprimer les commandes sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("commande").style.display="none";</script>';				}				echo'</div>				<div>Nombre de developpeurs à valider : ';				if(sizeof($developpeur)==0)				{				echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($developpeur).'</span>									<script language="Javascript">						function ouvertureDeveloppeur() {							if(document.getElementById("developpeur").style.display == "none")							{								document.getElementById("developpeur").style.display="block";							}							else							{								document.getElementById("developpeur").style.display="None";							}						}					</script><a onclick="ouvertureDeveloppeur();return false;">Afficher / Cacher</a>					<div id="developpeur"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>Selection</td><td>Remplacer par</td></tr>';					foreach($developpeur as $d)					{						echo'<tr><td><img height=50 width=50 src="'.$d->getAttr('logo_developpeur').'"></td><td><a href="bddjv.php?action=adm&developpeur='.$d->getAttr('id_developpeur').'">'.$d->getAttr('nom_developpeur').'</a></td><td>'.$d->getAttr('logo_developpeur').'</td><td><input type=checkbox name='.$d->getAttr('id_developpeur').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$d->getAttr('id_developpeur').'">						<script>						$( function () {							$("#inDeveloppeur'.$d->getAttr('id_developpeur').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(developpeurs, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inDeveloppeur'.$d->getAttr('id_developpeur').'" name="inDeveloppeur" size=16 /> <input type=submit name="admRemplaceDeveloppeurs" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admValidationDeveloppeurs" value="Valider les développeurs sélectionnés"></td></tr>					<tr><td colspan=5><input type=submit name="admSuppressionDéveloppeurs" value="Supprimer les développeurs sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("developpeur").style.display="none";</script>';				}				echo'</div>				<div>Nombre d\'éditeurs à valider : ';				if(sizeof($editeur)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($editeur).'</span>										<script language="Javascript">						function ouvertureEditeur() {							if(document.getElementById("editeur").style.display == "none")							{								document.getElementById("editeur").style.display="block";							}							else							{								document.getElementById("editeur").style.display="None";							}						}					</script><a onclick="ouvertureEditeur();return false;">Afficher / Cacher</a>					<div id="editeur"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>Selection</td><td>Remplacer par</td></tr>';					foreach($editeur as $e)					{						echo'<tr><td><img height=50 width=50 src="'.$e->getAttr('logo_editeur').'"></td><td><a href="bddjv.php?action=adm&editeur='.$e->getAttr('id_editeur').'">'.$e->getAttr('nom_editeur').'</a></td><td>'.$e->getAttr('logo_editeur').'</td><td><input type=checkbox name='.$e->getAttr('id_editeur').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$e->getAttr('id_editeur').'">						<script>						$( function () {						$("#inEditeur'.$e->getAttr('id_editeur').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(editeurs, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inEditeur'.$e->getAttr('id_editeur').'" name="inEditeur" size=16 /> <input type=submit name="admRemplaceEditeurs" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admValidationEditeurs" value="Valider les éditeurs sélectionnés"></td></tr>					<tr><td colspan=5><input type=submit name="admSuppressionEditeurs" value="Supprimer les éditeurs sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("editeur").style.display="none";</script>';				}				echo'</div>				<div id="containerEdition">Nombre d\'editions à valider : ';				if(sizeof($edition)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($edition).'</span>										<script language="Javascript">						function ouvertureEdition() {							if(document.getElementById("edition").style.display == "none")							{								document.getElementById("edition").style.display="block";							}							else							{								document.getElementById("edition").style.display="None";							}						}					</script><a onclick="ouvertureEdition();return false;">Afficher / Cacher</a>					<div id="edition"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>Selection</td><td>Remplacer par</td></tr>';					foreach($edition as $e)					{						echo'<tr><td><img height=50 width=50 src="'.$e->getAttr('logo_edition').'"></td><td><a href="bddjv.php?action=adm&edition='.$e->getAttr('id_edition').'">'.$e->getAttr('nom_edition').'</a></td><td>'.$e->getAttr('logo_edition').'</td><td><input type=checkbox name='.$e->getAttr('id_edition').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$e->getAttr('id_edition').'">						<script>						$( function () {						$("#inEdition'.$e->getAttr('id_edition').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(editions, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inEdition'.$e->getAttr('id_edition').'" name="inEdition" size=16 /> <input type=submit name="admRemplaceEditions" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admValidationEditions" value="Valider les éditions sélectionnés"></td></tr>					<tr><td colspan=5><input type=submit name="admSuppressionEditions" value="Supprimer les éditions sélectionnés"></td></tr></table></form></div>										<script language="Javascript">							document.getElementById("edition").style.display="none";					</script>';				}				echo'</div>				<div>Nombre de formats à valider : ';				if(sizeof($format)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($format).'</span>										<script language="Javascript">						function ouvertureFormat() {							if(document.getElementById("format").style.display == "none")							{								document.getElementById("format").style.display="block";							}							else							{								document.getElementById("format").style.display="None";							}						}					</script><a onclick="ouvertureFormat();return false;">Afficher / Cacher</a>					<div id="format"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>Selection</td><td>Remplacer par</td></tr>';					foreach($format as $f)					{						echo'<tr><td><img height=50 width=50 src="'.$f->getAttr('logo_format').'"></td><td><a href="bddjv.php?action=adm&format='.$f->getAttr('id_format').'">'.$f->getAttr('nom_format').'</a></td><td>'.$f->getAttr('logo_format').'</td><td><input type=checkbox name='.$f->getAttr('id_format').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$f->getAttr('id_format').'">						<script>						$( function () {						$("#inFormat'.$f->getAttr('id_format').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(formats, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inFormat'.$f->getAttr('id_format').'" name="inFormat" size=16 /> <input type=submit name="admRemplaceFormats" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admValidationFormats" value="Valider les formats sélectionnés"></td></tr>					<tr><td colspan=5><input type=submit name="admSuppressionFormats" value="Supprimer les formats sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("format").style.display="none";</script>';				}				echo'</div>				<div>Nombre de groupes à valider : ';				if(sizeof($groupe)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($groupe).'</span>										<script language="Javascript">						function ouvertureGroupe() {							if(document.getElementById("groupe").style.display == "none")							{								document.getElementById("groupe").style.display="block";							}							else							{								document.getElementById("groupe").style.display="None";							}						}					</script><a onclick="ouvertureGroupe();return false;">Afficher / Cacher</a>					<div id="groupe"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>Id Parent</td><td>Selection</td><td>Replacer par</td></tr>';					foreach($groupe as $g)					{						echo'<tr><td><img height=50 width=50 src="'.$g->getAttr('logo_groupe').'"></td><td><a href="bddjv.php?action=adm&groupe='.$g->getAttr('id_groupe').'">'.$g->getAttr('nom_groupe').'</a></td><td>'.$g->getAttr('logo_groupe').'</td><td>'.$g->getAttr('id_groupe_parent').'</td><td><input type=checkbox name='.$g->getAttr('id_groupe').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$g->getAttr('id_groupe').'">						<script>						$( function () {						$("#inGroupe'.$g->getAttr('id_groupe').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(groupes, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inGroupe'.$g->getAttr('id_groupe').'" name="inGroupe" size=16 /> <input type=submit name="admRemplaceGroupes" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=6><input type=submit name="admValidationGroupes" value="Valider les groupes sélectionnés"></td></tr>					<tr><td colspan=6><input type=submit name="admSuppressionGroupes" value="Supprimer les groupes sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("groupe").style.display="none";</script>';				}				echo'</div>				<div>Nombre de langues à valider : ';				if(sizeof($langue)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($langue).'</span>										<script language="Javascript">						function ouvertureLangue() {							if(document.getElementById("langue").style.display == "none")							{								document.getElementById("langue").style.display="block";							}							else							{								document.getElementById("langue").style.display="None";							}						}					</script><a onclick="ouvertureLangue();return false;">Afficher / Cacher</a>					<div id="langue"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>Selection</td><td>Remplacer par</td></tr>';					foreach($langue as $l)					{						echo'<tr><td><img height=50 width=50 src="'.$l->getAttr('logo_langue').'"></td><td><a href="bddjv.php?action=adm&langue='.$l->getAttr('id_langue').'">'.$l->getAttr('nom_langue').'</a></td><td>'.$l->getAttr('logo_langue').'</td><td><input type=checkbox name='.$l->getAttr('id_langue').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$l->getAttr('id_langue').'">						<script>						$( function () {						$("#inLangue'.$l->getAttr('id_langue').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(langues, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inLangue'.$l->getAttr('id_langue').'" name="inLangue" size=16 /> <input type=submit name="admRemplaceLangues" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admValidationLangues" value="Valider les langues sélectionnés"></td></tr>					<tr><td colspan=5><input type=submit name="admSuppressionLangues" value="Supprimer les langues sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("langue").style.display="none";</script>';				}				echo'</div>				<div>Nombre de plateformes à valider : ';				if(sizeof($plateforme)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($plateforme).'</span>										<script language="Javascript">						function ouverturePlateforme() {							if(document.getElementById("plateforme").style.display == "none")							{								document.getElementById("plateforme").style.display="block";							}							else							{								document.getElementById("plateforme").style.display="None";							}						}					</script><a onclick="ouverturePlateforme();return false;">Afficher / Cacher</a>					<div id="plateforme"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Editeur</td><td>Chemin Image</td><td>Selection</td><td>Remplacer par</td></tr>';					foreach($plateforme as $p)					{						echo'<tr><td><img height=50 width=50 src="'.$p->getAttr('logo_plateforme').'"></td><td><a href="bddjv.php?action=adm&plateforme='.$p->getAttr('id_plateforme').'">'.$p->getAttr('nom_plateforme').'</a></td><td>'.$p->getAttr('id_editeur').'</td><td>'.$p->getAttr('logo_plateforme').'</td><td><input type=checkbox name='.$p->getAttr('id_plateforme').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$p->getAttr('id_plateforme').'">						<script>						$( function () {						$("#inPlateforme'.$p->getAttr('id_plateforme').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(plateformes, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inPlateforme'.$p->getAttr('id_plateforme').'" name="inPlateforme" size=16 /> <input type=submit name="admRemplacePlateformes" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=6><input type=submit name="admValidationPlateformes" value="Valider les plateformes sélectionnés"></td></tr>					<tr><td colspan=6><input type=submit name="admSuppressionPlateformes" value="Supprimer les plateformes sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("plateforme").style.display="none";</script>';				}				echo'</div>				<div>Nombre de regions à valider : ';				if(sizeof($region)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($region).'</span>										<script language="Javascript">						function ouvertureRegion() {							if(document.getElementById("region").style.display == "none")							{								document.getElementById("region").style.display="block";							}							else							{								document.getElementById("region").style.display="None";							}						}					</script><a onclick="ouvertureRegion();return false;">Afficher / Cacher</a>					<div id="region"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>Selection</td><td>Remplacer par</td></tr>';					foreach($region as $r)					{						echo'<tr><td><img height=50 width=50 src="'.$r->getAttr('logo_region').'"></td><td><a href="bddjv.php?action=adm&region='.$r->getAttr('id_region').'">'.$r->getAttr('nom_region').'</a></td><td>'.$r->getAttr('logo_region').'</td><td><input type=checkbox name='.$r->getAttr('id_region').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$r->getAttr('id_region').'">						<script>						$( function () {						$("#inRegion'.$r->getAttr('id_region').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(regions, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inRegion'.$r->getAttr('id_region').'" name="inRegion" size=16 /> <input type=submit name="admRemplaceRegions" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=6><input type=submit name="admValidationRegions" value="Valider les régions sélectionnés"></td></tr>					<tr><td colspan=6><input type=submit name="admSuppressionRegions" value="Supprimer les régions sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("region").style.display="none";</script>';				}				echo'</div>				<div>Nombre de supports à valider : ';				if(sizeof($support)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($support).'</span>										<script language="Javascript">						function ouvertureSupport() {							if(document.getElementById("support").style.display == "none")							{								document.getElementById("support").style.display="block";							}							else							{								document.getElementById("support").style.display="None";							}						}					</script><a onclick="ouvertureSupport();return false;">Afficher / Cacher</a>					<div id="support"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>Selection</td><td>Remplacer par</td></tr>';					foreach($support as $s)					{						echo'<tr><td><img height=50 width=50 src="'.$s->getAttr('logo_support').'"></td><td><a href="bddjv.php?action=adm&support='.$s->getAttr('id_support').'">'.$s->getAttr('nom_support').'</a></td><td>'.$s->getAttr('logo_support').'</td><td><input type=checkbox name='.$s->getAttr('id_support').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$s->getAttr('id_support').'">						<script>						$( function () {						$("#inSupport'.$s->getAttr('id_support').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(supports, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inSupport'.$s->getAttr('id_support').'" name="inSupport" size=16 /> <input type=submit name="admRemplaceSupports" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admValidationSupports" value="Valider les supports sélectionnés"></td></tr>					<tr><td colspan=5><input type=submit name="admSuppressionSupports" value="Supprimer les supports sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("support").style.display="none";</script>';				}				echo'</div>				<div>Nombre de types à valider : ';				if(sizeof($type_jeu)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($type_jeu).'</span>										<script language="Javascript">						function ouvertureType() {							if(document.getElementById("type_jeu").style.display == "none")							{								document.getElementById("type_jeu").style.display="block";							}							else							{								document.getElementById("type_jeu").style.display="none";							}						}					</script><a onclick="ouvertureType();return false;">Afficher / Cacher</a>					<div id="type_jeu"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>Selection</td><td>Remplacer par</td></tr>';					foreach($type_jeu as $t)					{						echo'<tr><td><img height=50 width=50 src="'.$t->getAttr('logo_type_jeu').'"></td><td><a href="bddjv.php?action=adm&type='.$t->getAttr('id_type_jeu').'">'.$t->getAttr('nom_type_jeu').'</a></td><td>'.$t->getAttr('logo_type_jeu').'</td><td><input type=checkbox name='.$t->getAttr('id_type_jeu').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$t->getAttr('id_type_jeu').'">						<script>						$( function () {						$("#inType'.$t->getAttr('id_type_jeu').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(types, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inType'.$t->getAttr('id_type_jeu').'" name="inType" size=16 /> <input type=submit name="admRemplaceTypes" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admValidationTypes" value="Valider les types sélectionnés"></td></tr>					<tr><td colspan=5><input type=submit name="admSuppressionTypes" value="Supprimer les types sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("type_jeu").style.display="none";</script>';				}echo'</div>				<div>Nombre de types d\'accessoires à valider : ';				if(sizeof($type_accessoire)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($type_accessoire).'</span>										<script language="Javascript">						function ouvertureTypeAcc() {							if(document.getElementById("type_accessoire").style.display == "none")							{								document.getElementById("type_accessoire").style.display="block";							}							else							{								document.getElementById("type_accessoire").style.display="none";							}						}					</script><a onclick="ouvertureTypeAcc();return false;">Afficher / Cacher</a>					<div id="type_accessoire"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>Selection</td><td>Remplacer par</td></tr>';					foreach($type_accessoire as $t)					{						echo'<tr><td><img height=50 width=50 src="'.$t->getAttr('logo_type_accessoire').'"></td><td><a href="bddjv.php?action=adm&typeAccessoire='.$t->getAttr('id_type_accessoire').'">'.$t->getAttr('nom_type_accessoire').'</a></td><td>'.$t->getAttr('logo_type_accessoire').'</td><td><input type=checkbox name='.$t->getAttr('id_type_accessoire').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$t->getAttr('id_type_accessoire').'">						<script>						$( function () {						$("#inTypeAcc'.$t->getAttr('id_type_accessoire').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(typesAccessoires, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inTypeAcc'.$t->getAttr('id_type_accessoire').'" name="inTypeAcc" size=16 /> <input type=submit name="admRemplaceTypesAcc" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admValidationTypesAccessoires" value="Valider les types sélectionnés"></td></tr>					<tr><td colspan=5><input type=submit name="admSuppressionTypesAccessoires" value="Supprimer les types sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("type_accessoire").style.display="none";</script>';				}				echo'</div>';			}				}	function affiche_informations_inutiles($commande, $developpeur, $editeur, $edition, $format, $groupe, $langue, $plateforme, $region, $support, $type_jeu, $type_accessoire)	{		echo"<div class='sousTitre'>Total des infos inutilisées : ";			$taille = sizeof($commande)+sizeof($developpeur)+sizeof($editeur)+sizeof($edition)+sizeof($format)+sizeof($groupe)+sizeof($langue)+sizeof($plateforme)+sizeof($region)+sizeof($support)+sizeof($type_jeu)+sizeof($type_accessoire);			if($taille == 0)			{				echo'<span class="nbGreen">0</span></div><br>';			}			else			{				echo'<span class="nbRed">'.$taille.'</span></div><br>				<div>Nombre de contrôleurs inutilisées : ';				if(sizeof($commande)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($commande).'</span>										<script language="Javascript">						function ouvertureSupprCommande() {							if(document.getElementById("supprcommande").style.display == "none")							{								document.getElementById("supprcommande").style.display="block";							}							else							{								document.getElementById("supprcommande").style.display="none";							}						}					</script><a onclick="ouvertureSupprCommande();return false;">Afficher / Cacher</a>					<div id="supprcommande"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>supprimer</td><td>Remplacer par</td></tr>';					foreach($commande as $c)					{						echo'<tr><td><img height=50 width=50 src="'.$c->getAttr('logo_commande').'"></td><td><a href="bddjv.php?action=adm&commande='.$c->getAttr('id_commande').'">'.$c->getAttr('nom_commande').'</a></td><td>'.$c->getAttr('logo_commande').'</td><td><input type=checkbox name='.$c->getAttr('id_commande').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$c->getAttr('id_commande').'">						<script>						$( function () {						$("#inSCommande'.$c->getAttr('id_commande').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(commandes, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inSCommande'.$c->getAttr('id_commande').'" name="inCommande" size=16 /> <input type=submit name="admRemplaceCommandes" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admSuppressionCommandes" value="Supprimer les contrôleurs sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("supprcommande").style.display="none";</script>';				}				echo'</div><div>Nombre de developpeurs inutilisées : ';				if(sizeof($developpeur)==0)				{				echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($developpeur).'</span>										<script language="Javascript">						function ouvertureSupprDeveloppeur() {							if(document.getElementById("supprdeveloppeur").style.display == "none")							{								document.getElementById("supprdeveloppeur").style.display="block";							}							else							{								document.getElementById("supprdeveloppeur").style.display="None";							}						}					</script><a onclick="ouvertureSupprDeveloppeur();return false;">Afficher / Cacher</a>					<div id="supprdeveloppeur"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>supprimer</td><td>Remplacer par</td></tr>';					foreach($developpeur as $d)					{						echo'<tr><td><img height=50 width=50 src="'.$d->getAttr('logo_developpeur').'"></td><td><a href="bddjv.php?action=adm&developpeur='.$d->getAttr('id_developpeur').'">'.$d->getAttr('nom_developpeur').'</a></td><td>'.$d->getAttr('logo_developpeur').'</td><td><input type=checkbox name='.$d->getAttr('id_developpeur').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$d->getAttr('id_developpeur').'">						<script>						$( function () {						$("#inSDeveloppeur'.$d->getAttr('id_developpeur').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(developpeurs, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inSDeveloppeur'.$d->getAttr('id_developpeur').'" name="inDeveloppeur" size=16 /> <input type=submit name="admRemplaceDeveloppeurs" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admSuppressionDeveloppeurs" value="Supprimer les développeurs sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("supprdeveloppeur").style.display="none";</script>';				}				echo'</div>				<div>Nombre d\'éditeurs inutilisées : ';				if(sizeof($editeur)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($editeur).'</span>										<script language="Javascript">						function ouvertureSupprEditeur() {							if(document.getElementById("supprediteur").style.display == "none")							{								document.getElementById("supprediteur").style.display="block";							}							else							{								document.getElementById("supprediteur").style.display="None";							}						}					</script><a onclick="ouvertureSupprEditeur();return false;">Afficher / Cacher</a>					<div id="supprediteur"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>supprimer</td><td>Remplacer par</td></tr>';					foreach($editeur as $e)					{						echo'<tr><td><img height=50 width=50 src="'.$e->getAttr('logo_editeur').'"></td><td><a href="bddjv.php?action=adm&editeur='.$e->getAttr('id_editeur').'">'.$e->getAttr('nom_editeur').'</a></td><td>'.$e->getAttr('logo_editeur').'</td><td><input type=checkbox name='.$e->getAttr('id_editeur').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$e->getAttr('id_editeur').'">						<script>						$( function () {						$("#inSEditeur'.$e->getAttr('id_editeur').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(editeurs, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inSEditeur'.$e->getAttr('id_editeur').'" name="inEditeur" size=16 /> <input type=submit name="admRemplaceEditeurs" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admSuppressionEditeurs" value="Supprimer les éditeurs sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("supprediteur").style.display="none";</script>';				}				echo'</div>				<div id="containerEdition">Nombre d\'editions inutilisées : ';				if(sizeof($edition)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($edition).'</span>										<script language="Javascript">						function ouvertureSupprEdition() {							if(document.getElementById("suppredition").style.display == "none")							{								document.getElementById("suppredition").style.display="block";							}							else							{								document.getElementById("suppredition").style.display="None";							}						}					</script><a onclick="ouvertureSupprEdition();return false;">Afficher / Cacher</a>					<div id="suppredition"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>supprimer</td><td>Remplacer par</td></tr>';					foreach($edition as $e)					{						echo'<tr><td><img height=50 width=50 src="'.$e->getAttr('logo_edition').'"></td><td><a href="bddjv.php?action=adm&edition='.$e->getAttr('id_edition').'">'.$e->getAttr('nom_edition').'</a></td><td>'.$e->getAttr('logo_edition').'</td><td><input type=checkbox name='.$e->getAttr('id_edition').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$e->getAttr('id_edition').'">						<script>						$( function () {						$("#inSEdition'.$e->getAttr('id_edition').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(editions, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inSEdition'.$e->getAttr('id_edition').'" name="inEdition" size=16 /> <input type=submit name="admRemplaceEditions" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admSuppressionEditions" value="Supprimer les éditions sélectionnés"></td></tr></table></form></div>										<script language="Javascript">							document.getElementById("suppredition").style.display="none";					</script>';				}				echo'</div>				<div>Nombre de formats inutilisées : ';				if(sizeof($format)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($format).'</span>										<script language="Javascript">						function ouvertureSupprFormat() {							if(document.getElementById("supprformat").style.display == "none")							{								document.getElementById("supprformat").style.display="block";							}							else							{								document.getElementById("supprformat").style.display="None";							}						}					</script><a onclick="ouvertureSupprFormat();return false;">Afficher / Cacher</a>					<div id="supprformat"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>supprimer</td><td>Remplacer par</td></tr>';					foreach($format as $f)					{						echo'<tr><td><img height=50 width=50 src="'.$f->getAttr('logo_format').'"></td><td><a href="bddjv.php?action=adm&format='.$f->getAttr('id_format').'">'.$f->getAttr('nom_format').'</a></td><td>'.$f->getAttr('logo_format').'</td><td><input type=checkbox name='.$f->getAttr('id_format').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$f->getAttr('id_format').'">						<script>						$( function () {						$("#inSFormat'.$f->getAttr('id_format').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(formats, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inSFormat'.$f->getAttr('id_format').'" name="inFormat" size=16 /> <input type=submit name="admRemplaceFormats" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admSuppressionFormats" value="Supprimer les formats sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("supprformat").style.display="none";</script>';				}				echo'</div>				<div>Nombre de groupes inutilisées : ';				if(sizeof($groupe)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($groupe).'</span>										<script language="Javascript">						function ouvertureSupprGroupe() {							if(document.getElementById("supprgroupe").style.display == "none")							{								document.getElementById("supprgroupe").style.display="block";							}							else							{								document.getElementById("supprgroupe").style.display="None";							}						}					</script><a onclick="ouvertureSupprGroupe();return false;">Afficher / Cacher</a>					<div id="supprgroupe"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>Id Parent</td><td>supprimer</td><td>Replacer par</td></tr>';					foreach($groupe as $g)					{						echo'<tr><td><img height=50 width=50 src="'.$g->getAttr('logo_groupe').'"></td><td><a href="bddjv.php?action=adm&groupe='.$g->getAttr('id_groupe').'">'.$g->getAttr('nom_groupe').'</a></td><td>'.$g->getAttr('logo_groupe').'</td><td>'.$g->getAttr('id_groupe_parent').'</td><td><input type=checkbox name='.$g->getAttr('id_groupe').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$g->getAttr('id_groupe').'">						<script>						$( function () {						$("#inSGroupe'.$g->getAttr('id_groupe').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(groupes, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inSGroupe'.$g->getAttr('id_groupe').'" name="inGroupe" size=16 /> <input type=submit name="admRemplaceGroupes" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=6><input type=submit name="admSuppressionGroupes" value="Supprimer les groupes sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("supprgroupe").style.display="none";</script>';				}				echo'</div>				<div>Nombre de langues inutilisées : ';				if(sizeof($langue)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($langue).'</span>										<script language="Javascript">						function ouvertureSupprLangue() {							if(document.getElementById("supprlangue").style.display == "none")							{								document.getElementById("supprlangue").style.display="block";							}							else							{								document.getElementById("supprlangue").style.display="None";							}						}					</script><a onclick="ouvertureSupprLangue();return false;">Afficher / Cacher</a>					<div id="supprlangue"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>supprimer</td><td>Remplacer par</td></tr>';					foreach($langue as $l)					{						echo'<tr><td><img height=50 width=50 src="'.$l->getAttr('logo_langue').'"></td><td><a href="bddjv.php?action=adm&langue='.$l->getAttr('id_langue').'">'.$l->getAttr('nom_langue').'</a></td><td>'.$l->getAttr('logo_langue').'</td><td><input type=checkbox name='.$l->getAttr('id_langue').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$l->getAttr('id_langue').'">						<script>						$( function () {						$("#inSLangue'.$l->getAttr('id_langue').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(langues, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inSLangue'.$l->getAttr('id_langue').'" name="inLangue" size=16 /> <input type=submit name="admRemplaceLangues" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admSuppressionLangues" value="Supprimer les langues sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("supprlangue").style.display="none";</script>';				}				echo'</div>				<div>Nombre de plateformes inutilisées : ';				if(sizeof($plateforme)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($plateforme).'</span>										<script language="Javascript">						function ouvertureSupprPlateforme() {							if(document.getElementById("supprplateforme").style.display == "none")							{								document.getElementById("supprplateforme").style.display="block";							}							else							{								document.getElementById("supprplateforme").style.display="None";							}						}					</script><a onclick="ouvertureSupprPlateforme();return false;">Afficher / Cacher</a>					<div id="supprplateforme"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Editeur</td><td>Chemin Image</td><td>supprimer</td><td>Remplacer par</td></tr>';					foreach($plateforme as $p)					{						echo'<tr><td><img height=50 width=50 src="'.$p->getAttr('logo_plateforme').'"></td><td><a href="bddjv.php?action=adm&plateforme='.$p->getAttr('id_plateforme').'">'.$p->getAttr('nom_plateforme').'</a></td><td>'.$p->getAttr('id_editeur').'</td><td>'.$p->getAttr('logo_plateforme').'</td><td><input type=checkbox name='.$p->getAttr('id_plateforme').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$p->getAttr('id_plateforme').'">						<script>						$( function () {						$("#inSPlateforme'.$p->getAttr('id_plateforme').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(plateformes, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inSPlateforme'.$p->getAttr('id_plateforme').'" name="inPlateforme" size=16 /> <input type=submit name="admRemplacePlateformes" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=6><input type=submit name="admSuppressionPlateformes" value="Supprimer les plateformes sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("supprplateforme").style.display="none";</script>';				}				echo'</div>				<div>Nombre de regions inutilisées : ';				if(sizeof($region)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($region).'</span>										<script language="Javascript">						function ouvertureSupprRegion() {							if(document.getElementById("supprregion").style.display == "none")							{								document.getElementById("supprregion").style.display="block";							}							else							{								document.getElementById("supprregion").style.display="None";							}						}					</script><a onclick="ouvertureSupprRegion();return false;">Afficher / Cacher</a>					<div id="supprregion"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>supprimer</td><td>Remplacer par</td></tr>';					foreach($region as $r)					{						echo'<tr><td><img height=50 width=50 src="'.$r->getAttr('logo_region').'"></td><td><a href="bddjv.php?action=adm&region='.$r->getAttr('id_region').'">'.$r->getAttr('nom_region').'</a></td><td>'.$r->getAttr('logo_region').'</td><td><input type=checkbox name='.$r->getAttr('id_region').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$r->getAttr('id_region').'">						<script>						$( function () {						$("#inSRegion'.$r->getAttr('id_region').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(regions, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inSRegion'.$r->getAttr('id_region').'" name="inRegion" size=16 /> <input type=submit name="admRemplaceRegions" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=6><input type=submit name="admSuppressionRegions" value="Supprimer les régions sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("supprregion").style.display="none";</script>';				}				echo'</div>				<div>Nombre de supports inutilisées : ';				if(sizeof($support)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($support).'</span>										<script language="Javascript">						function ouvertureSupprSupport() {							if(document.getElementById("supprsupport").style.display == "none")							{								document.getElementById("supprsupport").style.display="block";							}							else							{								document.getElementById("supprsupport").style.display="None";							}						}					</script><a onclick="ouvertureSupprSupport();return false;">Afficher / Cacher</a>					<div id="supprsupport"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>supprimer</td><td>Remplacer par</td></tr>';					foreach($support as $s)					{						echo'<tr><td><img height=50 width=50 src="'.$s->getAttr('logo_support').'"></td><td><a href="bddjv.php?action=adm&support='.$s->getAttr('id_support').'">'.$s->getAttr('nom_support').'</a></td><td>'.$s->getAttr('logo_support').'</td><td><input type=checkbox name='.$s->getAttr('id_support').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$s->getAttr('id_support').'">						<script>						$( function () {						$("#inSSupport'.$s->getAttr('id_support').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(supports, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inSSupport'.$s->getAttr('id_support').'" name="inSupport" size=16 /> <input type=submit name="admRemplaceSupports" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admSuppressionSupports" value="Supprimer les supports sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("supprsupport").style.display="none";</script>';				}				echo'</div>				<div>Nombre de types inutilisées : ';				if(sizeof($type_jeu)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($type_jeu).'</span>										<script language="Javascript">						function ouvertureSupprType() {							if(document.getElementById("supprtype_jeu").style.display == "none")							{								document.getElementById("supprtype_jeu").style.display="block";							}							else							{								document.getElementById("supprtype_jeu").style.display="none";							}						}					</script><a onclick="ouvertureSupprType();return false;">Afficher / Cacher</a>					<div id="supprtype_jeu"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>supprimer</td><td>Remplacer par</td></tr>';					foreach($type_jeu as $t)					{						echo'<tr><td><img height=50 width=50 src="'.$t->getAttr('logo_type_jeu').'"></td><td><a href="bddjv.php?action=adm&type='.$t->getAttr('id_type_jeu').'">'.$t->getAttr('nom_type_jeu').'</a></td><td>'.$t->getAttr('logo_type_jeu').'</td><td><input type=checkbox name='.$t->getAttr('id_type_jeu').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$t->getAttr('id_type_jeu').'">						<script>						$( function () {						$("#inSType'.$t->getAttr('id_type_jeu').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(types, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inSType'.$t->getAttr('id_type_jeu').'" name="inType" size=16 /> <input type=submit name="admRemplaceTypes" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admSuppressionTypes" value="Supprimer les types sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("supprtype_jeu").style.display="none";</script>';				}echo'</div>				<div>Nombre de types d\'accessoires inutilisées : ';				if(sizeof($type_accessoire)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					echo'<span class="nbRed">'.sizeof($type_accessoire).'</span>										<script language="Javascript">						function ouvertureSupprTypeAcc() {							if(document.getElementById("supprtype_accessoire").style.display == "none")							{								document.getElementById("supprtype_accessoire").style.display="block";							}							else							{								document.getElementById("supprtype_accessoire").style.display="none";							}						}					</script><a onclick="ouvertureSupprTypeAcc();return false;">Afficher / Cacher</a>					<div id="supprtype_accessoire"><form action="" method=POST><table border=1><tr><td>Photo</td><td>Nom</td><td>Chemin Image</td><td>supprimer</td><td>Remplacer par</td></tr>';					foreach($type_accessoire as $t)					{						echo'<tr><td><img height=50 width=50 src="'.$t->getAttr('logo_type_accessoire').'"></td><td><a href="bddjv.php?action=adm&typeAccessoire='.$t->getAttr('id_type_accessoire').'">'.$t->getAttr('nom_type_accessoire').'</a></td><td>'.$t->getAttr('logo_type_accessoire').'</td><td><input type=checkbox name='.$t->getAttr('id_type_accessoire').' value=1></td><td>						<form action="" method=POST>						<input type=hidden name="id" value="'.$t->getAttr('id_type_accessoire').'">						<script>						$( function () {						$("#inSTypeAcc'.$t->getAttr('id_type_accessoire').'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(typesAccessoires, request.term);								response(results.slice(0, 10));							}						});						});						</script>						<input type=text id="inSTypeAcc'.$t->getAttr('id_type_accessoire').'" name="inTypeAcc" size=16 /> <input type=submit name="admRemplaceTypesAccessoires" value="Ok"></form></td></tr>';					}					echo'<tr><td colspan=5><input type=submit name="admSuppressionTypesAccessoires" value="Supprimer les types sélectionnés"></td></tr></table></form></div><script language="Javascript">document.getElementById("supprtype_accessoire").style.display="none";</script>';				}				echo'</div>';			}				}			function affiche_ajout_informations()	{		echo		'<div>		Ajouter une langue		<script language="Javascript">			function aLangue() {				if(document.getElementById("aLangue").style.display == "none")				{					document.getElementById("aLangue").style.display="block";				}				else				{					document.getElementById("aLangue").style.display="none";				}			}		</script><a onclick="aLangue();return false;">Afficher / Cacher</a><br>		<form id="aLangue" action="" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_langue" /><br>		<input type=file NAME="logo_langue" /><br>		<input type=submit name="validerAjoutLangue" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("aLangue").style.display="none";		</script>		Ajouter un support		<script language="Javascript">			function aSupport() {				if(document.getElementById("aSupport").style.display == "none")				{					document.getElementById("aSupport").style.display="block";				}				else				{					document.getElementById("aSupport").style.display="none";				}			}		</script><a onclick="aSupport();return false;">Afficher / Cacher</a><br>		<form id="aSupport" action="" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_support" /><br>		<input type=file NAME="logo_support" /><br>		<input type=submit name="validerAjoutSupport" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("aSupport").style.display="none";		</script>		Ajouter un format		<script language="Javascript">			function aFormat() {				if(document.getElementById("aFormat").style.display == "none")				{					document.getElementById("aFormat").style.display="block";				}				else				{					document.getElementById("aFormat").style.display="none";				}			}		</script><a onclick="aFormat();return false;">Afficher / Cacher</a><br>		<form id="aFormat" action="" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_format"/><br>		<input type=file NAME="logo_format" /><br>		<input type=submit name="validerAjoutFormat" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("aFormat").style.display="none";		</script>		Ajouter un developpeur		<script language="Javascript">			function aDev() {				if(document.getElementById("aDev").style.display == "none")				{					document.getElementById("aDev").style.display="block";				}				else				{					document.getElementById("aDev").style.display="none";				}			}		</script><a onclick="aDev();return false;">Afficher / Cacher</a><br>		<form id="aDev" action="" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_developpeur" /><br>		<input type=file NAME="logo_developpeur" /><br>		<input type=submit name="validerAjoutDeveloppeur" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("aDev").style.display="none";		</script>		Ajouter un editeur		<script language="Javascript">			function aEditeur() {				if(document.getElementById("aEditeur").style.display == "none")				{					document.getElementById("aEditeur").style.display="block";				}				else				{					document.getElementById("aEditeur").style.display="none";				}			}		</script><a onclick="aEditeur();return false;">Afficher / Cacher</a><br>		<form id="aEditeur" action="" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_editeur" /><br>		<input type=file NAME="logo_editeur" /><br>		<input type=submit name="validerAjoutEditeur" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("aEditeur").style.display="none";		</script>		Ajouter une edition		<script language="Javascript">			function aEdition() {				if(document.getElementById("aEdition").style.display == "none")				{					document.getElementById("aEdition").style.display="block";				}				else				{					document.getElementById("aEdition").style.display="none";				}			}		</script><a onclick="aEdition();return false;">Afficher / Cacher</a><br>		<form id="aEdition" action="" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_edition" /><br>		<input type=file NAME="logo_edition" /><br>		<input type=submit name="validerAjoutEdition" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("aEdition").style.display="none";		</script>		Ajouter un nom de jeu		<script language="Javascript">			function aNom() {				if(document.getElementById("aNom").style.display == "none")				{					document.getElementById("aNom").style.display="block";				}				else				{					document.getElementById("aNom").style.display="none";				}			}		</script><a onclick="aNom();return false;">Afficher / Cacher</a><br>		<form id="aNom" action="" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_jeu" /><br>		<input type=submit name="validerAjoutNomJeu" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("aNom").style.display="none";		</script>		Ajouter une plateforme		<script language="Javascript">			function aPlateforme() {				if(document.getElementById("aPlateforme").style.display == "none")				{					document.getElementById("aPlateforme").style.display="block";				}				else				{					document.getElementById("aPlateforme").style.display="none";				}			}		</script><a onclick="aPlateforme();return false;">Afficher / Cacher</a><br>		<form id="aPlateforme" action="" method=POST enctype="multipart/form-data">		Plateforme : <input type=text NAME="nom_plateforme" /><br>		Description : <textarea NAME="description_plateforme"></textarea><br>		Logo : <input type=file NAME="logo_plateforme" /><br>		<script>		$(function() {		$("#nom_editeur").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(editeurs, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Editeur : <input type=text NAME="nom_editeur" id="nom_editeur" /><br>		<input type=submit name="validerAjoutPlateforme" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("aPlateforme").style.display="none";		</script>		Ajouter une region		<script language="Javascript">			function aRegion() {				if(document.getElementById("aRegion").style.display == "none")				{					document.getElementById("aRegion").style.display="block";				}				else				{					document.getElementById("aRegion").style.display="none";				}			}		</script><a onclick="aRegion();return false;">Afficher / Cacher</a><br>		<form id="aRegion" action="" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_region" /><br>		<input type=file NAME="logo_region" /><br>		<input type=submit name="validerAjoutRegion" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("aRegion").style.display="none";		</script>		Ajouter une controleur		<script language="Javascript">			function aCommande() {				if(document.getElementById("aCommande").style.display == "none")				{					document.getElementById("aCommande").style.display="block";				}				else				{					document.getElementById("aCommande").style.display="none";				}			}		</script><a onclick="aCommande();return false;">Afficher / Cacher</a><br>		<form id="aCommande" action="" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_commande" /><br>		<input type=file NAME="logo_commande" /><br>		<input type=submit name="validerAjoutCommande" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("aCommande").style.display="none";		</script>		Ajouter un type de jeux		<script language="Javascript">			function aType() {				if(document.getElementById("aType").style.display == "none")				{					document.getElementById("aType").style.display="block";				}				else				{					document.getElementById("aType").style.display="none";				}			}		</script><a onclick="aType();return false;">Afficher / Cacher</a><br>		<form id="aType" action="" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_type_jeu" /><br>		<input type=file NAME="logo_type_jeu" /><br>		<input type=submit name="validerAjoutTypeJeu" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("aType").style.display="none";		</script>		Ajouter un type d\'accessoire		<script language="Javascript">			function aTypeAcc() {				if(document.getElementById("aTypeAcc").style.display == "none")				{					document.getElementById("aTypeAcc").style.display="block";				}				else				{					document.getElementById("aTypeAcc").style.display="none";				}			}		</script><a onclick="aTypeAcc();return false;">Afficher / Cacher</a><br>		<form id="aTypeAcc" action="" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_type_accessoire" /><br>		<input type=file NAME="logo_type_accessoire" /><br>		<input type=submit name="validerAjoutTypeAccessoire" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("aTypeAcc").style.display="none";		</script>		Ajouter un groupe		<script language="Javascript">			function aGroupe() {				if(document.getElementById("aGroupe").style.display == "none")				{					document.getElementById("aGroupe").style.display="block";				}				else				{					document.getElementById("aGroupe").style.display="none";				}			}		</script><a onclick="aGroupe();return false;">Afficher / Cacher</a><br>		<form id="aGroupe" action="" method=POST enctype="multipart/form-data">		Nom : <input type=text NAME="nom_groupe" /><br>		Logo : <input type=file NAME="logo_groupe" /><br>		<script>		$(function() {		$("#groupe_parent").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(groupes, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Groupe parent : <input type=text NAME="groupe_parent" id="groupe_parent" /><br>		<input type=submit name="validerAjoutGroupe" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("aGroupe").style.display="none";		</script>		Ajouter la description d\'un éditeur		<script language="Javascript">			function aDescriptionEditeur() {				if(document.getElementById("aDescriptionEditeur").style.display == "none")				{					document.getElementById("aDescriptionEditeur").style.display="block";				}				else				{					document.getElementById("aDescriptionEditeur").style.display="none";				}			}		</script><a onclick="aDescriptionEditeur();return false;">Afficher / Cacher</a><br>		<form id="aDescriptionEditeur" action="" method=POST enctype="multipart/form-data">		<script>		$(function() {		$("#nom_editeur2").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(editeurs, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Editeur : <input type=text NAME="nom_editeur" id="nom_editeur2" /><br>		Description : <textarea NAME="description_editeur"></textarea><br>		<input type=submit name="validerAjoutDescriptionEditeur" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("aDescriptionEditeur").style.display="none";		</script>		</div><div id="clear"></div>';	}		function affiche_modifications_informations()	{		echo		'<div>		Modifier une langue		<script language="Javascript">			function mLangue() {				if(document.getElementById("mLangue").style.display == "none")				{					document.getElementById("mLangue").style.display="block";				}				else				{					document.getElementById("mLangue").style.display="none";				}			}		</script><a onclick="mLangue();return false;">Afficher / Cacher</a><br>		<form id="mLangue" action="" method=POST enctype="multipart/form-data">		<script>		$(function() {		$("#modifier_langue").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(langues, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Langue : <input type=text NAME="nom_langue" id="modifier_langue" /><br>		<input type=submit name="validerRechercheModifLangue" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("mLangue").style.display="none";		</script>		Modifier un support		<script language="Javascript">			function mSupport() {				if(document.getElementById("mSupport").style.display == "none")				{					document.getElementById("mSupport").style.display="block";				}				else				{					document.getElementById("mSupport").style.display="none";				}			}		</script><a onclick="mSupport();return false;">Afficher / Cacher</a><br>		<form id="mSupport" action="" method=POST enctype="multipart/form-data">		<script>		$(function() {		$("#modifier_support").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(supports, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Support : <input type=text NAME="nom_support" id="modifier_support" /><br>		<input type=submit name="validerRechercheModifSupport" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("mSupport").style.display="none";		</script>		Modifier un format		<script language="Javascript">			function mFormat() {				if(document.getElementById("mFormat").style.display == "none")				{					document.getElementById("mFormat").style.display="block";				}				else				{					document.getElementById("mFormat").style.display="none";				}			}		</script><a onclick="mFormat();return false;">Afficher / Cacher</a><br>		<form id="mFormat" action="" method=POST enctype="multipart/form-data">		<script>		$(function() {		$("#modifier_format").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(formats, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Format : <input type=text NAME="nom_format" id="modifier_format" /><br>		<input type=submit name="validerRechercheModifFormat" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("mFormat").style.display="none";		</script>		Modifier un developpeur		<script language="Javascript">			function mDev() {				if(document.getElementById("mDev").style.display == "none")				{					document.getElementById("mDev").style.display="block";				}				else				{					document.getElementById("mDev").style.display="none";				}			}		</script><a onclick="mDev();return false;">Afficher / Cacher</a><br>		<form id="mDev" action="" method=POST enctype="multipart/form-data">		<script>		$(function() {		$("#modifier_developpeur").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(developpeurs, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Developpeur : <input type=text NAME="nom_developpeur" id="modifier_developpeur" /><br>		<input type=submit name="validerRechercheModifDeveloppeur" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("mDev").style.display="none";		</script>		Modifier un editeur		<script language="Javascript">			function mEditeur() {				if(document.getElementById("mEditeur").style.display == "none")				{					document.getElementById("mEditeur").style.display="block";				}				else				{					document.getElementById("mEditeur").style.display="none";				}			}		</script><a onclick="mEditeur();return false;">Afficher / Cacher</a><br>		<form id="mEditeur" action="" method=POST enctype="multipart/form-data">		<script>		$(function() {		$("#modifier_editeur").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(editeurs, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Editeur : <input type=text NAME="nom_editeur" id="modifier_editeur" /><br>		<input type=submit name="validerRechercheModifEditeur" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("mEditeur").style.display="none";		</script>		Modifier une edition		<script language="Javascript">			function mEdition() {				if(document.getElementById("mEdition").style.display == "none")				{					document.getElementById("mEdition").style.display="block";				}				else				{					document.getElementById("mEdition").style.display="none";				}			}		</script><a onclick="mEdition();return false;">Afficher / Cacher</a><br>		<form id="mEdition" action="" method=POST enctype="multipart/form-data">		<script>		$(function() {		$("#modifier_edition").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(editions, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Edition : <input type=text NAME="nom_edition" id="modifier_edition" /><br>		<input type=submit name="validerRechercheModifEdition" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("mEdition").style.display="none";		</script>		Modifier un jeu		<script language="Javascript">			function mJeu() {				if(document.getElementById("mJeu").style.display == "none")				{					document.getElementById("mJeu").style.display="block";				}				else				{					document.getElementById("mJeu").style.display="none";				}			}		</script><a onclick="mJeu();return false;">Afficher / Cacher</a><br>		<form id="mJeu" action="" method=POST enctype="multipart/form-data">		<script>		$(function() {		$("#modifier_nom_jeu").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(noms_jeux, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Nom du jeu : <input type=text NAME="nom_jeu" id="modifier_nom_jeu" /><br>		<script>		$(function() {		$("#modifier_plateforme_jeu").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(plateformes, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Plateforme : <input type=text NAME="nom_plateforme_jeu" id="modifier_plateforme_jeu" /><br>		<input type=submit name="validerRechercheModifJeu" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("mJeu").style.display="none";		</script>		Modifier une plateforme		<script language="Javascript">			function mPlateforme() {				if(document.getElementById("mPlateforme").style.display == "none")				{					document.getElementById("mPlateforme").style.display="block";				}				else				{					document.getElementById("mPlateforme").style.display="none";				}			}		</script><a onclick="mPlateforme();return false;">Afficher / Cacher</a><br>		<form id="mPlateforme" action="" method=POST enctype="multipart/form-data">		<script>		$(function() {		$("#modifier_plateforme").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(plateformes, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Plateforme : <input type=text NAME="nom_plateforme" id="modifier_plateforme" /><br>		<input type=submit name="validerRechercheModifPlateforme" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("mPlateforme").style.display="none";		</script>		Modifier une region		<script language="Javascript">			function mRegion() {				if(document.getElementById("mRegion").style.display == "none")				{					document.getElementById("mRegion").style.display="block";				}				else				{					document.getElementById("mRegion").style.display="none";				}			}		</script><a onclick="mRegion();return false;">Afficher / Cacher</a><br>		<form id="mRegion" action="" method=POST enctype="multipart/form-data">		<script>		$(function() {		$("#modifier_region").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(regions, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Region : <input type=text NAME="nom_region" id="modifier_region" /><br>		<input type=submit name="validerRechercheModifRegion" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("mRegion").style.display="none";		</script>		Modifier un	controleur		<script language="Javascript">			function mCommande() {				if(document.getElementById("mCommande").style.display == "none")				{					document.getElementById("mCommande").style.display="block";				}				else				{					document.getElementById("mCommande").style.display="none";				}			}		</script><a onclick="mCommande();return false;">Afficher / Cacher</a><br>		<form id="mCommande" action="" method=POST enctype="multipart/form-data">		<script>		$(function() {		$("#modifier_commande").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(commandes, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Contrôleur : <input type=text NAME="nom_commande" id="modifier_commande" /><br>		<input type=submit name="validerRechercheModifCommande" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("mCommande").style.display="none";		</script>		Modifier un type de jeux		<script language="Javascript">			function mType() {				if(document.getElementById("mType").style.display == "none")				{					document.getElementById("mType").style.display="block";				}				else				{					document.getElementById("mType").style.display="none";				}			}		</script><a onclick="mType();return false;">Afficher / Cacher</a><br>		<form id="mType" action="" method=POST enctype="multipart/form-data">		<script>		$(function() {		$("#modifier_type_jeu").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(types, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Type de jeu : <input type=text NAME="nom_type_jeu" id="modifier_type_jeu" /><br>		<input type=submit name="validerRechercheModifTypeJeu" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("mType").style.display="none";		</script>		Modifier un type d\'accessoire		<script language="Javascript">			function mTypeAcc() {				if(document.getElementById("mTypeAcc").style.display == "none")				{					document.getElementById("mTypeAcc").style.display="block";				}				else				{					document.getElementById("mTypeAcc").style.display="none";				}			}		</script><a onclick="mTypeAcc();return false;">Afficher / Cacher</a><br>		<form id="mTypeAcc" action="" method=POST enctype="multipart/form-data">		<script>		$(function() {		$("#nom_type_accessoire").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(typesAccessoires, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Type d\'accessoire: <input type=text NAME="nom_type_accessoire" id="nom_type_accessoire" /><br>		<input type=submit name="validerRechercheModifTypeAccessoire" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("mTypeAcc").style.display="none";		</script>		Modifier un groupe		<script language="Javascript">			function mGroupe() {				if(document.getElementById("mGroupe").style.display == "none")				{					document.getElementById("mGroupe").style.display="block";				}				else				{					document.getElementById("mGroupe").style.display="none";				}			}		</script><a onclick="mGroupe();return false;">Afficher / Cacher</a><br>		<form id="mGroupe" action="" method=POST enctype="multipart/form-data">		<script>		$(function() {		$("#modifier_groupe").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(groupes, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Groupe : <input type=text NAME="groupe" id="modifier_groupe" /><br>		<input type=submit name="validerRechercheModifGroupe" value="Valider" />		</form>		<script language="Javascript">			document.getElementById("mGroupe").style.display="none";		</script>		</div><div id="clear"></div>';	}	function affiche_informations_manquantes($jeux, $versions)	{		echo"<div class='sousTitre'>Total des infos incomplètes : ";			$taille = sizeof($jeux)+sizeof($versions);			if($taille == 0)			{				echo'<span class="nbGreen">0</span></div><br>';			}			else			{				echo'<span class="nbRed">'.$taille.'</span></div><br>				Nombre de jeux incomplets : ';				if(sizeof($jeux)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					if(sizeof($jeux)>500)					{						echo'<span class="nbRed">Plus de 500 (Les 501 premiers sont affichés)</span>';					}					else					{						echo'<span class="nbRed">'.sizeof($jeux).'</span>';					}					echo'<script language="Javascript">						function ouvertureJeux() {							if(document.getElementById("jeux").style.display == "none")							{								document.getElementById("jeux").style.display="block";							}							else							{								document.getElementById("jeux").style.display="none";							}						}					</script><a onclick="ouvertureJeux();return false;">Afficher / Cacher</a><br>					<div id="jeux"><table border=1><tr><th>Nom du jeu</th><th>Plateforme</th><th>Type</th><th>Groupe</th><th>Developpeur</th><th>Joueurs</th></tr>';					foreach($jeux as $jeu)					{						echo'<tr><th><a href="bddjv.php?action=adm&jeu='.$jeu['id_jeu'].'">'.$jeu['nom_jeu'].'</a></th><th>'.$jeu['nom_plateforme'].'</th><th>'.$jeu['nom_type'].'</th><th>'.$jeu['nom_groupe'].'</th><th>'.$jeu['nom_developpeur'].'</th><th>'.$jeu['nombre_joueurs'].'</th></tr>';					}					echo'</table></div>					<script>						document.getElementById("jeux").style.display="none";					</script>';				}				}				echo'				Nombre de versions incomplètes : ';				if(sizeof($versions)==0)				{					echo'<span class="nbGreen">0</span>';				}				else 				{					if(sizeof($versions)>500)					{						echo'<span class="nbRed">Plus de 500 (Les 501 premiers sont affichés)</span>';					}					else					{						echo'<span class="nbRed">'.sizeof($versions).'</span>';					}					echo'<script language="Javascript">							function ouvertureVersions() {								if(document.getElementById("versions").style.display == "none")								{									document.getElementById("versions").style.display="block";								}								else								{									document.getElementById("versions").style.display="none";								}							}					</script><a onclick="ouvertureVersions();return false;">Afficher / Cacher</a><br>					<div id="versions"><table border=1><tr><th>Id Jeu</th><th>Region</th><th>Edition</th><th>Reference</th><th>Editeur</th><th>Photo Boite</th><th>Photo Loose</th><th>Photo Notice</th><th>Support</th><th>Format</th><th>Code Barre</th></tr>';					foreach($versions as $version)					{						echo'<tr><th><a href="bddjv.php?action=adm&jeu='.$version['id_jeu'].'">'.$version['id_jeu'].'</a></th><th>'.$version['nom_region'].'</th><th>'.$version['nom_edition'].'</th><th>'.$version['reference_jeu'].'</th><th>'.$version['nom_editeur'].'</th><th><img src="'.$version['photo_boite'].'" height=50 width=50></th><th><img src="'.$version['photo_dos_boite'].'" height=50 width=50></th><th><img src="'.$version['photo_loose'].'" height=50 width=50></th><th><img src="'.$version['photo_notice'].'" height=50 width=50></th><th>'.$version['nom_support'].'</th><th>'.$version['nom_format'].'</th><th>'.$version['code_barre_jeu'].'</th></tr>';					}					echo'</table></div>					<script>						document.getElementById("versions").style.display="none";					</script>';					}				}		function affiche_informations_diparues($infosJeux, $infosVersions)	{			echo"<div class='sousTitre'>Total des infos disparues : ";			$taille = sizeof($infosJeux['nom_jeu'])+					sizeof($infosJeux['groupe'])+					sizeof($infosJeux['type_jeu'])+					sizeof($infosJeux['developpeur'])+					sizeof($infosJeux['plateforme'])+					sizeof($infosJeux['version_jeu'])+					sizeof($infosJeux['region'])+					sizeof($infosJeux['edition'])+					sizeof($infosJeux['editeur'])+					sizeof($infosJeux['support'])+					sizeof($infosJeux['format'])+					sizeof($infosJeux['langue_jeu'])+					sizeof($infosJeux['langues']);			if($taille == 0)			{				echo'<span class="nbGreen">0</span></div><br>';			}			else			{				echo'<span class="nbRed">'.$taille.'</span></div><br>				Nombre de noms manquants : ';				if(sizeof($infosJeux['nom_jeu'])==0)				{					echo'<span class="nbGreen">0</span><br>';				}				else				{					echo'<span class="nbRed">'.sizeof($infosJeux['nom_jeu']).'</span>					<script language="Javascript">							function ouvertureIdNomsManquants() {								if(document.getElementById("idNomsManquants").style.display == "none")								{									document.getElementById("idNomsManquants").style.display="block";								}								else								{									document.getElementById("idNomsManquants").style.display="none";								}							}					</script><a onclick="ouvertureIdNomsManquants();return false;">Afficher / Cacher</a><br>					<div id="idNomsManquants">';					foreach($infosJeux['nom_jeu'] as $id=>$jeu)					{						echo'id='.$id.'; ';					}					echo'</div>					<script>						document.getElementById("idNomsManquants").style.display="none";					</script>';				}				echo'Nombre de groupes manquants : ';				if(sizeof($infosJeux['groupe'])==0)				{					echo'<span class="nbGreen">0</span><br>';				}				else				{					echo'<span class="nbRed">'.sizeof($infosJeux['groupe']).'</span>					<script language="Javascript">							function ouvertureIdGroupesManquants() {								if(document.getElementById("idGroupesManquants").style.display == "none")								{									document.getElementById("idGroupesManquants").style.display="block";								}								else								{									document.getElementById("idGroupesManquants").style.display="none";								}							}					</script><a onclick="ouvertureIdGroupesManquants();return false;">Afficher / Cacher</a><br>					<div id="idGroupesManquants">';					foreach($infosJeux['groupe'] as $id=>$jeu)					{						echo'id='.$id.'; ';					}					echo'</div>					<script>						document.getElementById("idGroupesManquants").style.display="none";					</script>';				}				echo'Nombre de types manquants : ';				if(sizeof($infosJeux['type_jeu'])==0)				{					echo'<span class="nbGreen">0</span><br>';				}				else				{					echo'<span class="nbRed">'.sizeof($infosJeux['type_jeu']).'</span>					<script language="Javascript">							function ouvertureIdTypesManquants() {								if(document.getElementById("idTypesManquants").style.display == "none")								{									document.getElementById("idTypesManquants").style.display="block";								}								else								{									document.getElementById("idTypesManquants").style.display="none";								}							}					</script><a onclick="ouvertureIdTypesManquants();return false;">Afficher / Cacher</a><br>					<div id="idTypesManquants">';					foreach($infosJeux['type_jeu'] as $id=>$jeu)					{						echo'id='.$id.'; ';					}					echo'</div>					<script>						document.getElementById("idTypesManquants").style.display="none";					</script>';				}				echo'Nombre de developpeurs manquants : ';				if(sizeof($infosJeux['developpeur'])==0)				{					echo'<span class="nbGreen">0</span><br>';				}				else				{					echo'<span class="nbRed">'.sizeof($infosJeux['developpeur']).'</span>					<script language="Javascript">							function ouvertureIdDeveloppeursManquants() {								if(document.getElementById("idDeveloppeursManquants").style.display == "none")								{									document.getElementById("idDeveloppeursManquants").style.display="block";								}								else								{									document.getElementById("idDeveloppeursManquants").style.display="none";								}							}					</script><a onclick="ouvertureIdDeveloppeursManquants();return false;">Afficher / Cacher</a><br>					<div id="idDeveloppeursManquants">';					foreach($infosJeux['developpeur'] as $id=>$jeu)					{						echo'id='.$id.'; ';					}					echo'</div>					<script>						document.getElementById("idDeveloppeursManquants").style.display="none";					</script>';				}				echo'Nombre de plateformes manquantes : ';				if(sizeof($infosJeux['plateforme'])==0)				{					echo'<span class="nbGreen">0</span><br>';				}				else				{					echo'<span class="nbRed">'.sizeof($infosJeux['plateforme']).'</span>					<script language="Javascript">							function ouvertureIdPlateformesManquantes() {								if(document.getElementById("idPlateformesManquantes").style.display == "none")								{									document.getElementById("idPlateformesManquantes").style.display="block";								}								else								{									document.getElementById("idPlateformesManquantes").style.display="none";								}							}					</script><a onclick="ouvertureIdPlateformesManquantes();return false;">Afficher / Cacher</a><br>					<div id="idPlateformesManquantes">';					foreach($infosJeux['plateforme'] as $id=>$jeu)					{						echo'id='.$id.'; ';					}					echo'</div>					<script>						document.getElementById("idPlateformesManquantes").style.display="none";					</script>';				}				echo'Nombre de versions manquantes : ';				if(sizeof($infosJeux['version_jeu'])==0)				{					echo'<span class="nbGreen">0</span><br>';				}				else				{					echo'<span class="nbRed">'.sizeof($infosJeux['version_jeu']).'</span>					<script language="Javascript">							function ouvertureIdVersionsManquantes() {								if(document.getElementById("idVersionsManquantes").style.display == "none")								{									document.getElementById("idVersionsManquantes").style.display="block";								}								else								{									document.getElementById("idVersionsManquantes").style.display="none";								}							}					</script><a onclick="ouvertureIdVersionsManquantes();return false;">Afficher / Cacher</a><br>					<div id="idVersionsManquantes">';					foreach($infosJeux['version_jeu'] as $id => $jeu)					{						echo($id==''?'Aucune Version':'id='.$id).'<a href="bddjv.php?action=view&id='.$jeu.'" >.(Jeu:'.$jeu.'); </a>';					}					echo'</div>					<script>						document.getElementById("idVersionsManquantes").style.display="none";					</script>';				}				echo'Nombre de regions manquantes : ';				if(sizeof($infosJeux['region'])==0)				{					echo'<span class="nbGreen">0</span><br>';				}				else				{					echo'<span class="nbRed">'.sizeof($infosJeux['region']).'</span>					<script language="Javascript">							function ouvertureIdRegionsManquantes() {								if(document.getElementById("idRegionsManquantes").style.display == "none")								{									document.getElementById("idRegionsManquantes").style.display="block";								}								else								{									document.getElementById("idRegionsManquantes").style.display="none";								}							}					</script><a onclick="ouvertureIdRegionsManquantes();return false;">Afficher / Cacher</a><br>					<div id="idRegionsManquantes">';					foreach($infosJeux['region'] as $id=>$version)					{						echo'id='.$id.'; ';					}					echo'</div>					<script>						document.getElementById("idRegionsManquantes").style.display="none";					</script>';				}				echo'Nombre d\'éditions manquantes : ';				if(sizeof($infosJeux['edition'])==0)				{					echo'<span class="nbGreen">0</span><br>';				}				else				{					echo'<span class="nbRed">'.sizeof($infosJeux['edition']).'</span>					<script language="Javascript">							function ouvertureIdEditionsManquantes() {								if(document.getElementById("idEditionsManquantes").style.display == "none")								{									document.getElementById("idEditionsManquantes").style.display="block";								}								else								{									document.getElementById("idEditionsManquantes").style.display="none";								}							}					</script><a onclick="ouvertureIdEditionsManquantes();return false;">Afficher / Cacher</a><br>					<div id="idEditionsManquantes">';					foreach($infosJeux['edition'] as $id=>$version)					{						echo'id='.$id.'; ';					}					echo'</div>					<script>						document.getElementById("idEditionsManquantes").style.display="none";					</script>';				}				echo'Nombre d\'éditeurs manquants : ';				if(sizeof($infosJeux['editeur'])==0)				{					echo'<span class="nbGreen">0</span><br>';				}				else				{					echo'<span class="nbRed">'.sizeof($infosJeux['editeur']).'</span>					<script language="Javascript">							function ouvertureIdEditeursManquants() {								if(document.getElementById("idEditeursManquants").style.display == "none")								{									document.getElementById("idEditeursManquants").style.display="block";								}								else								{									document.getElementById("idEditeursManquants").style.display="none";								}							}					</script><a onclick="ouvertureIdEditeursManquants();return false;">Afficher / Cacher</a><br>					<div id="idEditeursManquants">';					foreach($infosJeux['editeur'] as $id=>$version)					{						echo'id='.$id.'; ';					}					echo'</div>					<script>						document.getElementById("idEditeursManquants").style.display="none";					</script>';				}				echo'Nombre de supports manquants : ';				if(sizeof($infosJeux['support'])==0)				{					echo'<span class="nbGreen">0</span><br>';				}				else				{					echo'<span class="nbRed">'.sizeof($infosJeux['support']).'</span>					<script language="Javascript">							function ouvertureIdSupportsManquants() {								if(document.getElementById("idSupportsManquants").style.display == "none")								{									document.getElementById("idSupportsManquants").style.display="block";								}								else								{									document.getElementById("idSupportsManquants").style.display="none";								}							}					</script><a onclick="ouvertureIdSupportsManquants();return false;">Afficher / Cacher</a><br>					<div id="idSupportsManquants">';					foreach($infosJeux['support'] as $id=>$version)					{						echo'id='.$id.'; ';					}					echo'</div>					<script>						document.getElementById("idSupportsManquants").style.display="none";					</script>';				}				echo'Nombre de formats manquants : ';				if(sizeof($infosJeux['format'])==0)				{					echo'<span class="nbGreen">0</span><br>';				}				else				{					echo'<span class="nbRed">'.sizeof($infosJeux['format']).'</span>					<script language="Javascript">							function ouvertureIdFormatsManquants() {								if(document.getElementById("idFormatsManquants").style.display == "none")								{									document.getElementById("idFormatsManquants").style.display="block";								}								else								{									document.getElementById("idFormatsManquants").style.display="none";								}							}					</script><a onclick="ouvertureIdFormatsManquants();return false;">Afficher / Cacher</a><br>					<div id="idFormatsManquants">';					foreach($infosJeux['format'] as $id=>$version)					{						echo'id='.$id.'; ';					}					echo'</div>					<script>						document.getElementById("idFormatsManquants").style.display="none";					</script>';				}				echo'Nombre de jeux sans langues associées : ';				if(sizeof($infosJeux['langue_jeu'])==0)				{					echo'<span class="nbGreen">0</span><br>';				}				else				{					echo'<span class="nbRed">'.sizeof($infosJeux['langue_jeu']).'</span>					<script language="Javascript">							function ouvertureIdLangueJeuxManquantes() {								if(document.getElementById("idLangueJeuxManquantes").style.display == "none")								{									document.getElementById("idLangueJeuxManquantes").style.display="block";								}								else								{									document.getElementById("idLangueJeuxManquantes").style.display="none";								}							}					</script><a onclick="ouvertureIdLangueJeuxManquantes();return false;">Afficher / Cacher</a><br>					<div id="idLangueJeuxManquantes">';					foreach($infosJeux['langue_jeu'] as $id=>$jeu)					{						echo($id==''?'Aucune Langue':'id='.$id).'<a href="bddjv.php?action=view&id='.$jeu.'" >.(Jeu:'.$jeu.'); </a>';					}					echo'</div>					<script>						document.getElementById("idLangueJeuxManquantes").style.display="none";					</script>';				}				echo'Nombre de langues manquantes : ';				if(sizeof($infosJeux['langues'])==0)				{					echo'<span class="nbGreen">0</span><br>';				}				else				{					echo'<span class="nbRed">'.sizeof($infosJeux['langues']).'</span>					<script language="Javascript">							function ouvertureIdLanguesManquants() {								if(document.getElementById("idLanguesManquants").style.display == "none")								{									document.getElementById("idLanguesManquants").style.display="block";								}								else								{									document.getElementById("idLanguesManquants").style.display="none";								}							}					</script><a onclick="ouvertureIdLanguesManquants();return false;">Afficher / Cacher</a><br>					<div id="idLanguesManquants">';					foreach($infosJeux['langues'] as $id=>$version)					{						echo'id='.$id.'; ';					}					echo'</div>					<script>						document.getElementById("idLanguesManquants").style.display="none";					</script>';				}			}				}		function affiche_informations_erronnees($rapports)	{		echo"<div class='sousTitre'>Total des infos eronnées : ";			$taille = sizeof($rapports);			if($taille == 0)			{				echo'<span class="nbGreen">0</span></div><br>';			}			else			{				echo'<span class="nbRed">'.$taille.'</span></div><br>';				$i=1;				foreach($rapports as $rapport)				{					echo'Rapport '.$i.' : 					<script language="Javascript">							function ouvertureRapport'.$i.'() {								if(document.getElementById("rapport-'.$i.'").style.display == "none")								{									document.getElementById("rapport-'.$i.'").style.display="block";								}								else								{									document.getElementById("rapport-'.$i.'").style.display="none";								}							}					</script><a onclick="ouvertureRapport'.$i.'();return false;">Afficher / Cacher</a><br>					<div id="rapport-'.$i.'"><br><a href="bddjv.php?action=adm&jeu='.$rapport->getAttr('id_jeu').'">'.$rapport->getAttr('rapport_jeu').'</a><br>					<a href="bddjv.php?action=adm&supprRapport='.$rapport->getAttr('id_rapport').'">Supprimer le rapport</a></div>					<script>						document.getElementById("rapport-'.$i.'").style.display="none";					</script>';					$i++;				}			}				}		function affiche_modifier_jeu($jeu, $versions, $noms_jeux, $developpeurs, $editeurs, $editions, $nomsJeux, $plateformes, $regions, $typesJeux, $groupes, $commandes, $langues, $supports, $formats, $accessoires)	{		echo'<span class="GrosTitre">Modifier un Jeu</span><br>		<form id ="jeu" action="bddjv.php?action=view&id='.$jeu['id_jeu'].'" method=POST enctype="multipart/form-data"><br>		<script>		$(function() {			var noms_jeux = [""';			foreach($noms_jeux as $nom_jeu)			{				echo',"'.$nom_jeu->getAttr('nom_jeu').'"';			}			echo'];		$("#nom_jeu").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(noms_jeux, request.term);								response(results.slice(0, 10));			}		});		});		</script>		<input type=hidden name="id_jeu" value="'.$jeu['id_jeu'].'" id="id_jeu" /><br>		<table class="formulaire">		<tr><td>Nom du jeu : </td><td><input type=text name="nom_jeu" value="'.$jeu['nom_jeu'].'" id="nom_jeu" /></td></tr>		<script>		$(function() {			var plateformes = [""';			foreach($plateformes as $plateforme)			{				echo',"'.$plateforme->getAttr('nom_plateforme').'"';			}			echo'];		$("#plateforme").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(plateformes, request.term);								response(results.slice(0, 10));			}		});		});		</script>		<tr><td>Plateforme : </td><td><input id="plateforme" value="'.$jeu['nom_plateforme'].'" name="plateforme" size=16 /></td></tr>		<script>		$(function() {			var typesJeux = [""';			foreach($typesJeux as $type_jeu)			{				echo',"'.$type_jeu->getAttr('nom_type_jeu').'"';			}			echo'];		$("#type_jeu").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(typesJeux, request.term);								response(results.slice(0, 10));			}		});		});		</script>		<tr><td>Type du jeu : </td><td><input id="type_jeu" value="'.$jeu['nom_type'].'" name="type_jeu" size=16 /> (Exemple : Course)</td></tr>		<script>		$(function() {			var groupeParents = [""';			foreach($groupes as $groupe_parent)			{				echo',"'.$groupe_parent->getAttr('nom_groupe').'"';			}			echo'];		$("#groupe_parent").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(groupeParents, request.term);								response(results.slice(0, 10));			}		});		});		</script>		<tr><td>Groupe Parent : </td><td><input id="groupe_parent" value="'.$jeu['nom_groupe'].'" name="groupe_parent" size=16 /> (Exemple : Mario)</td></tr>		<script>		$(function() {			var developpeurs = [""';			foreach($developpeurs as $developpeur)			{				echo',"'.$developpeur->getAttr('nom_developpeur').'"';			}			echo'];		$("#developpeur").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(developpeurs, request.term);								response(results.slice(0, 10));			}		});		});		</script>		<tr><td>Developpeur : </td><td><input id="developpeur" value="'.$jeu['nom_developpeur'].'" name="developpeur" size=16 /></td></tr>		<tr><td>Nombre de joueurs : </td><td><input type=text value="'.$jeu['nombre_joueurs'].'" NAME="nombre_joueurs" /></td></tr>		<tr><td>Remarque : </td><td><input type=text value="'.$jeu['remarque_jeu'].'" NAME="remarque_jeu" /></td></tr></table> <input type=hidden NAME="barriere_langue" value=0 />		<br><br>';		$i=0;		foreach($versions as $version)		{			$i++;			echo'<div id="div_version-'.$i.'"><input type=hidden value="'.$version['id_version'].'" name="id_version-'.$i.'" id="id_version-'.$i.'" />			<table class="formulaire">			<tr><td>Region : </td><td><input type=text value="'.$version['nom_region'].'"  name="nom_region-'.$i.'" id="nom_region-'.$i.'" /> (Exemple : Europe)</td></tr>			<tr><td>Edition : </td><td><input type=text value="'.$version['nom_edition'].'"  name="nom_edition-'.$i.'" id="nom_edition-'.$i.'" /></td></tr>			<tr><td>Nom du jeu dans cette version : </td><td><input type=text value="'.$version['autre_nom_jeu'].'"  name="nom_jeu-'.$i.'" id="nom_jeu-'.$i.'" />(Si différent du nom original)</td></tr>			<tr><td>Photo Boite : </td><td><input type=file name="photo_boite-'.$i.'" id="photo_boite-'.$i.'" /></td></tr>			<tr><td>Photo de l\'arrière de la boite : </td><td><input type=file name="photo_dos_boite-'.$i.'" id="photo_dos_boite-'.$i.'" /></td></tr>			<tr><td>Photo Loose : </td><td><input type=file name="photo_loose-'.$i.'" id="photo_loose-'.$i.'" /></td></tr>			<tr><td>Photo Notice : </td><td><input type=file name="photo_notice-'.$i.'" id="photo_notice-'.$i.'" /></td></tr>			<tr><td>Reference : </td><td><input type=text value="'.$version['reference_jeu'].'"  name="reference_jeu-'.$i.'" id="reference_jeu-'.$i.'" /></td></tr>			<tr><td>Code barre : </td><td><input type=text value="'.$version['code_barre_jeu'].'"  name="code_barre_jeu-'.$i.'" id="code_barre_jeu-'.$i.'" /></td></tr>			<input type=hidden value="'.$version['jeu_rare'].'"  name="jeu_rare-'.$i.'"  id="jeu_rare-'.$i.'" />			<script>					 $(function() {						$( "#date_sortie_jeu-'.$i.'" ).datepicker({							yearRange: "1970:'.date('Y').'",						changeMonth: true,						changeYear: true,						dateFormat: "yy-mm-dd",						maxDate: "0"						});					});			</script>			<tr><td>Date de sortie : </td><td><input type=datetime value="'.$version['date_sortie_jeu'].'"  name="date_sortie_jeu-'.$i.'" id="date_sortie_jeu-'.$i.'" /></td></tr>			<tr><td>Editeur : </td><td><input type=text value="'.$version['nom_editeur'].'"  id="nom_editeur-'.$i.'" name="nom_editeur-'.$i.'" size=16 /></td></tr>			<tr><td>Format : </td><td><input type=text value="'.$version['nom_format'].'"  id="nom_format-'.$i.'" name="nom_format-'.$i.'" size=16 /> (Exemple : PAL)</td></tr>			<tr><td>Support : </td><td><input type=text value="'.$version['nom_support'].'"  id="nom_support-'.$i.'" name="nom_support-'.$i.'" size=16 /> (Exemple : DVD)</td></tr>			<tr><td>Langue : </td><td>';			$j=0;			foreach($version['langues'] as $lan)			{				$j++;				echo'<input type=text value='.$lan["nom_langue"].' id="langue-'.$i.'-'.$j.'" name="langue-'.$i.'-'.$j.'" size=16 />				<script>				var langues = [""';					foreach($langues as $langue)					{						echo',"'.$langue->getAttr('nom_langue').'"';					}					echo'];				$("#langue-'.$i.'-'.$j.'").autocomplete({ 					source: function(request, response) {						var results = $.ui.autocomplete.filter(langues, request.term);												response(results.slice(0, 10));					}				});			</script>';			}			if($j==0)			{				$j++;				echo'<input type=text id="langue-'.$i.'-'.$j.'" name="langue-'.$i.'-'.$j.'" size=16 />				<script>				var langues = [""';					foreach($langues as $langue)					{						echo',"'.$langue->getAttr('nom_langue').'"';					}					echo'];				$("#langue-'.$i.'-'.$j.'").autocomplete({ 					source: function(request, response) {						var results = $.ui.autocomplete.filter(langues, request.term);												response(results.slice(0, 10));					}				});				</script>';			}			echo'			<a id="btnMoreLangues-'.$i.'"> + </a></td></tr>			<tr><td>Accessoire(s) inclus : </td><td>';			$j=0;			foreach($version['accessoires'] as $acc)			{				$j++;				echo'<input type=text value="'.$acc["nom_accessoire"].' ('.$acc['nom_plateforme'].')'.'" id="accessoire-'.$i.'-'.$j.'" name="accessoire-'.$i.'-'.$j.'" size=16 />				<script>				var accessoires = [""';					foreach($accessoires as $accessoire)					{						echo',"'.$accessoire.'"';					}					echo'];				$("#accessoire-'.$i.'-'.$j.'").autocomplete({ 					source: function(request, response) {						var results = $.ui.autocomplete.filter(accessoires, request.term);												response(results.slice(0, 10));					}				});			</script>';			}			if($j==0)			{				$j++;				echo'<input type=text id="accessoire-'.$i.'-'.$j.'" name="accessoire-'.$i.'-'.$j.'" size=16 />				<script>				var accessoires = [""';					foreach($accessoires as $accessoire)					{						echo',"'.$accessoire.'"';					}					echo'];				$("#accessoire-'.$i.'-'.$j.'").autocomplete({ 					source: function(request, response) {						var results = $.ui.autocomplete.filter(accessoires, request.term);												response(results.slice(0, 10));					}				});				</script>';			}			echo'			<a id="btnMoreAccessoires-'.$i.'"> + </a></td></tr>			<tr><td>Remarque : </td><td><input type=text NAME="remarque_version_jeu-'.$i.'" id="remarque_version_jeu-'.$i.'" value="'.$version["remarque_version_jeu"].'" /> (Exemple : Version sortie pour l\'année de Mario) </td></tr>	</table></table><br>			</div>						<script>			$(function() {				var regions = [""';				foreach($regions as $region)				{					echo',"'.$region->getAttr('nom_region').'"';				}				echo'];			$("#nom_region-'.$i.'").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(regions, request.term);										response(results.slice(0, 10));				}			});				var editions = [""';				foreach($editions as $edition)				{					echo',"'.$edition->getAttr('nom_edition').'"';				}				echo'];			$("#nom_edition-'.$i.'").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(editions, request.term);										response(results.slice(0, 10));				}			});				var noms_jeux = [""';				foreach($noms_jeux as $nom_jeu)				{					echo',"'.$nom_jeu->getAttr('nom_jeu').'"';				}				echo'];			$("#nom_jeu-'.$i.'").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(noms_jeux, request.term);										response(results.slice(0, 10));				}			});				var editeurs = [""';				foreach($editeurs as $editeur)				{					echo',"'.$editeur->getAttr('nom_editeur').'"';				}				echo'];			$("#nom_editeur-'.$i.'").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(editeurs, request.term);										response(results.slice(0, 10));				}			});				var formats = [""';				foreach($formats as $format)				{					echo',"'.$format->getAttr('nom_format').'"';				}				echo'];			$("#nom_format-'.$i.'").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(formats, request.term);										response(results.slice(0, 10));				}			});				var supports = [""';				foreach($supports as $support)				{					echo',"'.$support->getAttr('nom_support').'"';				}				echo'];			$("#nom_support-'.$i.'").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(supports, request.term);										response(results.slice(0, 10));				}			});					$("#btnMoreLangues-'.$i.'").click(function() 					{						var form, divs, newDiv, inputs, newInput;						form = $("#jeu");						inputs = form.find("input[id^=\'langue-'.$i.'-\']");						newInput = $(inputs[0]).clone();						newInput.insertBefore($("#btnMoreLangues-'.$i.'"));						newInput.attr("id", "langue-'.$i.'-" + (inputs.length+1));						newInput.attr("name", "langue-'.$i.'-" + (inputs.length+1));						newInput.attr("value", "");						var langues = [""';						foreach($langues as $langue)						{							echo',"'.$langue->getAttr('nom_langue').'"';						}						echo'];						$("#langue-'.$i.'-" + (inputs.length+1)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(langues, request.term);																response(results.slice(0, 10));							}						});					});					$("#btnMoreAccessoires-'.$i.'").click(function() 					{						var form, divs, newDiv, inputs, newInput;						form = $("#jeu");						inputs = form.find("input[id^=\'accessoire-'.$i.'-\']");						newInput = $(inputs[0]).clone();						newInput.insertBefore($("#btnMoreAccessoires-'.$i.'"));						newInput.attr("id", "accessoire-'.$i.'-" + (inputs.length+1));						newInput.attr("name", "accessoire-'.$i.'-" + (inputs.length+1));						newInput.attr("value", "");						var accessoires = [""';						foreach($accessoires as $accessoire)						{							echo',"'.$accessoire.'"';						}						echo'];						$("#accessoire-'.$i.'-" + (inputs.length+1)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(accessoires, request.term);																response(results.slice(0, 10));							}						});					});				});			</script>';		}		echo'			<a id="btnMore"> Ajouter une version </a><br>			<script>				$(function() {					$("#btnMore").click(function() 					{						var form, divs, newDiv, inputs, newInput, nb, btns, btn;						nb=1;						form = $("#jeu");						divs = form.find("div[id^=\'div_version-\']");						newDiv = $(divs[0]).clone();						newDiv.attr("id", "div_version-" + (divs.length+1));						newDiv.insertBefore($("#btnMore"));						inputs = newDiv.find("input[id^=\'langue-"+(divs.length)+"-\']");						btns = form.find("a[id^=\'btnMoreLangues-\']");						btn = btns.last();						btn.attr("id", "btnMoreLangues-"+(divs.length + 1));						inputs.each(function() {							$(this).attr("id", "langue-"+(divs.length + 1)+"-" + (nb));							$(this).attr("name", "langue-"+(divs.length + 1)+"-" + (nb));							$(this).attr("value", "");							var langues = [""';							foreach($langues as $langue)							{								echo',"'.$langue->getAttr('nom_langue').'"';							}							echo'];							$("#langue-"+(divs.length + 1)+"-" + (nb)).autocomplete({ 								source: function(request, response) {									var results = $.ui.autocomplete.filter(langues, request.term);																		response(results.slice(0, 10));								}							});							nb++;						});						$("#btnMoreLangues-"+(divs.length + 1)).click(function() 						{							inputs = form.find("input[id^=\'langue-"+(divs.length + 1)+"-\']");							newInput = $(inputs.last()).clone();							newInput.insertBefore($("#btnMoreLangues-"+(divs.length + 1)));							newInput.attr("id", "langue-"+(divs.length + 1)+"-" + (inputs.length+1));							newInput.attr("name", "langue-"+(divs.length + 1)+"-" + (inputs.length+1));							newInput.attr("value", "");							var langues = [""';							foreach($langues as $langue)							{								echo',"'.$langue->getAttr('nom_langue').'"';							}							echo'];							$("#langue-"+(divs.length + 1)+"-" + (inputs.length+1)).autocomplete({ 								source: function(request, response) {									var results = $.ui.autocomplete.filter(langues, request.term);																		response(results.slice(0, 10));								}							});						});						inputs = newDiv.find("input[id^=\'accessoire-"+(divs.length)+"-\']");						btns = form.find("a[id^=\'btnMoreAccessoires-\']");						btn = btns.last();						btn.attr("id", "btnMoreAccessoires-"+(divs.length + 1));						inputs.each(function() {							$(this).attr("id", "accessoire-"+(divs.length + 1)+"-" + (nb));							$(this).attr("name", "accessoire-"+(divs.length + 1)+"-" + (nb));							$(this).attr("value", "");							var accessoires = [""';							foreach($accessoires as $accessoire)							{								echo',"'.$accessoire.'"';							}							echo'];							$("#accessoire-"+(divs.length + 1)+"-" + (nb)).autocomplete({ 								source: function(request, response) {									var results = $.ui.autocomplete.filter(accessoires, request.term);																		response(results.slice(0, 10));								}							});							nb++;						});						$("#btnMoreAccessoires-"+(divs.length + 1)).click(function() 						{							inputs = form.find("input[id^=\'accessoire-"+(divs.length + 1)+"-\']");							newInput = $(inputs.last()).clone();							newInput.insertBefore($("#btnMoreAccessoires-"+(divs.length + 1)));							newInput.attr("id", "accessoire-"+(divs.length + 1)+"-" + (inputs.length+1));							newInput.attr("name", "accessoire-"+(divs.length + 1)+"-" + (inputs.length+1));							newInput.attr("value", "");							var accessoires = [""';							foreach($accessoires as $accessoire)							{								echo',"'.$accessoire.'"';							}							echo'];							$("#accessoire-"+(divs.length + 1)+"-" + (inputs.length+1)).autocomplete({ 								source: function(request, response) {									var results = $.ui.autocomplete.filter(accessoires, request.term);																		response(results.slice(0, 10));								}							});						});						inputs = form.find("input[id^=\'nom_jeu-\']");						newInput = $(inputs.last());						newInput.attr("id", "nom_jeu-" + (divs.length+1));						newInput.attr("name", "nom_jeu-" + (divs.length+1));						newInput.attr("value", "");									var noms_jeux = [""';							foreach($noms_jeux as $nom_jeu)							{								echo',"'.$nom_jeu->getAttr('nom_jeu').'"';							}							echo'];						$("#nom_jeu-" + (divs.length+1)						).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(noms_jeux, request.term);																response(results.slice(0, 10));							}						});						inputs = form.find("input[id^=\'nom_region-\']");						newInput = $(inputs.last());						newInput.attr("id", "nom_region-" + (divs.length+1));						newInput.attr("name", "nom_region-" + (divs.length+1));						newInput.attr("value", "");						var regions = [""';							foreach($regions as $region)							{								echo',"'.$region->getAttr('nom_region').'"';							}							echo'];						$("#nom_region-" + (divs.length+1)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(regions, request.term);																response(results.slice(0, 10));							}						});						inputs = form.find("input[id^=\'nom_edition-\']");						newInput = $(inputs.last());						newInput.attr("id", "nom_edition-" + (divs.length+1));						newInput.attr("name", "nom_edition-" + (divs.length+1));						newInput.attr("value", "");						var editions = [""';							foreach($editions as $edition)							{								echo',"'.$edition->getAttr('nom_edition').'"';							}							echo'];						$("#nom_edition-" + (divs.length+1)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(editions, request.term);																response(results.slice(0, 10));							}						});						inputs = form.find("input[id^=\'nom_editeur-\']");						newInput = $(inputs.last());						newInput.attr("id", "nom_editeur-" + (divs.length+1));						newInput.attr("name", "nom_editeur-" + (divs.length+1));						newInput.attr("value", "");						var editeurs = [""';							foreach($editeurs as $editeur)							{								echo',"'.$editeur->getAttr('nom_editeur').'"';							}							echo'];						$("#nom_editeur-" + (divs.length+1)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(editeurs, request.term);																response(results.slice(0, 10));							}						});						inputs = form.find("input[id^=\'nom_format-\']");						newInput = $(inputs.last());						newInput.attr("id", "nom_format-" + (divs.length+1));						newInput.attr("name", "nom_format-" + (divs.length+1));						newInput.attr("value", "");						var formats = [""';							foreach($formats as $format)							{								echo',"'.$format->getAttr('nom_format').'"';							}							echo'];						$("#nom_format-" + (divs.length+1)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(formats, request.term);																response(results.slice(0, 10));							}						});						inputs = form.find("input[id^=\'nom_support-\']");						newInput = $(inputs.last());						newInput.attr("id", "nom_support-" + (divs.length+1));						newInput.attr("name", "nom_support-" + (divs.length+1));						newInput.attr("value", "");						var supports = [""';							foreach($supports as $support)							{								echo',"'.$support->getAttr('nom_support').'"';							}							echo'];						$("#nom_support-" + (divs.length+1)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(supports, request.term);																response(results.slice(0, 10));							}						});						inputs = form.find("input[id^=\'reference_jeu-\']");						newInput = $(inputs.last());						newInput.attr("id", "reference_jeu-" + (divs.length+1));						newInput.attr("name", "reference_jeu-" + (divs.length+1));						newInput.attr("value", "");						inputs = form.find("input[id^=\'photo_loose-\']");						newInput = $(inputs.last());						newInput.attr("id", "photo_loose-" + (divs.length+1));						newInput.attr("name", "photo_loose-" + (divs.length+1));						newInput.attr("value", "");						inputs = form.find("input[id^=\'photo_boite-\']");						newInput = $(inputs.last());						newInput.attr("id", "photo_boite-" + (divs.length+1));						newInput.attr("name", "photo_boite-" + (divs.length+1));						newInput.attr("value", "");						inputs = form.find("input[id^=\'photo_dos_boite-\']");						newInput = $(inputs.last());						newInput.attr("id", "photo_dos_boite-" + (divs.length+1));						newInput.attr("name", "photo_dos_boite-" + (divs.length+1));						newInput.attr("value", "");						inputs = form.find("input[id^=\'photo_notice-\']");						newInput = $(inputs.last());						newInput.attr("id", "photo_notice-" + (divs.length+1));						newInput.attr("name", "photo_notice-" + (divs.length+1));						newInput.attr("value", "");						inputs = form.find("input[id^=\'code_barre_jeu-\']");						newInput = $(inputs.last());						newInput.attr("id", "code_barre_jeu-" + (divs.length+1));						newInput.attr("name", "code_barre_jeu-" + (divs.length+1));						newInput.attr("value", "");						inputs = form.find("input[id^=\'jeu_rare-\']");						newInput = $(inputs.last());						newInput.attr("id", "jeu_rare-" + (divs.length+1));						newInput.attr("name", "jeu_rare-" + (divs.length+1));						newInput.attr("value", "");						inputs = form.find("input[id^=\'date_sortie_jeu-\']");						newInput = $(inputs.last());						newInput.attr("id", "date_sortie_jeu-" + (divs.length+1));						newInput.attr("name", "date_sortie_jeu-" + (divs.length+1));						newInput.attr("value", "");						newInput.datepicker({							yearRange: "1970:'.date('Y').'",							changeMonth: true,							changeYear: true,							dateFormat: "yy-mm-dd",							maxDate: "0"						});						inputs = form.find("input[id^=\'remarque_version_jeu-\']");						newInput = $(inputs.last());						newInput.attr("id", "remarque_version_jeu-" + (divs.length+1));						newInput.attr("name", "remarque_version_jeu-" + (divs.length+1));						newInput.attr("value", "");											});				});			</script>		<table class="formulaire">		<tr><td>Existe aussi sur : </td><td>';		$i=0;		foreach($jeu['autres_plateformes'] as $pla)		{			$i++;			echo'<script>			$(function() {				var plateformes = [""';				foreach($plateformes as $plateforme)				{					echo',"'.$plateforme->getAttr('nom_plateforme').'"';				}				echo'];			$("#autre_plateforme-'.$i.'").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(plateformes, request.term);										response(results.slice(0, 10));				}			});			});			</script>			<input value="'.$pla['nom_plateforme'].'" id="autre_plateforme-'.$i.'" name="autre_plateforme-'.$i.'" size=16 /> ';		}		if($i==0)		{					$i++;			echo'<script>			$(function() {				var plateformes = [""';				foreach($plateformes as $plateforme)				{					echo',"'.$plateforme->getAttr('nom_plateforme').'"';				}				echo'];			$("#autre_plateforme-'.$i.'").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(plateformes, request.term);										response(results.slice(0, 10));				}			});			});			</script>			<input value="'.$pla['nom_plateforme'].'" id="autre_plateforme-'.$i.'" name="autre_plateforme-'.$i.'" size=16 /> ';		}		echo'<a id="btnMorePlateformes"> + </a></td></tr>		<script>			$(function() {				$("#btnMorePlateformes").click(function() 				{					var form, divs, newDiv, inputs, newInput;					form = $("#jeu");					inputs = form.find("input[id^=\'autre_plateforme-\']");					newInput = $(inputs[0]).clone();					newInput.insertBefore($("#btnMorePlateformes"));					newInput.attr("id", "autre_plateforme-" + (inputs.length+1));					newInput.attr("name", "autre_plateforme-" + (inputs.length+1));					var plateformes = [""';					foreach($plateformes as $plateforme)					{						echo',"'.$plateforme->getAttr('nom_plateforme').'"';					}					echo'];					$("#autre_plateforme-" + (inputs.length+1)).autocomplete({ 						source: function(request, response) {							var results = $.ui.autocomplete.filter(plateformes, request.term);														response(results.slice(0, 10));						}					});				});			});		</script>		<tr><td>Jouable avec (Exemple : Manette) : </td><td>';		$i=0;		foreach($jeu['commande'] as $com)		{			$i++;			echo'<script>			$(function() {			var commandes = [""';				foreach($commandes as $commande)				{					echo',"'.$commande->getAttr('nom_commande').'"';				}				echo'];				$("#commande-'.$i.'").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(commandes, request.term);										response(results.slice(0, 10));				}			});			});			</script>			<input value="'.$com['nom_commande'].'" id="commande-'.$i.'" name="commande-'.$i.'" size=16 />';		}		if($i==0)		{			$i++;			echo'<script>			$(function() {			var commandes = [""';				foreach($commandes as $commande)				{					echo',"'.$commande->getAttr('nom_commande').'"';				}				echo'];				$("#commande-'.$i.'").autocomplete({ 				source: function(request, response) {					var results = $.ui.autocomplete.filter(commandes, request.term);										response(results.slice(0, 10));				}			});			});			</script>			<input value="'.$com['nom_commande'].'" id="commande-'.$i.'" name="commande-'.$i.'" size=16 />';		}		echo'<a id="btnMoreCommandes"> + </a></td></tr></table>			<script>				$(function() {					$("#btnMoreCommandes").click(function() 					{						var form, divs, newDiv, inputs, newInput;						form = $("#jeu");						inputs = form.find("input[id^=\'commande-\']");						newInput = $(inputs[0]).clone();						newInput.insertBefore($("#btnMoreCommandes"));						newInput.attr("id", "commande-" + (inputs.length+1));						newInput.attr("name", "commande-" + (inputs.length+1));						newInput.attr("value", "");						var commandes = [""';						foreach($commandes as $commande)						{							echo',"'.$commande->getAttr('nom_commande').'"';						}						echo'];						$("#commande-" + (inputs.length+1)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(commandes, request.term);																response(results.slice(0, 10));							}						});					});				});			</script><input type=submit name="validerModifJeu" value="Valider" /></form>';			}			function affiche_modifier_accessoire($accessoire, $versions, $types, $editeurs, $plateformes, $regions)	{		echo '<span class="GrosTitre">Modifier un accessoire</span><br>		<form id ="accessoire" action="" method=POST enctype="multipart/form-data"><br>		<input type=hidden name="id_accessoire" id="id_accessoire" value="'.$accessoire['id_accessoire'].'" />		<table class="formulaire">		<tr><td>Nom de l\'accessoire : </td><td><input type=text name="nom_accessoire" id="nom_accessoire" value="'.$accessoire['nom_accessoire'].'" /></td></tr>		<script>		$(function() {		var plateformes = [""';			foreach($plateformes as $plateforme)			{				echo',"'.$plateforme->getAttr('nom_plateforme').'"';			}			echo'];		$("#plateforme").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(plateformes, request.term);								response(results.slice(0, 10));			}		});		});		</script>		<tr><td>Plateforme : </td><td><input type=text name="plateforme" id="plateforme"  value="'.$accessoire['nom_plateforme'].'"/></td></tr>		<script>		$(function() {		var editeurs = [""';			foreach($editeurs as $editeur)			{				echo',"'.$editeur->getAttr('nom_editeur').'"';			}			echo'];		$("#editeur").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(editeurs, request.term);								response(results.slice(0, 10));			}		});		});		</script>		<tr><td>Editeur : </td><td><input type=text name="editeur" id="editeur"  value="'.$accessoire['nom_editeur'].'"/></td></tr>		<script>		$(function() {		var types = [""';			foreach($types as $type)			{				echo',"'.$type->getAttr('nom_type_accessoire').'"';			}			echo'];		$("#type_accessoire").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(types, request.term);								response(results.slice(0, 10));			}		});		});		</script>		<tr><td>Type : </td><td><input type=text name="type_accessoire" id="type_accessoire"  value="'.$accessoire['nom_type_accessoire'].'"/></td></tr>		<tr><td>Zoné : </td><td><input type=checkbox value=1 name="zone" id="zone" '.($accessoire['zone']=="Oui"?'checked=checked':' ').'/></td></tr>		<tr><td>Remarque : </td><td><input type=text name="remarque_accessoire" id="remarque_accessoire"  value="'.$accessoire['remarque_accessoire'].'"/></td></tr></table>';		$i=1;		foreach($versions as $version)		{			echo'<div id="div_version-1"><br><br>			<input type=hidden name="id_version_accessoire-'.$i.'" id="id_version_accessoire-'.$i.'" value="'.$version['id_version_accessoire'].'"/>			<table class="formulaire">			<tr><td>Region : </td><td><input type=text name="nom_region-'.$i.'" id="nom_region-'.$i.'" value="'.$version['nom_region'].'"/> (Exemple : Europe)</td></tr>			<tr><td>Photo  : </td><td><input type=file name="photo_accessoire-'.$i.'" id="photo_accessoire-'.$i.'"/></td></tr>			<tr><td>Reference : </td><td><input type=text name="reference_accessoire-'.$i.'" id="reference_accessoire-'.$i.'" value="'.$version['ref_accessoire'].'"/></td></tr>			<tr><td>Remarque : </td><td><input type=text name="remarque_version_accessoire-'.$i.'" id="remarque_version_accessoire-'.$i.'" value="'.$version['remarque_version_accessoire'].'"/></td></tr>			<tr><td>Date de sortie : </td><td><input type=datetime name="date_sortie_accessoire-'.$i.'" id="date_sortie_accessoire-'.$i.'" value="'.$version['date_sortie_accessoire'].'"/></td></tr>			<tr><td>Prix : </td><td><input id="prix_accessoire-'.$i.'" name="prix_accessoire-'.$i.'" size=16   value="'.$version['prix_accessoire'].'"/></td></tr></table>			<script>				$(function() {										var regions = [""';							foreach($regions as $region)							{								echo',"'.$region->getAttr('nom_region').'"';							}							echo'];						$("#nom_region-'.$i.'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(regions, request.term);																response(results.slice(0, 10));							}						});						$( "#date_sortie_accessoire-'.$i.'" ).datepicker({							yearRange: "1970:'.date('Y').'",						changeMonth: true,						changeYear: true,						dateFormat: "yy-mm-dd",						maxDate: "0"						});				});			</script></div>';			$i++;		}		echo'		<a id="btnMore"> Ajouter une version </a><br>		<script>		$("#btnMore").click(function() 		{						var form, divs, newDiv, inputs, newInput, nb, btns, btn;						nb=1;						form = $("#accessoire");						divs = form.find("div[id^=\'div_version-\']");						newDiv = $(divs[0]).clone();						newDiv.attr("id", "div_version-" + (divs.length+1));						newDiv.insertBefore($("#btnMore"));						inputs = newDiv.find("input[id^=\'langue-"+(divs.length)+"-\']");						inputs = form.find("input[id^=\'nom_region-\']");						newInput = $(inputs.last());						newInput.attr("id", "nom_region-" + (divs.length+1));						newInput.attr("name", "nom_region-" + (divs.length+1));						newInput.attr("value", "");						var regions = [""';							foreach($regions as $region)							{								echo',"'.$region->getAttr('nom_region').'"';							}							echo'];						$("#nom_region-" + (divs.length+1)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(regions, request.term);																response(results.slice(0, 10));							}						});						inputs = form.find("input[id^=\'reference_accessoire-\']");						newInput = $(inputs.last());						newInput.attr("id", "reference_accessoire-" + (divs.length+1));						newInput.attr("name", "reference_accessoire-" + (divs.length+1));						newInput.attr("value", "");						inputs = form.find("input[id^=\'remarque_version_accessoire-\']");						newInput = $(inputs.last());						newInput.attr("id", "remarque_version_accessoire-" + (divs.length+1));						newInput.attr("name", "remarque_version_accessoire-" + (divs.length+1));						newInput.attr("value", "");						inputs = form.find("input[id^=\'photo_accessoire-\']");						newInput = $(inputs.last());						newInput.attr("id", "photo_accessoire-" + (divs.length+1));						newInput.attr("name", "photo_accessoire-" + (divs.length+1));						newInput.attr("value", "");						inputs = form.find("input[id^=\'prix_accessoire-\']");						newInput = $(inputs.last());						newInput.attr("id", "prix_accessoire-" + (divs.length+1));						newInput.attr("name", "prix_accessoire-" + (divs.length+1));						newInput.attr("value", "");						inputs = form.find("input[id^=\'date_sortie_accessoire-\']");						newInput = $(inputs.last());						newInput.attr("id", "date_sortie_accessoire-" + (divs.length+1));						newInput.attr("name", "date_sortie_accessoire-" + (divs.length+1));						newInput.attr("value", "");						newInput.removeClass("hasDatepicker");						newInput.datepicker({							yearRange: "1970:'.date('Y').'",							changeMonth: true,							changeYear: true,							dateFormat: "yy-mm-dd",							maxDate: "0"						});											});		</script>		<input type=submit name="validerAjoutAccessoire" value="Valider" /></form>';			}			function affiche_modifier_console($console, $versions, $editeurs, $plateformes, $regions, $accessoires, $jeux)	{		echo '<span class="GrosTitre">Modifier un console</span><br>		<form id ="console" action="" method=POST enctype="multipart/form-data"><br>		<input type=hidden name="id_console" id="id_console" value="'.$console['id_console'].'" />		<table class="formulaire">		<tr><td>Nom du pack : </td><td><input type=text name="nom_console" id="nom_console" value="'.$console['nom_console'].'" /></td></tr>		<script>		$(function() {		var plateformes = [""';			foreach($plateformes as $plateforme)			{				echo',"'.$plateforme->getAttr('nom_plateforme').'"';			}			echo'];		$("#plateforme").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(plateformes, request.term);								response(results.slice(0, 10));			}		});		});		</script>		<tr><td>Plateforme : </td><td><input type=text name="plateforme" id="plateforme"  value="'.$console['nom_plateforme'].'"/></td></tr>		<script>		$(function() {		var editeurs = [""';			foreach($editeurs as $editeur)			{				echo',"'.$editeur->getAttr('nom_editeur').'"';			}			echo'];		$("#editeur").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(editeurs, request.term);								response(results.slice(0, 10));			}		});		});		</script>		<tr><td>Editeur : </td><td><input type=text name="editeur" id="editeur"  value="'.$console['nom_editeur'].'"/></td></tr>		<tr><td>Jeu(x) inclus : </td><td>';			$j=0;			foreach($console['jeux'] as $jeu)			{				$j++;				echo'<input type=text value="'.$jeu["nom_jeu"].' ('.$jeu['nom_plateforme'].')'.'" id="jeu-'.$j.'" name="jeu-'.$j.'" size=16 />				<script>				var jeux = [""';					foreach($jeux as $je)					{						echo',"'.$je.'"';					}					echo'];				$("#jeu-'.$j.'").autocomplete({ 					source: function(request, response) {						var results = $.ui.autocomplete.filter(jeux, request.term);												response(results.slice(0, 10));					}				});			</script>';			}			if($j==0)			{				$j++;				echo'<input type=text id="jeu-'.$j.'" name="jeu-'.$j.'" size=16 />				<script>				var jeux = [""';					foreach($jeux as $je)					{						echo',"'.$je.'"';					}					echo'];				$("#jeu-'.$j.'").autocomplete({ 					source: function(request, response) {						var results = $.ui.autocomplete.filter(jeux, request.term);												response(results.slice(0, 10));					}				});				</script>';			}			echo'			<a id="btnMoreJeux"> + </a></td></tr>		<tr><td>Accessoire(s) inclus : </td><td>';			$j=0;			foreach($console['accessoires'] as $acc)			{				$j++;				echo'<input type=text value="'.$acc["nom_accessoire"].' ('.$acc['nom_plateforme'].')'.'" id="accessoire-'.$j.'" name="accessoire-'.$j.'" size=16 />				<script>				var accessoires = [""';					foreach($accessoires as $accessoire)					{						echo',"'.$accessoire.'"';					}					echo'];				$("#accessoire-'.$j.'").autocomplete({ 					source: function(request, response) {						var results = $.ui.autocomplete.filter(accessoires, request.term);												response(results.slice(0, 10));					}				});			</script>';			}			if($j==0)			{				$j++;				echo'<input type=text id="accessoire-'.$j.'" name="accessoire-'.$j.'" size=16 />				<script>				var accessoires = [""';					foreach($accessoires as $accessoire)					{						echo',"'.$accessoire.'"';					}					echo'];				$("#accessoire-'.$j.'").autocomplete({ 					source: function(request, response) {						var results = $.ui.autocomplete.filter(accessoires, request.term);												response(results.slice(0, 10));					}				});				</script>';			}			echo'			<a id="btnMoreAccessoires"> + </a></td></tr>		<tr><td>Remarque : </td><td><input type=text name="remarque_console" id="remarque_console" value="'.$console['remarque_console'].'" /></td></tr></table><br>';		$i=1;		foreach($versions as $version)		{			echo'<div id="div_version-1"><br><br>			<input type=hidden name="id_version_console-'.$i.'" id="id_version_console-'.$i.'" value="'.$version['id_version_console'].'"/>			<table class="formulaire">			<tr><td>Region : </td><td><input type=text name="nom_region-'.$i.'" id="nom_region-'.$i.'" value="'.$version['nom_region'].'"/> (Exemple : Europe)</td></tr>			<tr><td>Photo  : </td><td><input type=file name="photo_console-'.$i.'" id="photo_console-'.$i.'"/></td></tr>			<tr><td>Reference : </td><td><input type=text name="reference_console-'.$i.'" id="reference_console-'.$i.'" value="'.$version['reference_console'].'"/></td></tr>			<tr><td>Date de sortie : </td><td><input type=datetime name="date_sortie_console-'.$i.'" id="date_sortie_console-'.$i.'" value="'.$version['date_sortie_console'].'"/></td></tr>			<tr><td>Prix : </td><td><input id="prix_console-'.$i.'" name="prix_console-'.$i.'" size=16   value="'.$version['prix_console'].'"/></td></tr>			<tr><td>Reference : </td><td><input type=text name="remarque_version_console-'.$i.'" id="remarque_version_console-'.$i.'" value="'.$version['remarque_version_console'].'"/></td></tr></table>			<script>				$(function() {						var accessoires = [""';						foreach($accessoires as $accessoire)						{							echo',"'.$accessoire.'"';						}						echo'];						$("#accessoire-1").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(accessoires, request.term);								response(results.slice(0, 10));							}						});					var jeux = [""';						foreach($jeux as $jeu)						{							echo',"'.$jeu.'"';						}						echo'];						$("#jeu-1").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(jeux, request.term);								response(results.slice(0, 10));							}						});					$("#btnMoreAccessoires").click(function() 					{						var form, divs, newDiv, inputs, newInput;						form = $("#console");						inputs = form.find("input[id^=\'accessoire-\']");						newInput = $(inputs[0]).clone();						newInput.insertBefore($("#btnMoreAccessoires"));						newInput.attr("id", "accessoire-" + (inputs.length+1));						newInput.attr("name", "accessoire-" + (inputs.length+1));						newInput.attr("value", "");						$("#accessoire-" + (inputs.length+1)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(accessoires, request.term);								response(results.slice(0, 10));							}						});					});					$("#btnMoreJeux").click(function() 					{						var form, divs, newDiv, inputs, newInput;						form = $("#console");						inputs = form.find("input[id^=\'jeu-\']");						newInput = $(inputs[0]).clone();						newInput.insertBefore($("#btnMoreJeux"));						newInput.attr("id", "jeu-" + (inputs.length+1));						newInput.attr("name", "jeu-" + (inputs.length+1));						newInput.attr("value", "");						$("#jeu-" + (inputs.length+1)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(jeux, request.term);								response(results.slice(0, 10));							}						});					});						var regions = [""';							foreach($regions as $region)							{								echo',"'.$region->getAttr('nom_region').'"';							}							echo'];						$("#nom_region-'.$i.'").autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(regions, request.term);																response(results.slice(0, 10));							}						});						$( "#date_sortie_console-'.$i.'" ).datepicker({							yearRange: "1970:'.date('Y').'",						changeMonth: true,						changeYear: true,						dateFormat: "yy-mm-dd",						maxDate: "0"						});				});			</script></div>';			$i++;		}		echo'		<a id="btnMore"> Ajouter une version </a><br>		<script>		$("#btnMore").click(function() 		{						var form, divs, newDiv, inputs, newInput, nb, btns, btn;						nb=1;						form = $("#console");						divs = form.find("div[id^=\'div_version-\']");						newDiv = $(divs[0]).clone();						newDiv.attr("id", "div_version-" + (divs.length+1));						newDiv.insertBefore($("#btnMore"));						inputs = newDiv.find("input[id^=\'langue-"+(divs.length)+"-\']");						inputs = form.find("input[id^=\'nom_region-\']");						newInput = $(inputs.last());						newInput.attr("id", "nom_region-" + (divs.length+1));						newInput.attr("name", "nom_region-" + (divs.length+1));						newInput.attr("value", "");						var regions = [""';							foreach($regions as $region)							{								echo',"'.$region->getAttr('nom_region').'"';							}							echo'];						$("#nom_region-" + (divs.length+1)).autocomplete({ 							source: function(request, response) {								var results = $.ui.autocomplete.filter(regions, request.term);																response(results.slice(0, 10));							}						});						inputs = form.find("input[id^=\'reference_console-\']");						newInput = $(inputs.last());						newInput.attr("id", "reference_console-" + (divs.length+1));						newInput.attr("name", "reference_console-" + (divs.length+1));						newInput.attr("value", "");						inputs = form.find("input[id^=\'remarque_version_console-\']");						newInput = $(inputs.last());						newInput.attr("id", "remarque_version_console-" + (divs.length+1));						newInput.attr("name", "remarque_version_console-" + (divs.length+1));						newInput.attr("value", "");						inputs = form.find("input[id^=\'photo_console-\']");						newInput = $(inputs.last());						newInput.attr("id", "photo_console-" + (divs.length+1));						newInput.attr("name", "photo_console-" + (divs.length+1));						newInput.attr("value", "");						inputs = form.find("input[id^=\'prix_console-\']");						newInput = $(inputs.last());						newInput.attr("id", "prix_console-" + (divs.length+1));						newInput.attr("name", "prix_console-" + (divs.length+1));						newInput.attr("value", "");						inputs = form.find("input[id^=\'date_sortie_console-\']");						newInput = $(inputs.last());						newInput.attr("id", "date_sortie_console-" + (divs.length+1));						newInput.attr("name", "date_sortie_console-" + (divs.length+1));						newInput.attr("value", "");						newInput.removeClass("hasDatepicker");						newInput.datepicker({							yearRange: "1970:'.date('Y').'",							changeMonth: true,							changeYear: true,							dateFormat: "yy-mm-dd",							maxDate: "0"						});											});		</script>		<input type=submit name="validerAjoutConsole" value="Valider" /></form>';			}			function affiche_modifier_langue($langue)	{		echo'<div>		<div id=sousTitre>Modifier une langue</div>		<form id="aLangue" action="bddjv.php?action=adm" method=POST enctype="multipart/form-data">		<input type=text name="nom_langue"  value="'.$langue->getAttr('nom_langue').'" /><br>		<input type=file name="logo_langue" /><br>		<input type=hidden name="id_langue" value="'.$langue->getAttr('id_langue').'" /><br>		<input type=submit name="validerAjoutLangue" value="Valider" />		</form>		</div><div id="clear"></div>';					}		function affiche_modifier_support($support)	{		echo		'<div>		<div id=sousTitre>Modifier un support</div>		<form id="aSupport" action="bddjv.php?action=adm" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_support"  value="'.$support->getAttr('nom_support').'" /><br>		<input type=file NAME="logo_support" /><br>		<input type=hidden name="id_support" value="'.$support->getAttr('id_support').'" /><br>		<input type=submit name="validerAjoutSupport" value="Valider" />		</form>		</div><div id="clear"></div>';					}		function affiche_modifier_format($format)	{		echo		'<div>		<div id=sousTitre>Modifier un format</div>		<form id="aFormat" action="bddjv.php?action=adm" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_format"  value="'.$format->getAttr('nom_format').'" /><br>		<input type=file NAME="logo_format" /><br>		<input type=hidden name="id_format" value="'.$format->getAttr('id_format').'" /><br>		<input type=submit name="validerAjoutFormat" value="Valider" />		</form>		</div><div id="clear"></div>';					}		function affiche_modifier_developpeur($developpeur)	{		echo		'<div>		<div id=sousTitre>Modifier un développeur</div>		<form id="aDev" action="bddjv.php?action=adm" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_developpeur"  value="'.$developpeur->getAttr('nom_developpeur').'" /><br>		<input type=file NAME="logo_developpeur" /><br>		<input type=hidden name="id_developpeur" value="'.$developpeur->getAttr('id_developpeur').'" /><br>		<input type=submit name="validerAjoutDeveloppeur" value="Valider" />		</form>		</div><div id="clear"></div>';					}	function affiche_modifier_editeur($editeur, $description)	{		echo		'<div>		<div id=sousTitre>Modifier un editeur</div>		<form id="aEditeur" action="bddjv.php?marque='.$editeur->getAttr('id_editeur').'" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_editeur"  value="'.$editeur->getAttr('nom_editeur').'" /><br>		<input type=file NAME="logo_editeur" /><br>		<input type=hidden name="id_editeur" value="'.$editeur->getAttr('id_editeur').'" /><br>		<input type=submit name="validerAjoutEditeur" value="Valider" />		</form><br>		<form id="aDescriptionEditeur" action="" method=POST enctype="multipart/form-data">		<input type=hidden NAME="nom_editeur" id="nom_editeur" value="'.$editeur->getAttr('nom_editeur').'" /><br>		Description : <br><textarea NAME="description_editeur">'.($description==null?'':$description->getAttr('description_marque')).'</textarea><br>		<input type=submit name="validerAjoutDescriptionEditeur" value="Valider" />		</form>		</div><div id="clear"></div>';					}	function affiche_modifier_edition($edition)	{		echo		'<div>		<div id=sousTitre>Modifier une edition</div>		<form id="aEdition" action="bddjv.php?action=adm" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_edition"  value="'.$edition->getAttr('nom_edition').'" /><br>		<input type=file NAME="logo_edition" /><br>		<input type=hidden name="id_edition" value="'.$edition->getAttr('id_edition').'" /><br>		<input type=submit name="validerAjoutEdition" value="Valider" />		</form>		</div><div id="clear"></div>';					}	function affiche_modifier_plateforme($plateforme, $editeurs)	{		echo		'<div>		<div id=sousTitre>Modifier une plateforme</div>		<form id="aPlateforme" action="bddjv.php?plateforme='.$plateforme->getAttr('id_plateforme').'" method=POST enctype="multipart/form-data">		Plateforme : <input type=text NAME="nom_plateforme"  value="'.$plateforme->getAttr('nom_plateforme').'" /><br>		Description : <textarea NAME="description_plateforme">'.$plateforme->getAttr('description_plateforme').'</textarea><br>		Logo : <input type=file NAME="logo_plateforme" /><br>		<script>		$(function() {			var editeurs = [""';			foreach($editeurs as $editeur)			{				echo',"'.$editeur->getAttr('nom_editeur').'"';			}			echo'];		$("#nom_editeur").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(editeurs, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Editeur : <input type=text NAME="nom_editeur" id="nom_editeur"  value="'.Editeur::findById($plateforme->getAttr('id_editeur'))->getAttr('nom_editeur').'" /><br>		<input type=hidden name="id_plateforme" value="'.$plateforme->getAttr('id_plateforme').'" /><br>		<input type=submit name="validerAjoutPlateforme" value="Valider" />		</form>		</div><div id="clear"></div>';					}	function affiche_modifier_region($region)	{		echo		'<div>		<div id=sousTitre>Modifier une region</div>		<form id="aRegion" action="bddjv.php?action=adm" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_region"  value="'.$region->getAttr('nom_region').'" /><br>		<input type=file NAME="logo_region" /><br>		<input type=hidden name="id_region" value="'.$region->getAttr('id_region').'" /><br>		<input type=submit name="validerAjoutRegion" value="Valider" />		</form>		</div><div id="clear"></div>';					}	function affiche_modifier_commande($commande)	{		echo		'<div>		<div id=sousTitre>Modifier un contrôleur</div>		<form id="aCommande" action="bddjv.php?action=adm" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_commande"  value="'.$commande->getAttr('nom_commande').'" /><br>		<input type=file NAME="logo_commande" /><br>		<input type=hidden name="id_commande" value="'.$commande->getAttr('id_commande').'" /><br>		<input type=submit name="validerAjoutCommande" value="Valider" />		</form>		</div><div id="clear"></div>';					}	function affiche_modifier_type_jeu($type_jeu)	{		echo		'<div>		<div id=sousTitre>Modifier un type de jeux</div>		<form id="aType" action="bddjv.php?action=adm" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_type_jeu"  value="'.$type_jeu->getAttr('nom_type_jeu').'" /><br>		<input type=file NAME="logo_type_jeu" /><br>		<input type=hidden name="id_type_jeu" value="'.$type_jeu->getAttr('id_type_jeu').'" /><br>		<input type=submit name="validerAjoutTypeJeu" value="Valider" />		</form>		</div><div id="clear"></div>';					}	function affiche_modifier_type_accessoire($type_accessoire)	{		echo		'<div>		<div id=sousTitre>Modifier un type d\'accessoire</div>		<form id="aType" action="bddjv.php?action=adm" method=POST enctype="multipart/form-data">		<input type=text NAME="nom_type_accessoire"  value="'.$type_accessoire->getAttr('nom_type_accessoire').'" /><br>		<input type=file NAME="logo_type_accessoire" /><br>		<input type=hidden name="id_type_accessoire" value="'.$type_accessoire->getAttr('id_type_accessoire').'" /><br>		<input type=submit name="validerAjoutTypeAccessoire" value="Valider" />		</form>		</div><div id="clear"></div>';					}	function affiche_modifier_groupe($groupe, $groupes)	{		echo		'<div>		<div id=sousTitre>Modifier un groupe</div>		<form id="aGroupe" action="bddjv.php?action=adm" method=POST enctype="multipart/form-data">		<input type=hidden name="id_groupe" value="'.$groupe->getAttr('id_groupe').'" /><br>		Nom : <input type=text NAME="nom_groupe"  value="'.$groupe->getAttr('nom_groupe').'" /><br>		Logo : <input type=file NAME="logo_groupe" /><br>		<script>		$(function() {			var groupes = [""';			foreach($groupes as $groupe)			{				echo',"'.$groupe->getAttr('nom_groupe').'"';			}			echo'];		$("#groupe_parent").autocomplete({ 			source: function(request, response) {				var results = $.ui.autocomplete.filter(groupes, request.term);								response(results.slice(0, 10));			}		});		});		</script>		Groupe parent : <input type=text NAME="groupe_parent" id="groupe_parent"  value="'.Groupe::findById($groupe->getAttr('id_groupe_parent'))->getAttr('nom_groupe').'" /><br>		<input type=submit name="validerAjoutGroupe" value="Valider" />		</form>		</div><div id="clear"></div>';					}	?>